import{u as v,r as i,o as k,c as p,e,g as h,j as w,f as b,q as j,k as g,A as _,b as n,C as S,E as c}from"./index-DuGRLDmX.js";const I={class:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500"},E={class:"grid grid-cols-1 gap-8"},z={class:"bg-white dark:bg-[#141414] rounded-xl border border-gray-200 dark:border-gray-800 shadow-sm overflow-hidden"},A={class:"p-6"},D={class:"max-w-md space-y-4"},M={class:"flex gap-3"},N=["disabled"],C=["disabled"],P={key:0,class:"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin"},$={key:0,class:"mt-2 text-xs text-amber-600 dark:text-amber-400 flex items-center gap-1"},V={class:"bg-white dark:bg-[#141414] rounded-xl border border-gray-200 dark:border-gray-800 shadow-sm overflow-hidden"},B={class:"p-6 space-y-6"},T={class:"flex items-center justify-between"},U={__name:"Settings",setup(q){const m=v(),r=i(localStorage.getItem("app_name")||"Monitoring Digitek"),o=i(localStorage.getItem("project_id")||null),l=i(!1),u=i("Viewer"),x=async()=>{try{const{data:a}=await n.get(`/profiles?id=eq.${m.user.id}&select=role,project_id`,{headers:{Accept:"application/vnd.pgrst.object+json"}});u.value=a?.role||"Viewer",a?.project_id&&(o.value=a.project_id,localStorage.setItem("project_id",a.project_id))}catch(a){console.error("Error fetching profile:",a)}},y=async()=>{try{const a=o.value||m.user?.project_id||1,{data:t}=await n.get(`/projects?id=eq.${a}&select=*&limit=1`);if(t&&t.length>0){const s=t[0];r.value=s.name,o.value=s.id,localStorage.setItem("project_id",s.id),localStorage.setItem("app_name",s.name),window.dispatchEvent(new CustomEvent("app-name-updated",{detail:s.name}))}}catch(a){console.error("Error fetching project info:",a)}},d=S(()=>["Super Admin"].includes(u.value)),f=async()=>{if(!d.value){alert("Hanya Super Admin yang dapat mengubah nama proyek.");return}if(!r.value.trim()){alert("Nama proyek tidak boleh kosong.");return}l.value=!0;try{if(o.value)await n.patch(`/projects?id=eq.${o.value}`,{name:r.value.trim()});else{const{data:a}=await n.post("/projects",{name:r.value.trim()},{headers:{Prefer:"return=representation"}});a&&a.length>0&&(o.value=a[0].id,localStorage.setItem("project_id",a[0].id))}localStorage.setItem("app_name",r.value.trim()),window.dispatchEvent(new CustomEvent("app-name-updated",{detail:r.value.trim()})),alert("Nama proyek berhasil diperbarui!")}catch(a){console.error("Error updating project name:",a),alert("Gagal memperbarui nama proyek: "+(a.response?.data?.message||a.message))}finally{l.value=!1}};return k(()=>{x(),y()}),(a,t)=>(c(),p("div",I,[t[11]||(t[11]=e("div",{class:"flex flex-col gap-1"},[e("h2",{class:"text-[#121417] dark:text-white text-3xl font-extrabold leading-tight tracking-tight"}," System Settings "),e("p",{class:"text-[#646f82] dark:text-gray-400 text-base font-normal"}," Manage application preferences and configuration. ")],-1)),e("div",E,[e("section",z,[t[5]||(t[5]=e("div",{class:"px-6 py-5 border-b border-gray-100 dark:border-gray-800 flex items-center gap-3"},[e("div",{class:"size-10 rounded-lg bg-emerald-50 dark:bg-emerald-500/10 flex items-center justify-center"},[e("span",{class:"material-symbols-outlined text-emerald-600 dark:text-emerald-400"},"info")]),e("h3",{class:"text-lg font-bold text-[#121417] dark:text-white"}," General Information ")],-1)),e("div",A,[e("div",D,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-semibold text-[#121417] dark:text-white mb-2"}," Log Name / Project Title ",-1)),e("div",M,[h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),type:"text",disabled:!d.value,class:"flex-1 bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-gray-700 rounded-lg py-2.5 px-4 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Masukkan nama proyek..."},null,8,N),[[w,r.value]]),e("button",{onClick:f,disabled:l.value||!d.value,class:"bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 text-white px-6 py-2.5 rounded-lg text-sm font-bold shadow-lg shadow-emerald-900/10 transition-all flex items-center gap-2"},[l.value?(c(),p("span",P)):b("",!0),t[2]||(t[2]=e("span",null,"Update",-1))],8,C)]),d.value?b("",!0):(c(),p("p",$,[...t[3]||(t[3]=[e("span",{class:"material-symbols-outlined text-xs"},"warning",-1),j(" Hanya akun dengan role Super Admin yang dapat mengubah nama proyek. ",-1)])]))])])])]),e("section",V,[t[9]||(t[9]=e("div",{class:"px-6 py-5 border-b border-gray-100 dark:border-gray-800 flex items-center gap-3"},[e("div",{class:"size-10 rounded-lg bg-blue-50 dark:bg-blue-500/10 flex items-center justify-center"},[e("span",{class:"material-symbols-outlined text-blue-600 dark:text-blue-400"},"palette")]),e("h3",{class:"text-lg font-bold text-[#121417] dark:text-white"}," Appearance ")],-1)),e("div",B,[e("div",T,[t[8]||(t[8]=e("div",null,[e("p",{class:"text-sm font-semibold text-[#121417] dark:text-white"},"Interface Theme"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Kustomisasi tampilan aplikasi sesuai keinginan Anda.")],-1)),e("div",{class:"relative flex items-center bg-gray-100 dark:bg-[#1a1a1a] rounded-lg p-1 border border-gray-200 dark:border-gray-700 w-[180px] h-10 overflow-hidden cursor-pointer",onClick:t[1]||(t[1]=s=>a.$emit("toggleDarkMode"))},[e("div",{class:g(["absolute top-1 bottom-1 w-[calc(50%-4px)] rounded-md transition-all duration-300 ease-in-out shadow-sm",[a.$parent.isDarkMode?"translate-x-[calc(100%+4px)] bg-gray-800":"translate-x-0 bg-white"]])},null,2),e("div",{class:g(["relative flex-1 flex items-center justify-center gap-2 text-sm font-semibold transition-colors duration-300 z-10",[a.$parent.isDarkMode?"text-gray-500":"text-amber-500"]])},[...t[6]||(t[6]=[e("span",{class:"material-symbols-outlined text-[20px]"},"light_mode",-1),e("span",null,"Light",-1)])],2),e("div",{class:g(["relative flex-1 flex items-center justify-center gap-2 text-sm font-semibold transition-colors duration-300 z-10",[a.$parent.isDarkMode?"text-emerald-400":"text-gray-500"]])},[...t[7]||(t[7]=[e("span",{class:"material-symbols-outlined text-[20px]"},"dark_mode",-1),e("span",null,"Dark",-1)])],2)])])])]),t[10]||(t[10]=_('<section class="bg-white dark:bg-[#141414] rounded-xl border border-gray-200 dark:border-gray-800 shadow-sm overflow-hidden"><div class="px-6 py-5 border-b border-gray-100 dark:border-gray-800 flex items-center gap-3"><div class="size-10 rounded-lg bg-purple-50 dark:bg-purple-500/10 flex items-center justify-center"><span class="material-symbols-outlined text-purple-600 dark:text-purple-400">language</span></div><h3 class="text-lg font-bold text-[#121417] dark:text-white"> Language </h3></div><div class="p-6"><div class="max-w-xs"><label class="block text-sm font-semibold text-[#121417] dark:text-white mb-2">Pilih Bahasa</label><select class="w-full bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-gray-700 rounded-lg py-2.5 px-4 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500/20 outline-none transition-all"><option value="id">Bahasa Indonesia</option><option value="en">English (Coming Soon)</option></select></div></div></section><section class="bg-white dark:bg-[#141414] rounded-xl border border-gray-200 dark:border-gray-800 shadow-sm overflow-hidden"><div class="px-6 py-5 border-b border-gray-100 dark:border-gray-800 flex items-center gap-3"><div class="size-10 rounded-lg bg-orange-50 dark:bg-orange-500/10 flex items-center justify-center"><span class="material-symbols-outlined text-orange-600 dark:text-orange-400">help</span></div><h3 class="text-lg font-bold text-[#121417] dark:text-white"> Help &amp; Support </h3></div><div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-4"><a href="#" class="flex items-start gap-4 p-4 rounded-xl border border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-all group"><div class="size-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center group-hover:bg-emerald-500 group-hover:text-white transition-all"><span class="material-symbols-outlined">description</span></div><div><p class="text-sm font-bold text-[#121417] dark:text-white">Dokumentasi</p><p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Baca panduan dan referensi API.</p></div></a><a href="#" class="flex items-start gap-4 p-4 rounded-xl border border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-all group"><div class="size-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center group-hover:bg-emerald-500 group-hover:text-white transition-all"><span class="material-symbols-outlined">support_agent</span></div><div><p class="text-sm font-bold text-[#121417] dark:text-white">Hubungi Support</p><p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Dapatkan bantuan teknis dari tim kami.</p></div></a></div></section>',2))])]))}};export{U as default};
