import{u as G,r as u,o as H,c as o,b as e,x as D,p as y,e as x,f as c,g as b,l as j,F as I,m as E,k as l,j as w,z as N,C as m,B as K,D as d,y as Q}from"./index-iUCVLCcX.js";const W={class:"max-w-[1600px] mx-auto space-y-6"},X={key:0,class:"space-y-6 animate-in fade-in duration-300"},Y={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Z={class:"flex flex-col md:flex-row gap-4"},ee={class:"flex-1 relative"},te={class:"flex gap-4"},se=["value"],ae={class:"bg-white dark:bg-[#141414] rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm overflow-hidden min-h-[400px]"},re={key:0,class:"flex flex-col items-center justify-center py-20 gap-3"},le={key:1,class:"overflow-x-auto"},oe={class:"w-full text-left border-collapse"},de={class:"divide-y divide-slate-100 dark:divide-gray-800 text-sm"},ne={key:0},ie=["onClick"],ue={class:"px-6 py-5 text-slate-500 dark:text-slate-400"},pe={class:"px-6 py-5"},ce={class:"inline-flex items-center gap-1.5 border border-blue-500/30 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 text-[11px] font-bold px-2.5 py-1 rounded-full"},xe={class:"px-6 py-5 text-slate-900 dark:text-slate-200 whitespace-nowrap"},be={class:"px-6 py-5 font-bold text-slate-900 dark:text-slate-200"},ge={class:"px-6 py-5"},me={class:"px-6 py-5 text-slate-600 dark:text-slate-400 text-sm max-w-[200px]"},fe=["title"],ke=["title"],ve={class:"px-6 py-5 text-slate-900 dark:text-slate-200"},ye={class:"px-6 py-5"},we={class:"px-6 py-5 text-right"},he={key:0,class:"flex items-center justify-end gap-2"},_e=["onClick"],Ve=["onClick"],je={key:1,class:"max-w-5xl mx-auto space-y-6 animate-in slide-in-from-right-4 duration-300"},Ce={class:"flex items-center justify-between"},Ae={key:0,class:"flex gap-2"},Pe={class:"bg-white dark:bg-[#141414] rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm overflow-hidden"},Se={class:"bg-slate-50 dark:bg-[#1a1a1a]/50 px-6 py-4 border-b border-slate-200 dark:border-gray-800 flex flex-wrap items-center gap-4"},Me={class:"flex items-center gap-3 mr-auto"},De={class:"inline-flex items-center px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm font-bold border border-blue-500/20"},Ie={class:"text-xl font-bold text-slate-900 dark:text-white"},Ee={class:"p-6 grid grid-cols-1 md:grid-cols-4 gap-6 border-b border-slate-100 dark:border-gray-800"},Ue={class:"space-y-1"},Te={class:"text-sm font-semibold text-slate-900 dark:text-white"},Be={class:"space-y-1"},Fe={class:"text-sm font-semibold text-slate-900 dark:text-white"},Re={class:"space-y-1"},ze={class:"flex items-center gap-2"},Le={class:"text-sm font-semibold text-slate-900 dark:text-white"},Ne={class:"space-y-1"},Qe={class:"flex items-center gap-2"},$e={class:"w-6 h-6 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-[10px] font-bold text-emerald-600"},qe={class:"text-sm font-semibold text-slate-900 dark:text-white"},Je={class:"p-6 space-y-6"},Oe={class:"space-y-3"},Ge={class:"p-4 bg-slate-50 dark:bg-[#1a1a1a] rounded-lg border border-slate-100 dark:border-gray-800"},He={class:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-wrap"},Ke={key:0,class:"space-y-3"},We={class:"p-4 bg-amber-50/50 dark:bg-amber-900/10 rounded-lg border border-amber-100 dark:border-amber-900/20"},Xe={class:"text-sm text-slate-700 dark:text-slate-300 italic"},Ye={key:2,class:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm"},Ze={class:"bg-white dark:bg-[#141414] w-full max-w-lg rounded-2xl shadow-2xl border border-slate-200 dark:border-gray-800 overflow-hidden animate-in zoom-in duration-200"},et={class:"px-6 py-4 border-b border-slate-100 dark:border-gray-800 flex items-center justify-between bg-slate-50 dark:bg-[#1a1a1a]/50"},tt={class:"font-bold text-slate-800 dark:text-white"},st={class:"p-6 space-y-4"},at={class:"grid grid-cols-2 gap-4"},rt={class:"space-y-1.5"},lt={class:"space-y-1.5"},ot={class:"grid grid-cols-2 gap-4"},dt={class:"space-y-1.5"},nt={class:"space-y-1.5"},it={class:"grid grid-cols-2 gap-4"},ut={class:"space-y-1.5"},pt=["value"],ct={class:"space-y-1.5"},xt={class:"grid grid-cols-2 gap-4"},bt={class:"space-y-1.5"},gt={class:"space-y-1.5"},mt={class:"space-y-1.5"},ft={class:"px-6 py-4 border-t border-slate-100 dark:border-gray-800 flex items-center justify-end gap-3 bg-slate-50 dark:bg-[#1a1a1a]/50"},kt=["disabled"],vt={key:0,class:"animate-spin size-4 border-2 border-white/30 border-t-white rounded-full"},ht={__name:"VersionControl",setup(yt){const p=G(),U=u([]),T=u(["Semua Modul"]),C=u([]),f=u(""),h=u("Semua Modul"),A=u(!0),_=u(null),P=u("list"),n=u(null),k=u(!1),V=u(!1),v=u(!1),r=u({id:null,version_number:"",title:"",details:"",change_type:"Feature",component_id:"",release_date:new Date().toISOString().split("T")[0],status:"Pending QA",notes:"",pic_name:""}),B=async()=>{try{const a=p.user?.project_id||1,{data:t,error:s}=await m.from("projects").select("id").eq("id",a).single();t&&(_.value=t.id)}catch(a){console.error("Error fetching project:",a)}},S=async()=>{A.value=!0;try{const a=p.user?.project_id||1;let t=m.from("version_logs").select("*, app_components(id, name)").eq("project_id",a).order("release_date",{ascending:!1});const{data:s,error:g}=await t;if(g)throw g;U.value=s.map(i=>({id:i.id,version:i.version_number,date:i.release_date,module:i.app_components?.name||"General",type:i.change_type,description:i.title,pic:i.pic_name||"N/A",status:i.status||"Pending QA",notes:i.notes||"-",raw:i}))}catch(a){console.error("Error fetching versions:",a.message)}finally{A.value=!1}},$=async()=>{try{const a=p.user?.project_id||1,{data:t,error:s}=await m.from("app_components").select("id, name").eq("project_id",a).order("name");if(s)throw s;t&&(C.value=t,T.value=["Semua Modul",...t.map(g=>g.name)])}catch(a){console.error("Error fetching modules:",a.message)}},M=(a=null)=>{if(["Viewer"].includes(p.user?.role)){alert("Anda tidak memiliki izin untuk melakukan aksi ini.");return}a?(v.value=!0,r.value={id:a.raw.id,version_number:a.raw.version_number,title:a.raw.title,details:a.raw.details,change_type:a.raw.change_type,component_id:a.raw.component_id,release_date:a.raw.release_date,status:a.raw.status||"Pending QA",notes:a.raw.notes||"",pic_name:a.raw.pic_name||""}):(v.value=!1,r.value={id:null,version_number:"",title:"",details:"",change_type:"Feature",component_id:C.value[0]?.id||"",release_date:new Date().toISOString().split("T")[0],status:"Pending QA",notes:"",pic_name:""}),k.value=!0},q=async()=>{if(!p.user){alert("Anda harus login untuk menyimpan data.");return}if(!_.value&&(await B(),!_.value)){alert("Error: Data project tidak ditemukan. Pastikan tabel projects memiliki data.");return}V.value=!0;try{const a={...r.value,component_id:r.value.component_id||null,project_id:p.user?.project_id||_.value||1,pic_id:p.user?.id};if(console.log("Saving version with payload:",a),v.value){const{error:t}=await m.from("version_logs").update(a).eq("id",r.value.id);if(t)throw t}else{const{error:t}=await m.from("version_logs").insert([a]);if(t)throw t}k.value=!1,S()}catch(a){console.error("Error saving version:",a),a.code==="42501"?alert("Error: Izin ditolak (RLS). Pastikan Anda memiliki hak akses yang cukup di database."):alert("Error saving version: "+(a.message||"Unknown error"))}finally{V.value=!1}},J=async a=>{if(["Viewer"].includes(p.user?.role)){alert("Anda tidak memiliki izin untuk menghapus data.");return}if(confirm("Apakah Anda yakin ingin menghapus data versi ini?"))try{const{error:t}=await m.from("version_logs").delete().eq("id",a);if(t)throw t;S()}catch(t){alert("Error deleting version: "+t.message)}},F=(a,t=null)=>{P.value=a,t?n.value=t:n.value=null},R=a=>{switch(a){case"Done":return"border-emerald-500/30 bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400";case"In Progress":return"border-blue-500/30 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400";case"Pending QA":return"border-amber-500/30 bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400";case"Rejected":return"border-rose-500/30 bg-rose-50 text-rose-600 dark:bg-rose-900/20 dark:text-rose-400";default:return"border-slate-500/30 bg-slate-50 text-slate-600 dark:bg-slate-900/20 dark:text-slate-400"}};H(()=>{B(),S(),$()});const z=K(()=>U.value.filter(a=>{const t=a.version.toLowerCase().includes(f.value.toLowerCase())||a.module.toLowerCase().includes(f.value.toLowerCase())||a.description.toLowerCase().includes(f.value.toLowerCase()),s=h.value==="Semua Modul"||a.module===h.value;return t&&s})),O=a=>{switch(a){case"Feature":return"border-emerald-500/30 bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400";case"Bugfix":return"border-rose-500/30 bg-rose-50 text-rose-600 dark:bg-rose-900/20 dark:text-rose-400";case"Refactor":return"border-amber-500/30 bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400";default:return"border-slate-500/30 bg-slate-50 text-slate-600 dark:bg-slate-900/20 dark:text-slate-400"}},L=a=>{switch(a){case"Feature":return"bg-emerald-500";case"Bugfix":return"bg-rose-500";case"Refactor":return"bg-amber-500";default:return"bg-slate-500"}};return(a,t)=>(d(),o("div",W,[P.value==="list"?(d(),o("div",X,[e("div",Y,[t[17]||(t[17]=e("h3",{class:"text-xl font-bold text-slate-900 dark:text-white"},"Manajemen Versi",-1)),["Super Admin","Admin","Editor"].includes(D(p).user?.role)?(d(),o("button",{key:0,onClick:t[0]||(t[0]=s=>M()),class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-900/20"},[...t[16]||(t[16]=[e("span",{class:"material-symbols-outlined text-[18px]"},"add",-1),y(" Tambah Data Versi ",-1)])])):x("",!0)]),e("div",Z,[e("div",ee,[t[18]||(t[18]=e("span",{class:"material-symbols-outlined absolute left-3 top-2.5 text-slate-400"},"search",-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),type:"text",placeholder:"Cari versi, modul, atau deskripsi...",class:"w-full bg-white dark:bg-[#141414] border border-slate-200 dark:border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none transition-all"},null,512),[[b,f.value]])]),e("div",te,[c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>h.value=s),class:"bg-white dark:bg-[#141414] border border-slate-200 dark:border-gray-800 rounded-lg px-4 py-2.5 text-sm text-slate-700 dark:text-slate-300 outline-none focus:ring-2 focus:ring-emerald-500 cursor-pointer"},[(d(!0),o(I,null,E(T.value,s=>(d(),o("option",{key:s,value:s},l(s),9,se))),128))],512),[[j,h.value]])])]),e("div",ae,[A.value?(d(),o("div",re,[...t[19]||(t[19]=[e("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-emerald-600"},null,-1),e("p",{class:"text-slate-500 text-sm animate-pulse"},"Memuat data versi...",-1)])])):(d(),o("div",le,[e("table",oe,[t[23]||(t[23]=e("thead",null,[e("tr",{class:"bg-slate-50 dark:bg-[#1a1a1a]/50 border-b border-slate-200 dark:border-gray-800"},[e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"No"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Versi"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Tanggal Rilis"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Modul"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Jenis"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Deskripsi"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"PIC"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Status"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 text-right"},"Aksi")])],-1)),e("tbody",de,[z.value.length===0?(d(),o("tr",ne,[...t[20]||(t[20]=[e("td",{colspan:"9",class:"px-6 py-12 text-center text-slate-400 italic"},"Data versi tidak ditemukan.",-1)])])):x("",!0),(d(!0),o(I,null,E(z.value,(s,g)=>(d(),o("tr",{key:s.id,onClick:i=>F("detail",s),class:"group hover:bg-slate-50 dark:hover:bg-[#1a1a1a]/50 transition-colors cursor-pointer"},[e("td",ue,l(g+1),1),e("td",pe,[e("span",ce,l(s.version),1)]),e("td",xe,l(s.date),1),e("td",be,l(s.module),1),e("td",ge,[e("span",{class:w([O(s.type),"inline-flex items-center gap-1.5 border text-[10px] font-bold px-2.5 py-1 rounded-full uppercase tracking-wide"])},[e("span",{class:w([L(s.type),"size-1.5 rounded-full"])},null,2),y(" "+l(s.type),1)],2)]),e("td",me,[e("div",{class:"font-medium text-slate-900 dark:text-white truncate",title:s.description},l(s.description),9,fe),e("div",{class:"text-[11px] truncate mt-0.5",title:s.raw.details},l(s.raw.details),9,ke)]),e("td",ve,l(s.pic),1),e("td",ye,[e("span",{class:w([R(s.status),"px-2 py-1 text-[10px] font-bold rounded border uppercase tracking-wider"])},l(s.status),3)]),e("td",we,[["Super Admin","Admin","Editor"].includes(D(p).user?.role)?(d(),o("div",he,[e("button",{onClick:Q(i=>M(s),["stop"]),class:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Edit"},[...t[21]||(t[21]=[e("span",{class:"material-symbols-outlined text-[20px]"},"edit",-1)])],8,_e),e("button",{onClick:Q(i=>J(s.id),["stop"]),class:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",title:"Hapus"},[...t[22]||(t[22]=[e("span",{class:"material-symbols-outlined text-[20px]"},"delete",-1)])],8,Ve)])):x("",!0)])],8,ie))),128))])])]))])])):P.value==="detail"&&n.value?(d(),o("div",je,[e("div",Ce,[e("button",{onClick:t[3]||(t[3]=s=>F("list")),class:"flex items-center gap-2 text-sm text-gray-500 hover:text-emerald-600 transition-colors group"},[...t[24]||(t[24]=[e("span",{class:"material-symbols-outlined text-sm group-hover:-translate-x-1 transition-transform"},"arrow_back",-1),e("span",null,"Kembali ke Daftar",-1)])]),["Super Admin","Admin","Editor"].includes(D(p).user?.role)?(d(),o("div",Ae,[e("button",{onClick:t[4]||(t[4]=s=>M(n.value)),class:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-[#1e1e1e] border border-gray-200 dark:border-gray-800 rounded-lg text-sm font-bold text-slate-700 dark:text-slate-200 hover:bg-gray-50 dark:hover:bg-[#252525] transition-all shadow-sm"},[...t[25]||(t[25]=[e("span",{class:"material-symbols-outlined text-[18px]"},"edit",-1),e("span",null,"Edit Versi",-1)])])])):x("",!0)]),e("div",Pe,[e("div",Se,[e("div",Me,[e("span",De,l(n.value.version),1),e("h2",Ie,l(n.value.description),1)]),e("span",{class:w([R(n.value.status),"px-3 py-1 rounded-full text-[10px] font-bold uppercase border tracking-wider"])},l(n.value.status),3)]),e("div",Ee,[e("div",Ue,[t[26]||(t[26]=e("p",{class:"text-[10px] uppercase tracking-widest text-slate-500 font-bold"},"Modul / Area",-1)),e("p",Te,l(n.value.module),1)]),e("div",Be,[t[27]||(t[27]=e("p",{class:"text-[10px] uppercase tracking-widest text-slate-500 font-bold"},"Tanggal Rilis",-1)),e("p",Fe,l(n.value.date),1)]),e("div",Re,[t[28]||(t[28]=e("p",{class:"text-[10px] uppercase tracking-widest text-slate-500 font-bold"},"Jenis Perubahan",-1)),e("div",ze,[e("span",{class:w([L(n.value.type),"size-2 rounded-full"])},null,2),e("p",Le,l(n.value.type),1)])]),e("div",Ne,[t[29]||(t[29]=e("p",{class:"text-[10px] uppercase tracking-widest text-slate-500 font-bold"},"PIC",-1)),e("div",Qe,[e("div",$e,l(n.value.pic?.charAt(0)),1),e("p",qe,l(n.value.pic),1)])])]),e("div",Je,[e("div",Oe,[t[30]||(t[30]=e("h4",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest flex items-center gap-2"},[e("span",{class:"material-symbols-outlined text-sm"},"description"),y(" Detail Perubahan ")],-1)),e("div",Ge,[e("p",He,l(n.value.raw.details||"Tidak ada detail tambahan."),1)])]),n.value.notes?(d(),o("div",Ke,[t[31]||(t[31]=e("h4",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest flex items-center gap-2"},[e("span",{class:"material-symbols-outlined text-sm"},"sticky_note_2"),y(" Catatan Internal ")],-1)),e("div",We,[e("p",Xe,l(n.value.notes),1)])])):x("",!0)])]),t[32]||(t[32]=N('<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-4"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-bold text-black dark:text-white">Forum Diskusi</h3><span class="px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded-md text-[10px] font-bold text-black dark:text-gray-300"> 0 Pesan </span></div><div class="bg-white dark:bg-[#141414] p-8 rounded-xl border border-slate-200 dark:border-gray-800 flex flex-col items-center justify-center text-center space-y-3 min-h-[200px] opacity-60"><span class="material-symbols-outlined text-4xl text-slate-300">forum</span><p class="text-slate-500 text-sm font-medium">Forum diskusi untuk versi ini akan segera tersedia.</p><p class="text-slate-400 text-[11px]">Anda dapat berdiskusi mengenai implementasi fitur ini di sini nantinya.</p></div></div><div class="space-y-4"><h3 class="text-lg font-bold text-black dark:text-white flex items-center gap-2"><span class="material-symbols-outlined text-sm">history</span> Riwayat Aktivitas </h3><div class="bg-white dark:bg-[#141414] p-8 rounded-xl border border-slate-200 dark:border-gray-800 flex flex-col items-center justify-center text-center space-y-3 opacity-60"><span class="material-symbols-outlined text-4xl text-slate-300">history</span><p class="text-slate-500 text-sm font-medium">Belum ada riwayat aktivitas.</p></div></div></div>',1))])):x("",!0),k.value?(d(),o("div",Ye,[e("div",Ze,[e("div",et,[e("h4",tt,l(v.value?"Edit Versi":"Tambah Versi Baru"),1),e("button",{onClick:t[5]||(t[5]=s=>k.value=!1),class:"text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors"},[...t[33]||(t[33]=[e("span",{class:"material-symbols-outlined"},"close",-1)])])]),e("div",st,[e("div",at,[e("div",rt,[t[34]||(t[34]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Nomor Versi",-1)),c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>r.value.version_number=s),type:"text",placeholder:"e.g. v1.0.2",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[b,r.value.version_number]])]),e("div",lt,[t[35]||(t[35]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Tanggal Rilis",-1)),c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>r.value.release_date=s),type:"text",placeholder:"e.g. 2026-02-15 atau Menunggu PM",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[b,r.value.release_date]])])]),e("div",ot,[e("div",dt,[t[36]||(t[36]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Judul / Fitur Utama",-1)),c(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>r.value.title=s),type:"text",placeholder:"Apa yang baru?",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[b,r.value.title]])]),e("div",nt,[t[37]||(t[37]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"PIC (Penanggung Jawab)",-1)),c(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>r.value.pic_name=s),type:"text",placeholder:"e.g. Adi",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[b,r.value.pic_name]])])]),e("div",it,[e("div",ut,[t[39]||(t[39]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Modul Terkait",-1)),c(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>r.value.component_id=s),class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},[t[38]||(t[38]=e("option",{value:""},"Umum / Sidebar",-1)),(d(!0),o(I,null,E(C.value,s=>(d(),o("option",{key:s.id,value:s.id},l(s.name),9,pt))),128))],512),[[j,r.value.component_id]])]),e("div",ct,[t[41]||(t[41]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Jenis Perubahan",-1)),c(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>r.value.change_type=s),class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},[...t[40]||(t[40]=[N('<option value="New Feature">New Feature</option><option value="Improvement">Improvement</option><option value="Bug Fix">Bug Fix</option><option value="Refactor">Refactor</option><option value="Maintenance">Maintenance</option>',5)])],512),[[j,r.value.change_type]])])]),e("div",xt,[e("div",bt,[t[43]||(t[43]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Status",-1)),c(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>r.value.status=s),class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},[...t[42]||(t[42]=[e("option",{value:"Pending QA"},"Pending QA",-1),e("option",{value:"In Progress"},"In Progress",-1),e("option",{value:"Done"},"Done",-1),e("option",{value:"Rejected"},"Rejected",-1)])],512),[[j,r.value.status]])]),e("div",gt,[t[44]||(t[44]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Catatan",-1)),c(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>r.value.notes=s),type:"text",placeholder:"-",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[b,r.value.notes]])])]),e("div",mt,[t[45]||(t[45]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Detail Lengkap Perubahan",-1)),c(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=s=>r.value.details=s),rows:"2",placeholder:"Jelaskan detail perubahan secara mendalam...",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none resize-none"},null,512),[[b,r.value.details]])])]),e("div",ft,[e("button",{onClick:t[15]||(t[15]=s=>k.value=!1),class:"px-4 py-2 text-sm font-bold text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors"},"Batal"),e("button",{onClick:q,disabled:V.value,class:"px-6 py-2 text-sm font-bold text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 transition-all disabled:opacity-50 flex items-center gap-2"},[V.value?(d(),o("span",vt)):x("",!0),y(" "+l(v.value?"Update Versi":"Simpan Versi"),1)],8,kt)])])])):x("",!0)]))}};export{ht as default};
