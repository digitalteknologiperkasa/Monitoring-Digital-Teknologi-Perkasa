import{u as Y,o as q,r as u,w as Z,c as d,e,y as A,q as k,f as b,g as p,j as g,m as P,F as S,p as M,l as r,k as m,A as J,D as f,C as ee,E as n,z as D}from"./index-DZ9UnXEw.js";const te={class:"max-w-[1600px] mx-auto space-y-6"},se={key:0,class:"space-y-6 animate-in fade-in duration-300"},ae={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},re={class:"flex flex-col md:flex-row gap-4"},le={class:"flex-1 relative"},oe={class:"flex gap-4"},de=["value"],ne={class:"bg-white dark:bg-[#141414] rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm overflow-hidden min-h-[400px]"},ie={key:0,class:"flex flex-col items-center justify-center py-20 gap-3"},ue={key:1,class:"overflow-x-auto"},ce={class:"w-full text-left border-collapse"},pe={class:"divide-y divide-slate-100 dark:divide-gray-800 text-sm"},xe={key:0},be=["onClick"],ge={class:"px-6 py-5 text-slate-500 dark:text-slate-400"},me={class:"px-6 py-5"},fe={class:"inline-flex items-center gap-1.5 border border-blue-500/30 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 text-[11px] font-bold px-2.5 py-1 rounded-full"},ke={class:"px-6 py-5 text-slate-900 dark:text-slate-200 whitespace-nowrap"},ve={class:"px-6 py-5 font-bold text-slate-900 dark:text-slate-200"},ye={class:"px-6 py-5"},we={class:"px-6 py-5 text-slate-600 dark:text-slate-400 text-sm max-w-[200px]"},he=["title"],_e=["title"],Ce={class:"px-6 py-5 text-slate-900 dark:text-slate-200"},Ve={class:"px-6 py-5 relative status-dropdown-container"},je={class:"flex items-center gap-2"},Ae=["onClick"],Pe={key:0,class:"absolute left-6 top-14 z-50 w-48 bg-white dark:bg-[#1e1e1e] rounded-lg shadow-xl border border-slate-200 dark:border-gray-700 py-1 animate-in fade-in zoom-in duration-200"},Se=["onClick"],Me={class:"px-6 py-5 text-right"},De={key:0,class:"flex items-center justify-end gap-2"},Ee=["onClick"],Ie=["onClick"],Ue={key:1,class:"max-w-5xl mx-auto space-y-6 animate-in slide-in-from-right-4 duration-300"},Te={class:"flex items-center justify-between"},ze={key:0,class:"flex gap-2"},Fe={class:"bg-white dark:bg-[#141414] rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm overflow-hidden"},Re={class:"bg-slate-50 dark:bg-[#1a1a1a]/50 px-6 py-4 border-b border-slate-200 dark:border-gray-800 flex flex-wrap items-center gap-4"},Be={class:"flex items-center gap-3 mr-auto"},Le={class:"inline-flex items-center px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm font-bold border border-blue-500/20"},$e={class:"text-xl font-bold text-slate-900 dark:text-white"},Ne={class:"p-6 grid grid-cols-1 md:grid-cols-4 gap-6 border-b border-slate-100 dark:border-gray-800"},Qe={class:"space-y-1"},qe={class:"text-sm font-semibold text-slate-900 dark:text-white"},Je={class:"space-y-1"},Oe={class:"text-sm font-semibold text-slate-900 dark:text-white"},Ge={class:"space-y-1"},He={class:"flex items-center gap-2"},Ke={class:"text-sm font-semibold text-slate-900 dark:text-white"},We={class:"space-y-1"},Xe={class:"flex items-center gap-2"},Ye={class:"w-6 h-6 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-[10px] font-bold text-emerald-600"},Ze={class:"text-sm font-semibold text-slate-900 dark:text-white"},et={class:"p-6 space-y-6"},tt={class:"space-y-3"},st={class:"p-4 bg-slate-50 dark:bg-[#1a1a1a] rounded-lg border border-slate-100 dark:border-gray-800"},at={class:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-wrap"},rt={key:0,class:"space-y-3"},lt={class:"p-4 bg-amber-50/50 dark:bg-amber-900/10 rounded-lg border border-amber-100 dark:border-amber-900/20"},ot={class:"text-sm text-slate-700 dark:text-slate-300 italic"},dt={key:2,class:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm"},nt={class:"bg-white dark:bg-[#141414] w-full max-w-lg rounded-2xl shadow-2xl border border-slate-200 dark:border-gray-800 overflow-hidden animate-in zoom-in duration-200"},it={class:"px-6 py-4 border-b border-slate-100 dark:border-gray-800 flex items-center justify-between bg-slate-50 dark:bg-[#1a1a1a]/50"},ut={class:"font-bold text-slate-800 dark:text-white"},ct={class:"p-6 space-y-4"},pt={class:"grid grid-cols-2 gap-4"},xt={class:"space-y-1.5"},bt={class:"space-y-1.5"},gt={class:"grid grid-cols-2 gap-4"},mt={class:"space-y-1.5"},ft={class:"space-y-1.5"},kt={class:"grid grid-cols-2 gap-4"},vt={class:"space-y-1.5"},yt=["value"],wt={class:"space-y-1.5"},ht={class:"grid grid-cols-2 gap-4"},_t={class:"space-y-1.5"},Ct={class:"space-y-1.5"},Vt={class:"space-y-1.5"},jt={class:"px-6 py-4 border-t border-slate-100 dark:border-gray-800 flex items-center justify-end gap-3 bg-slate-50 dark:bg-[#1a1a1a]/50"},At=["disabled"],Pt={key:0,class:"animate-spin size-4 border-2 border-white/30 border-t-white rounded-full"},Et={__name:"VersionControl",setup(St){const c=Y(),E=u([]),B=u(["Semua Modul"]),I=u([]),v=u(""),_=u("Semua Modul"),U=u(!0),C=u(null),T=u("list"),i=u(null),y=u(!1),V=u(!1),w=u(!1),h=u(null),O=["Pending QA","In Progress","Done","Rejected"],G=a=>{h.value=h.value===a?null:a};q(()=>{document.addEventListener("click",a=>{a.target.closest(".status-dropdown-container")||(h.value=null)})});const H=async(a,t)=>{try{const{error:s}=await f.from("version_logs").update({status:t}).eq("id",a);if(s)throw s;const x=E.value.find(o=>o.id===a);x&&(x.status=t,x.raw.status=t),h.value=null}catch(s){console.error("Error updating status:",s),alert("Gagal memperbarui status: "+s.message)}},l=u({id:null,version_number:"",title:"",details:"",change_type:"Feature",component_id:"",release_date:new Date().toISOString().split("T")[0],status:"Pending QA",notes:"",pic_name:""}),z=async()=>{try{const a=c.user?.project_id||1,{data:t,error:s}=await f.from("projects").select("id").eq("id",a).single();t&&(C.value=t.id)}catch(a){console.error("Error fetching project:",a)}},j=async()=>{U.value=!0;try{const a=c.user?.project_id||1;let t=f.from("version_logs").select("*, app_components(id, name)").eq("project_id",a).order("created_at",{ascending:!1});const{data:s,error:x}=await t;if(x)throw x;E.value=s.map(o=>({id:o.id,version:o.version_number,date:o.release_date,module:o.app_components?.name||"General",type:o.change_type,description:o.title,pic:o.pic_name||"N/A",status:o.status||"Pending QA",notes:o.notes||"-",raw:o}))}catch(a){console.error("Error fetching versions:",a.message)}finally{U.value=!1}},L=async()=>{try{const a=c.user?.project_id||1,{data:t,error:s}=await f.from("app_components").select("id, name").eq("project_id",a).order("name");if(s)throw s;t&&(I.value=t,B.value=["Semua Modul",...t.map(x=>x.name)])}catch(a){console.error("Error fetching modules:",a.message)}},F=(a=null)=>{if(["Viewer"].includes(c.user?.role)){alert("Anda tidak memiliki izin untuk melakukan aksi ini.");return}a?(w.value=!0,l.value={id:a.raw.id,version_number:a.raw.version_number,title:a.raw.title,details:a.raw.details,change_type:a.raw.change_type,component_id:a.raw.component_id,release_date:a.raw.release_date,status:a.raw.status||"Pending QA",notes:a.raw.notes||"",pic_name:a.raw.pic_name||""}):(w.value=!1,l.value={id:null,version_number:"",title:"",details:"",change_type:"Feature",component_id:I.value[0]?.id||"",release_date:new Date().toISOString().split("T")[0],status:"Pending QA",notes:"",pic_name:""}),y.value=!0},K=async()=>{if(!c.user){alert("Anda harus login untuk menyimpan data.");return}if(!C.value&&(await z(),!C.value)){alert("Error: Data project tidak ditemukan. Pastikan tabel projects memiliki data.");return}V.value=!0;try{const a={...l.value,component_id:l.value.component_id||null,project_id:c.user?.project_id||C.value||1,pic_id:c.user?.id};if(a.id||delete a.id,console.log("Saving version with payload:",a),w.value){const{error:t}=await f.from("version_logs").update(a).eq("id",l.value.id);if(t)throw t}else{const{error:t}=await f.from("version_logs").insert([a]);if(t)throw t}y.value=!1,j()}catch(a){console.error("Error saving version:",a),a.code==="42501"?alert("Error: Izin ditolak (RLS). Pastikan Anda memiliki hak akses yang cukup di database."):alert("Error saving version: "+(a.message||"Unknown error"))}finally{V.value=!1}},W=async a=>{if(["Viewer"].includes(c.user?.role)){alert("Anda tidak memiliki izin untuk menghapus data.");return}if(confirm("Apakah Anda yakin ingin menghapus data versi ini?"))try{const{error:t}=await f.from("version_logs").delete().eq("id",a);if(t)throw t;j()}catch(t){alert("Error deleting version: "+t.message)}},$=(a,t=null)=>{T.value=a,t?i.value=t:i.value=null},R=a=>{switch(a){case"Done":return"border-emerald-500/30 bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400";case"In Progress":return"border-blue-500/30 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400";case"Pending QA":return"border-amber-500/30 bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400";case"Rejected":return"border-rose-500/30 bg-rose-50 text-rose-600 dark:bg-rose-900/20 dark:text-rose-400";default:return"border-slate-500/30 bg-slate-50 text-slate-600 dark:bg-slate-900/20 dark:text-slate-400"}};q(()=>{z(),j(),L()}),Z(()=>c.user,a=>{a&&(z(),j(),L())});const N=ee(()=>E.value.filter(a=>{const t=a.version.toLowerCase().includes(v.value.toLowerCase())||a.module.toLowerCase().includes(v.value.toLowerCase())||a.description.toLowerCase().includes(v.value.toLowerCase()),s=_.value==="Semua Modul"||a.module===_.value;return t&&s})),X=a=>{switch(a){case"Feature":return"border-emerald-500/30 bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400";case"Bugfix":return"border-rose-500/30 bg-rose-50 text-rose-600 dark:bg-rose-900/20 dark:text-rose-400";case"Refactor":return"border-amber-500/30 bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400";default:return"border-slate-500/30 bg-slate-50 text-slate-600 dark:bg-slate-900/20 dark:text-slate-400"}},Q=a=>{switch(a){case"Feature":return"bg-emerald-500";case"Bugfix":return"bg-rose-500";case"Refactor":return"bg-amber-500";default:return"bg-slate-500"}};return(a,t)=>(n(),d("div",te,[T.value==="list"?(n(),d("div",se,[e("div",ae,[t[17]||(t[17]=e("h3",{class:"text-xl font-bold text-slate-900 dark:text-white"},"Manajemen Versi",-1)),["Super Admin","Admin","Editor"].includes(A(c).user?.role)?(n(),d("button",{key:0,onClick:t[0]||(t[0]=s=>F()),class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-900/20"},[...t[16]||(t[16]=[e("span",{class:"material-symbols-outlined text-[18px]"},"add",-1),k(" Tambah Data Versi ",-1)])])):b("",!0)]),e("div",re,[e("div",le,[t[18]||(t[18]=e("span",{class:"material-symbols-outlined absolute left-3 top-2.5 text-slate-400"},"search",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>v.value=s),type:"text",placeholder:"Cari versi, modul, atau deskripsi...",class:"w-full bg-white dark:bg-[#141414] border border-slate-200 dark:border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none transition-all"},null,512),[[g,v.value]])]),e("div",oe,[p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>_.value=s),class:"bg-white dark:bg-[#141414] border border-slate-200 dark:border-gray-800 rounded-lg px-4 py-2.5 text-sm text-slate-700 dark:text-slate-300 outline-none focus:ring-2 focus:ring-emerald-500 cursor-pointer"},[(n(!0),d(S,null,M(B.value,s=>(n(),d("option",{key:s,value:s},r(s),9,de))),128))],512),[[P,_.value]])])]),e("div",ne,[U.value?(n(),d("div",ie,[...t[19]||(t[19]=[e("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-emerald-600"},null,-1),e("p",{class:"text-slate-500 text-sm animate-pulse"},"Memuat data versi...",-1)])])):(n(),d("div",ue,[e("table",ce,[t[24]||(t[24]=e("thead",null,[e("tr",{class:"bg-slate-50 dark:bg-[#1a1a1a]/50 border-b border-slate-200 dark:border-gray-800"},[e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"No"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Versi"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Tanggal Rilis"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Modul"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Jenis Perubahan"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Deskripsi"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"PIC"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Status"),e("th",{class:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 text-right"},"Aksi")])],-1)),e("tbody",pe,[N.value.length===0?(n(),d("tr",xe,[...t[20]||(t[20]=[e("td",{colspan:"9",class:"px-6 py-12 text-center text-slate-400 italic"},"Data versi tidak ditemukan.",-1)])])):b("",!0),(n(!0),d(S,null,M(N.value,(s,x)=>(n(),d("tr",{key:s.id,onClick:o=>$("detail",s),class:"group hover:bg-slate-50 dark:hover:bg-[#1a1a1a]/50 transition-colors cursor-pointer"},[e("td",ge,r(x+1),1),e("td",me,[e("span",fe,r(s.version),1)]),e("td",ke,r(s.date),1),e("td",ve,r(s.module),1),e("td",ye,[e("span",{class:m([X(s.type),"inline-flex items-center gap-1.5 border text-[10px] font-bold px-2.5 py-1 rounded-full uppercase tracking-wide"])},[e("span",{class:m([Q(s.type),"size-1.5 rounded-full"])},null,2),k(" "+r(s.type),1)],2)]),e("td",we,[e("div",{class:"font-medium text-slate-900 dark:text-white truncate",title:s.description},r(s.description),9,he),e("div",{class:"text-[11px] truncate mt-0.5",title:s.raw.details},r(s.raw.details),9,_e)]),e("td",Ce,r(s.pic),1),e("td",Ve,[e("div",je,[e("span",{class:m([R(s.status),"px-2 py-1 text-[10px] font-bold rounded border uppercase tracking-wider"])},r(s.status),3),["Super Admin","Admin","Editor"].includes(A(c).user?.role)?(n(),d("button",{key:0,onClick:D(o=>G(s.id),["stop"]),class:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors"},[...t[21]||(t[21]=[e("span",{class:"material-symbols-outlined text-[16px]"},"expand_more",-1)])],8,Ae)):b("",!0)]),h.value===s.id?(n(),d("div",Pe,[(n(),d(S,null,M(O,o=>e("button",{key:o,onClick:D(Mt=>H(s.id,o),["stop"]),class:m(["w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 flex items-center gap-2",{"bg-slate-50 dark:bg-slate-800 font-medium":s.status===o}])},[e("span",{class:m([R(o),"w-2 h-2 rounded-full block border-0"])},null,2),k(" "+r(o),1)],10,Se)),64))])):b("",!0)]),e("td",Me,[["Super Admin","Admin","Editor"].includes(A(c).user?.role)?(n(),d("div",De,[e("button",{onClick:D(o=>F(s),["stop"]),class:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Edit"},[...t[22]||(t[22]=[e("span",{class:"material-symbols-outlined text-[20px]"},"edit",-1)])],8,Ee),e("button",{onClick:D(o=>W(s.id),["stop"]),class:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",title:"Hapus"},[...t[23]||(t[23]=[e("span",{class:"material-symbols-outlined text-[20px]"},"delete",-1)])],8,Ie)])):b("",!0)])],8,be))),128))])])]))])])):T.value==="detail"&&i.value?(n(),d("div",Ue,[e("div",Te,[e("button",{onClick:t[3]||(t[3]=s=>$("list")),class:"flex items-center gap-2 text-sm text-gray-500 hover:text-emerald-600 transition-colors group"},[...t[25]||(t[25]=[e("span",{class:"material-symbols-outlined text-sm group-hover:-translate-x-1 transition-transform"},"arrow_back",-1),e("span",null,"Kembali ke Daftar",-1)])]),["Super Admin","Admin","Editor"].includes(A(c).user?.role)?(n(),d("div",ze,[e("button",{onClick:t[4]||(t[4]=s=>F(i.value)),class:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-[#1e1e1e] border border-gray-200 dark:border-gray-800 rounded-lg text-sm font-bold text-slate-700 dark:text-slate-200 hover:bg-gray-50 dark:hover:bg-[#252525] transition-all shadow-sm"},[...t[26]||(t[26]=[e("span",{class:"material-symbols-outlined text-[18px]"},"edit",-1),e("span",null,"Edit Versi",-1)])])])):b("",!0)]),e("div",Fe,[e("div",Re,[e("div",Be,[e("span",Le,r(i.value.version),1),e("h2",$e,r(i.value.description),1)]),e("span",{class:m([R(i.value.status),"px-3 py-1 rounded-full text-[10px] font-bold uppercase border tracking-wider"])},r(i.value.status),3)]),e("div",Ne,[e("div",Qe,[t[27]||(t[27]=e("p",{class:"text-[10px] uppercase tracking-widest text-slate-500 font-bold"},"Modul / Area",-1)),e("p",qe,r(i.value.module),1)]),e("div",Je,[t[28]||(t[28]=e("p",{class:"text-[10px] uppercase tracking-widest text-slate-500 font-bold"},"Tanggal Rilis",-1)),e("p",Oe,r(i.value.date),1)]),e("div",Ge,[t[29]||(t[29]=e("p",{class:"text-[10px] uppercase tracking-widest text-slate-500 font-bold"},"Jenis Perubahan",-1)),e("div",He,[e("span",{class:m([Q(i.value.type),"size-2 rounded-full"])},null,2),e("p",Ke,r(i.value.type),1)])]),e("div",We,[t[30]||(t[30]=e("p",{class:"text-[10px] uppercase tracking-widest text-slate-500 font-bold"},"PIC",-1)),e("div",Xe,[e("div",Ye,r(i.value.pic?.charAt(0)),1),e("p",Ze,r(i.value.pic),1)])])]),e("div",et,[e("div",tt,[t[31]||(t[31]=e("h4",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest flex items-center gap-2"},[e("span",{class:"material-symbols-outlined text-sm"},"description"),k(" Detail Perubahan ")],-1)),e("div",st,[e("p",at,r(i.value.raw.details||"Tidak ada detail tambahan."),1)])]),i.value.notes?(n(),d("div",rt,[t[32]||(t[32]=e("h4",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest flex items-center gap-2"},[e("span",{class:"material-symbols-outlined text-sm"},"sticky_note_2"),k(" Catatan Internal ")],-1)),e("div",lt,[e("p",ot,r(i.value.notes),1)])])):b("",!0)])]),t[33]||(t[33]=J('<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-4"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-bold text-black dark:text-white">Forum Diskusi</h3><span class="px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded-md text-[10px] font-bold text-black dark:text-gray-300"> 0 Pesan </span></div><div class="bg-white dark:bg-[#141414] p-8 rounded-xl border border-slate-200 dark:border-gray-800 flex flex-col items-center justify-center text-center space-y-3 min-h-[200px] opacity-60"><span class="material-symbols-outlined text-4xl text-slate-300">forum</span><p class="text-slate-500 text-sm font-medium">Forum diskusi untuk versi ini akan segera tersedia.</p><p class="text-slate-400 text-[11px]">Anda dapat berdiskusi mengenai implementasi fitur ini di sini nantinya.</p></div></div><div class="space-y-4"><h3 class="text-lg font-bold text-black dark:text-white flex items-center gap-2"><span class="material-symbols-outlined text-sm">history</span> Riwayat Aktivitas </h3><div class="bg-white dark:bg-[#141414] p-8 rounded-xl border border-slate-200 dark:border-gray-800 flex flex-col items-center justify-center text-center space-y-3 opacity-60"><span class="material-symbols-outlined text-4xl text-slate-300">history</span><p class="text-slate-500 text-sm font-medium">Belum ada riwayat aktivitas.</p></div></div></div>',1))])):b("",!0),y.value?(n(),d("div",dt,[e("div",nt,[e("div",it,[e("h4",ut,r(w.value?"Edit Versi":"Tambah Versi Baru"),1),e("button",{onClick:t[5]||(t[5]=s=>y.value=!1),class:"text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors"},[...t[34]||(t[34]=[e("span",{class:"material-symbols-outlined"},"close",-1)])])]),e("div",ct,[e("div",pt,[e("div",xt,[t[35]||(t[35]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Nomor Versi",-1)),p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.version_number=s),type:"text",placeholder:"e.g. v1.0.2",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[g,l.value.version_number]])]),e("div",bt,[t[36]||(t[36]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Tanggal Rilis",-1)),p(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.value.release_date=s),type:"text",placeholder:"e.g. 2026-02-15 atau Menunggu PM",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[g,l.value.release_date]])])]),e("div",gt,[e("div",mt,[t[37]||(t[37]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Judul / Fitur Utama",-1)),p(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l.value.title=s),type:"text",placeholder:"Apa yang baru?",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[g,l.value.title]])]),e("div",ft,[t[38]||(t[38]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"PIC (Penanggung Jawab)",-1)),p(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l.value.pic_name=s),type:"text",placeholder:"e.g. Adi",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[g,l.value.pic_name]])])]),e("div",kt,[e("div",vt,[t[40]||(t[40]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Modul Terkait",-1)),p(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>l.value.component_id=s),class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},[t[39]||(t[39]=e("option",{value:""},"Umum / Sidebar",-1)),(n(!0),d(S,null,M(I.value,s=>(n(),d("option",{key:s.id,value:s.id},r(s.name),9,yt))),128))],512),[[P,l.value.component_id]])]),e("div",wt,[t[42]||(t[42]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Jenis Perubahan",-1)),p(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>l.value.change_type=s),class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},[...t[41]||(t[41]=[J('<option value="New Feature">New Feature</option><option value="Improvement">Improvement</option><option value="Bug Fix">Bug Fix</option><option value="Refactor">Refactor</option><option value="Maintenance">Maintenance</option>',5)])],512),[[P,l.value.change_type]])])]),e("div",ht,[e("div",_t,[t[44]||(t[44]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Status",-1)),p(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>l.value.status=s),class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},[...t[43]||(t[43]=[e("option",{value:"Pending QA"},"Pending QA",-1),e("option",{value:"In Progress"},"In Progress",-1),e("option",{value:"Done"},"Done",-1),e("option",{value:"Rejected"},"Rejected",-1)])],512),[[P,l.value.status]])]),e("div",Ct,[t[45]||(t[45]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Catatan",-1)),p(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>l.value.notes=s),type:"text",placeholder:"-",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"},null,512),[[g,l.value.notes]])])]),e("div",Vt,[t[46]||(t[46]=e("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider"},"Detail Lengkap Perubahan",-1)),p(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=s=>l.value.details=s),rows:"2",placeholder:"Jelaskan detail perubahan secara mendalam...",class:"w-full bg-slate-50 dark:bg-[#1c1c1c] border border-slate-200 dark:border-gray-800 rounded-lg py-2 px-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none resize-none"},null,512),[[g,l.value.details]])])]),e("div",jt,[e("button",{onClick:t[15]||(t[15]=s=>y.value=!1),class:"px-4 py-2 text-sm font-bold text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors"},"Batal"),e("button",{onClick:K,disabled:V.value,class:"px-6 py-2 text-sm font-bold text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 transition-all disabled:opacity-50 flex items-center gap-2"},[V.value?(n(),d("span",Pt)):b("",!0),k(" "+r(w.value?"Update Versi":"Simpan Versi"),1)],8,At)])])])):b("",!0)]))}};export{Et as default};
