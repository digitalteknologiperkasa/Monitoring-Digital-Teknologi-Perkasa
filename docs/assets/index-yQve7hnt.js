const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AccessControl-D10mnkcB.js","assets/AccessControl-BEqVBUNI.css","assets/Reports-B2NFgNSO.js","assets/Reports-BEtfRM32.css","assets/FeatureManagement-CEULF1ik.js","assets/FeatureManagement-CN8loHoF.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function ho(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const ye={},Wr=[],Nt=()=>{},$l=()=>!1,jn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fo=e=>e.startsWith("onUpdate:"),Ne=Object.assign,po=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},td=Object.prototype.hasOwnProperty,fe=(e,t)=>td.call(e,t),G=Array.isArray,Gr=e=>Bs(e)==="[object Map]",rs=e=>Bs(e)==="[object Set]",Vo=e=>Bs(e)==="[object Date]",ne=e=>typeof e=="function",Re=e=>typeof e=="string",$t=e=>typeof e=="symbol",ge=e=>e!==null&&typeof e=="object",Dl=e=>(ge(e)||ne(e))&&ne(e.then)&&ne(e.catch),Ll=Object.prototype.toString,Bs=e=>Ll.call(e),rd=e=>Bs(e).slice(8,-1),Ul=e=>Bs(e)==="[object Object]",Nn=e=>Re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fs=ho(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$n=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},sd=/-\w/g,ft=$n(e=>e.replace(sd,t=>t.slice(1).toUpperCase())),nd=/\B([A-Z])/g,cr=$n(e=>e.replace(nd,"-$1").toLowerCase()),Dn=$n(e=>e.charAt(0).toUpperCase()+e.slice(1)),ai=$n(e=>e?`on${Dn(e)}`:""),or=(e,t)=>!Object.is(e,t),un=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Bl=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},Ln=e=>{const t=parseFloat(e);return isNaN(t)?e:t},id=e=>{const t=Re(e)?Number(e):NaN;return isNaN(t)?e:t};let Ho;const Un=()=>Ho||(Ho=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yr(e){if(G(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],n=Re(s)?cd(s):Yr(s);if(n)for(const i in n)t[i]=n[i]}return t}else if(Re(e)||ge(e))return e}const od=/;(?![^(]*\))/g,ad=/:([^]+)/,ld=/\/\*[^]*?\*\//g;function cd(e){const t={};return e.replace(ld,"").split(od).forEach(r=>{if(r){const s=r.split(ad);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ct(e){let t="";if(Re(e))t=e;else if(G(e))for(let r=0;r<e.length;r++){const s=ct(e[r]);s&&(t+=s+" ")}else if(ge(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const ud="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dd=ho(ud);function Ml(e){return!!e||e===""}function hd(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=Cr(e[s],t[s]);return r}function Cr(e,t){if(e===t)return!0;let r=Vo(e),s=Vo(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=$t(e),s=$t(t),r||s)return e===t;if(r=G(e),s=G(t),r||s)return r&&s?hd(e,t):!1;if(r=ge(e),s=ge(t),r||s){if(!r||!s)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Cr(e[o],t[o]))return!1}}return String(e)===String(t)}function go(e,t){return e.findIndex(r=>Cr(r,t))}const Fl=e=>!!(e&&e.__v_isRef===!0),te=e=>Re(e)?e:e==null?"":G(e)||ge(e)&&(e.toString===Ll||!ne(e.toString))?Fl(e)?te(e.value):JSON.stringify(e,ql,2):String(e),ql=(e,t)=>Fl(t)?ql(e,t.value):Gr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,n],i)=>(r[li(s,i)+" =>"]=n,r),{})}:rs(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>li(r))}:$t(t)?li(t):ge(t)&&!G(t)&&!Ul(t)?String(t):t,li=(e,t="")=>{var r;return $t(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};let Be;class Vl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Be,!t&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Be;try{return Be=this,t()}finally{Be=r}}}on(){++this._on===1&&(this.prevScope=Be,Be=this)}off(){this._on>0&&--this._on===0&&(Be=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Hl(e){return new Vl(e)}function Kl(){return Be}function fd(e,t=!1){Be&&Be.cleanups.push(e)}let ve;const ci=new WeakSet;class Wl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Be&&Be.active&&Be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ci.has(this)&&(ci.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ko(this),Jl(this);const t=ve,r=bt;ve=this,bt=!0;try{return this.fn()}finally{Yl(this),ve=t,bt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)bo(t);this.deps=this.depsTail=void 0,Ko(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ci.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ni(this)&&this.run()}get dirty(){return Ni(this)}}let Gl=0,ps,gs;function zl(e,t=!1){if(e.flags|=8,t){e.next=gs,gs=e;return}e.next=ps,ps=e}function mo(){Gl++}function yo(){if(--Gl>0)return;if(gs){let t=gs;for(gs=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;ps;){let t=ps;for(ps=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function Jl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yl(e){let t,r=e.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),bo(s),pd(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}e.deps=t,e.depsTail=r}function Ni(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Xl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Xl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ks)||(e.globalVersion=ks,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ni(e))))return;e.flags|=2;const t=e.dep,r=ve,s=bt;ve=e,bt=!0;try{Jl(e);const n=e.fn(e._value);(t.version===0||or(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ve=r,bt=s,Yl(e),e.flags&=-3}}function bo(e,t=!1){const{dep:r,prevSub:s,nextSub:n}=e;if(s&&(s.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)bo(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function pd(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let bt=!0;const Ql=[];function Wt(){Ql.push(bt),bt=!1}function Gt(){const e=Ql.pop();bt=e===void 0?!0:e}function Ko(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=ve;ve=void 0;try{t()}finally{ve=r}}}let ks=0;class gd{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _o{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ve||!bt||ve===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ve)r=this.activeLink=new gd(ve,this),ve.deps?(r.prevDep=ve.depsTail,ve.depsTail.nextDep=r,ve.depsTail=r):ve.deps=ve.depsTail=r,Zl(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=ve.depsTail,r.nextDep=void 0,ve.depsTail.nextDep=r,ve.depsTail=r,ve.deps===r&&(ve.deps=s)}return r}trigger(t){this.version++,ks++,this.notify(t)}notify(t){mo();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{yo()}}}function Zl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Zl(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const bn=new WeakMap,Rr=Symbol(""),$i=Symbol(""),As=Symbol("");function Fe(e,t,r){if(bt&&ve){let s=bn.get(e);s||bn.set(e,s=new Map);let n=s.get(r);n||(s.set(r,n=new _o),n.map=s,n.key=r),n.track()}}function qt(e,t,r,s,n,i){const o=bn.get(e);if(!o){ks++;return}const a=l=>{l&&l.trigger()};if(mo(),t==="clear")o.forEach(a);else{const l=G(e),c=l&&Nn(r);if(l&&r==="length"){const u=Number(s);o.forEach((d,h)=>{(h==="length"||h===As||!$t(h)&&h>=u)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(As)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Rr)),Gr(e)&&a(o.get($i)));break;case"delete":l||(a(o.get(Rr)),Gr(e)&&a(o.get($i)));break;case"set":Gr(e)&&a(o.get(Rr));break}}yo()}function md(e,t){const r=bn.get(e);return r&&r.get(t)}function Ir(e){const t=de(e);return t===e?t:(Fe(t,"iterate",As),it(e)?t:t.map(_t))}function Bn(e){return Fe(e=de(e),"iterate",As),e}function er(e,t){return zt(e)?Xr(Kt(e)?_t(t):t):_t(t)}const yd={__proto__:null,[Symbol.iterator](){return ui(this,Symbol.iterator,e=>er(this,e))},concat(...e){return Ir(this).concat(...e.map(t=>G(t)?Ir(t):t))},entries(){return ui(this,"entries",e=>(e[1]=er(this,e[1]),e))},every(e,t){return Dt(this,"every",e,t,void 0,arguments)},filter(e,t){return Dt(this,"filter",e,t,r=>r.map(s=>er(this,s)),arguments)},find(e,t){return Dt(this,"find",e,t,r=>er(this,r),arguments)},findIndex(e,t){return Dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Dt(this,"findLast",e,t,r=>er(this,r),arguments)},findLastIndex(e,t){return Dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return di(this,"includes",e)},indexOf(...e){return di(this,"indexOf",e)},join(e){return Ir(this).join(e)},lastIndexOf(...e){return di(this,"lastIndexOf",e)},map(e,t){return Dt(this,"map",e,t,void 0,arguments)},pop(){return os(this,"pop")},push(...e){return os(this,"push",e)},reduce(e,...t){return Wo(this,"reduce",e,t)},reduceRight(e,...t){return Wo(this,"reduceRight",e,t)},shift(){return os(this,"shift")},some(e,t){return Dt(this,"some",e,t,void 0,arguments)},splice(...e){return os(this,"splice",e)},toReversed(){return Ir(this).toReversed()},toSorted(e){return Ir(this).toSorted(e)},toSpliced(...e){return Ir(this).toSpliced(...e)},unshift(...e){return os(this,"unshift",e)},values(){return ui(this,"values",e=>er(this,e))}};function ui(e,t,r){const s=Bn(e),n=s[t]();return s!==e&&!it(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const bd=Array.prototype;function Dt(e,t,r,s,n,i){const o=Bn(e),a=o!==e&&!it(e),l=o[t];if(l!==bd[t]){const d=l.apply(e,i);return a?_t(d):d}let c=r;o!==e&&(a?c=function(d,h){return r.call(this,er(e,d),h,e)}:r.length>2&&(c=function(d,h){return r.call(this,d,h,e)}));const u=l.call(o,c,s);return a&&n?n(u):u}function Wo(e,t,r,s){const n=Bn(e);let i=r;return n!==e&&(it(e)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,e)}):i=function(o,a,l){return r.call(this,o,er(e,a),l,e)}),n[t](i,...s)}function di(e,t,r){const s=de(e);Fe(s,"iterate",As);const n=s[t](...r);return(n===-1||n===!1)&&Mn(r[0])?(r[0]=de(r[0]),s[t](...r)):n}function os(e,t,r=[]){Wt(),mo();const s=de(e)[t].apply(e,r);return yo(),Gt(),s}const _d=ho("__proto__,__v_isRef,__isVue"),ec=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($t));function vd(e){$t(e)||(e=String(e));const t=de(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class tc{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Cd:ic:i?nc:sc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=G(t);if(!n){let l;if(o&&(l=yd[r]))return l;if(r==="hasOwnProperty")return vd}const a=Reflect.get(t,r,ke(t)?t:s);if(($t(r)?ec.has(r):_d(r))||(n||Fe(t,"get",r),i))return a;if(ke(a)){const l=o&&Nn(r)?a:a.value;return n&&ge(l)?Li(l):l}return ge(a)?n?Li(a):Ms(a):a}}class rc extends tc{constructor(t=!1){super(!1,t)}set(t,r,s,n){let i=t[r];const o=G(t)&&Nn(r);if(!this._isShallow){const c=zt(i);if(!it(s)&&!zt(s)&&(i=de(i),s=de(s)),!o&&ke(i)&&!ke(s))return c||(i.value=s),!0}const a=o?Number(r)<t.length:fe(t,r),l=Reflect.set(t,r,s,ke(t)?t:n);return t===de(n)&&(a?or(s,i)&&qt(t,"set",r,s):qt(t,"add",r,s)),l}deleteProperty(t,r){const s=fe(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&s&&qt(t,"delete",r,void 0),n}has(t,r){const s=Reflect.has(t,r);return(!$t(r)||!ec.has(r))&&Fe(t,"has",r),s}ownKeys(t){return Fe(t,"iterate",G(t)?"length":Rr),Reflect.ownKeys(t)}}class wd extends tc{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Sd=new rc,Ed=new wd,xd=new rc(!0);const Di=e=>e,Xs=e=>Reflect.getPrototypeOf(e);function kd(e,t,r){return function(...s){const n=this.__v_raw,i=de(n),o=Gr(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=n[e](...s),u=r?Di:t?Xr:_t;return!t&&Fe(i,"iterate",l?$i:Rr),Ne(Object.create(c),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}}})}}function Qs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ad(e,t){const r={get(n){const i=this.__v_raw,o=de(i),a=de(n);e||(or(n,a)&&Fe(o,"get",n),Fe(o,"get",a));const{has:l}=Xs(o),c=t?Di:e?Xr:_t;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&Fe(de(n),"iterate",Rr),n.size},has(n){const i=this.__v_raw,o=de(i),a=de(n);return e||(or(n,a)&&Fe(o,"has",n),Fe(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=de(a),c=t?Di:e?Xr:_t;return!e&&Fe(l,"iterate",Rr),a.forEach((u,d)=>n.call(i,c(u),c(d),o))}};return Ne(r,e?{add:Qs("add"),set:Qs("set"),delete:Qs("delete"),clear:Qs("clear")}:{add(n){!t&&!it(n)&&!zt(n)&&(n=de(n));const i=de(this);return Xs(i).has.call(i,n)||(i.add(n),qt(i,"add",n,n)),this},set(n,i){!t&&!it(i)&&!zt(i)&&(i=de(i));const o=de(this),{has:a,get:l}=Xs(o);let c=a.call(o,n);c||(n=de(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?or(i,u)&&qt(o,"set",n,i):qt(o,"add",n,i),this},delete(n){const i=de(this),{has:o,get:a}=Xs(i);let l=o.call(i,n);l||(n=de(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&qt(i,"delete",n,void 0),c},clear(){const n=de(this),i=n.size!==0,o=n.clear();return i&&qt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=kd(n,e,t)}),r}function vo(e,t){const r=Ad(e,t);return(s,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(fe(r,n)&&n in s?r:s,n,i)}const Rd={get:vo(!1,!1)},Td={get:vo(!1,!0)},Od={get:vo(!0,!1)};const sc=new WeakMap,nc=new WeakMap,ic=new WeakMap,Cd=new WeakMap;function Pd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Id(e){return e.__v_skip||!Object.isExtensible(e)?0:Pd(rd(e))}function Ms(e){return zt(e)?e:wo(e,!1,Sd,Rd,sc)}function oc(e){return wo(e,!1,xd,Td,nc)}function Li(e){return wo(e,!0,Ed,Od,ic)}function wo(e,t,r,s,n){if(!ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Id(e);if(i===0)return e;const o=n.get(e);if(o)return o;const a=new Proxy(e,i===2?s:r);return n.set(e,a),a}function Kt(e){return zt(e)?Kt(e.__v_raw):!!(e&&e.__v_isReactive)}function zt(e){return!!(e&&e.__v_isReadonly)}function it(e){return!!(e&&e.__v_isShallow)}function Mn(e){return e?!!e.__v_raw:!1}function de(e){const t=e&&e.__v_raw;return t?de(t):e}function So(e){return!fe(e,"__v_skip")&&Object.isExtensible(e)&&Bl(e,"__v_skip",!0),e}const _t=e=>ge(e)?Ms(e):e,Xr=e=>ge(e)?Li(e):e;function ke(e){return e?e.__v_isRef===!0:!1}function Se(e){return ac(e,!1)}function jd(e){return ac(e,!0)}function ac(e,t){return ke(e)?e:new Nd(e,t)}class Nd{constructor(t,r){this.dep=new _o,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:de(t),this._value=r?t:_t(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||it(t)||zt(t);t=s?t:de(t),or(t,r)&&(this._rawValue=t,this._value=s?t:_t(t),this.dep.trigger())}}function ut(e){return ke(e)?e.value:e}const $d={get:(e,t,r)=>t==="__v_raw"?e:ut(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const n=e[t];return ke(n)&&!ke(r)?(n.value=r,!0):Reflect.set(e,t,r,s)}};function lc(e){return Kt(e)?e:new Proxy(e,$d)}function Dd(e){const t=G(e)?new Array(e.length):{};for(const r in e)t[r]=Ud(e,r);return t}class Ld{constructor(t,r,s){this._object=t,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=de(t);let n=!0,i=t;if(!G(t)||!Nn(String(r)))do n=!Mn(i)||it(i);while(n&&(i=i.__v_raw));this._shallow=n}get value(){let t=this._object[this._key];return this._shallow&&(t=ut(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&ke(this._raw[this._key])){const r=this._object[this._key];if(ke(r)){r.value=t;return}}this._object[this._key]=t}get dep(){return md(this._raw,this._key)}}function Ud(e,t,r){return new Ld(e,t,r)}class Bd{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new _o(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ks-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ve!==this)return zl(this,!0),!0}get value(){const t=this.dep.track();return Xl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Md(e,t,r=!1){let s,n;return ne(e)?s=e:(s=e.get,n=e.set),new Bd(s,n,r)}const Zs={},_n=new WeakMap;let yr;function Fd(e,t=!1,r=yr){if(r){let s=_n.get(r);s||_n.set(r,s=[]),s.push(e)}}function qd(e,t,r=ye){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,c=k=>n?k:it(k)||n===!1||n===0?Vt(k,1):Vt(k);let u,d,h,f,g=!1,y=!1;if(ke(e)?(d=()=>e.value,g=it(e)):Kt(e)?(d=()=>c(e),g=!0):G(e)?(y=!0,g=e.some(k=>Kt(k)||it(k)),d=()=>e.map(k=>{if(ke(k))return k.value;if(Kt(k))return c(k);if(ne(k))return l?l(k,2):k()})):ne(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){Wt();try{h()}finally{Gt()}}const k=yr;yr=u;try{return l?l(e,3,[f]):e(f)}finally{yr=k}}:d=Nt,t&&n){const k=d,N=n===!0?1/0:n;d=()=>Vt(k(),N)}const p=Kl(),E=()=>{u.stop(),p&&p.active&&po(p.effects,u)};if(i&&t){const k=t;t=(...N)=>{k(...N),E()}}let v=y?new Array(e.length).fill(Zs):Zs;const w=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(t){const N=u.run();if(n||g||(y?N.some((F,U)=>or(F,v[U])):or(N,v))){h&&h();const F=yr;yr=u;try{const U=[N,v===Zs?void 0:y&&v[0]===Zs?[]:v,f];v=N,l?l(t,3,U):t(...U)}finally{yr=F}}}else u.run()};return a&&a(w),u=new Wl(d),u.scheduler=o?()=>o(w,!1):w,f=k=>Fd(k,!1,u),h=u.onStop=()=>{const k=_n.get(u);if(k){if(l)l(k,4);else for(const N of k)N();_n.delete(u)}},t?s?w(!0):v=u.run():o?o(w.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Vt(e,t=1/0,r){if(t<=0||!ge(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,ke(e))Vt(e.value,t,r);else if(G(e))for(let s=0;s<e.length;s++)Vt(e[s],t,r);else if(rs(e)||Gr(e))e.forEach(s=>{Vt(s,t,r)});else if(Ul(e)){for(const s in e)Vt(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Vt(e[s],t,r)}return e}function Fs(e,t,r,s){try{return s?e(...s):e()}catch(n){Fn(n,t,r)}}function vt(e,t,r,s){if(ne(e)){const n=Fs(e,t,r,s);return n&&Dl(n)&&n.catch(i=>{Fn(i,t,r)}),n}if(G(e)){const n=[];for(let i=0;i<e.length;i++)n.push(vt(e[i],t,r,s));return n}}function Fn(e,t,r,s=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ye;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(i){Wt(),Fs(i,null,10,[e,l,c]),Gt();return}}Vd(e,r,n,s,o)}function Vd(e,t,r,s=!0,n=!1){if(n)throw e;console.error(e)}const We=[];let Pt=-1;const zr=[];let tr=null,Mr=0;const cc=Promise.resolve();let vn=null;function qn(e){const t=vn||cc;return e?t.then(this?e.bind(this):e):t}function Hd(e){let t=Pt+1,r=We.length;for(;t<r;){const s=t+r>>>1,n=We[s],i=Rs(n);i<e||i===e&&n.flags&2?t=s+1:r=s}return t}function Eo(e){if(!(e.flags&1)){const t=Rs(e),r=We[We.length-1];!r||!(e.flags&2)&&t>=Rs(r)?We.push(e):We.splice(Hd(t),0,e),e.flags|=1,uc()}}function uc(){vn||(vn=cc.then(hc))}function Kd(e){G(e)?zr.push(...e):tr&&e.id===-1?tr.splice(Mr+1,0,e):e.flags&1||(zr.push(e),e.flags|=1),uc()}function Go(e,t,r=Pt+1){for(;r<We.length;r++){const s=We[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;We.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function dc(e){if(zr.length){const t=[...new Set(zr)].sort((r,s)=>Rs(r)-Rs(s));if(zr.length=0,tr){tr.push(...t);return}for(tr=t,Mr=0;Mr<tr.length;Mr++){const r=tr[Mr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}tr=null,Mr=0}}const Rs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function hc(e){try{for(Pt=0;Pt<We.length;Pt++){const t=We[Pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Fs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Pt<We.length;Pt++){const t=We[Pt];t&&(t.flags&=-2)}Pt=-1,We.length=0,dc(),vn=null,(We.length||zr.length)&&hc()}}let st=null,fc=null;function wn(e){const t=st;return st=e,fc=e&&e.type.__scopeId||null,t}function lt(e,t=st,r){if(!t||e._n)return e;const s=(...n)=>{s._d&&xn(-1);const i=wn(t);let o;try{o=e(...n)}finally{wn(i),s._d&&xn(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function hi(e,t){if(st===null)return e;const r=zn(st),s=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=ye]=t[n];i&&(ne(i)&&(i={mounted:i,updated:i}),i.deep&&Vt(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function ur(e,t,r,s){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Wt(),vt(l,r,8,[e.el,a,e,t]),Gt())}}function dn(e,t){if(qe){let r=qe.provides;const s=qe.parent&&qe.parent.provides;s===r&&(r=qe.provides=Object.create(s)),r[e]=t}}function dt(e,t,r=!1){const s=To();if(s||Tr){let n=Tr?Tr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return r&&ne(t)?t.call(s&&s.proxy):t}}function Wd(){return!!(To()||Tr)}const Gd=Symbol.for("v-scx"),zd=()=>dt(Gd);function ms(e,t,r){return pc(e,t,r)}function pc(e,t,r=ye){const{immediate:s,deep:n,flush:i,once:o}=r,a=Ne({},r),l=t&&s||!t&&i!=="post";let c;if(Cs){if(i==="sync"){const f=zd();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Nt,f.resume=Nt,f.pause=Nt,f}}const u=qe;a.call=(f,g,y)=>vt(f,u,g,y);let d=!1;i==="post"?a.scheduler=f=>{tt(f,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,g)=>{g?f():Eo(f)}),a.augmentJob=f=>{t&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=qd(e,t,a);return Cs&&(c?c.push(h):l&&h()),h}function Jd(e,t,r){const s=this.proxy,n=Re(e)?e.includes(".")?gc(s,e):()=>s[e]:e.bind(s,s);let i;ne(t)?i=t:(i=t.handler,r=t);const o=Vs(this),a=pc(n,i.bind(s),r);return o(),a}function gc(e,t){const r=t.split(".");return()=>{let s=e;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const Yd=Symbol("_vte"),mc=e=>e.__isTeleport,Ft=Symbol("_leaveCb"),en=Symbol("_enterCb");function Xd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qs(()=>{e.isMounted=!0}),kc(()=>{e.isUnmounting=!0}),e}const at=[Function,Array],yc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:at,onEnter:at,onAfterEnter:at,onEnterCancelled:at,onBeforeLeave:at,onLeave:at,onAfterLeave:at,onLeaveCancelled:at,onBeforeAppear:at,onAppear:at,onAfterAppear:at,onAppearCancelled:at},bc=e=>{const t=e.subTree;return t.component?bc(t.component):t},Qd={name:"BaseTransition",props:yc,setup(e,{slots:t}){const r=To(),s=Xd();return()=>{const n=t.default&&wc(t.default(),!0);if(!n||!n.length)return;const i=_c(n),o=de(e),{mode:a}=o;if(s.isLeaving)return fi(i);const l=zo(i);if(!l)return fi(i);let c=Ui(l,o,s,r,d=>c=d);l.type!==Ge&&Ts(l,c);let u=r.subTree&&zo(r.subTree);if(u&&u.type!==Ge&&!wr(u,l)&&bc(r).type!==Ge){let d=Ui(u,o,s,r);if(Ts(u,d),a==="out-in"&&l.type!==Ge)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,u=void 0},fi(i);a==="in-out"&&l.type!==Ge?d.delayLeave=(h,f,g)=>{const y=vc(s,u);y[String(u.key)]=u,h[Ft]=()=>{f(),h[Ft]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function _c(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Ge){t=r;break}}return t}const Zd=Qd;function vc(e,t){const{leavingVNodes:r}=e;let s=r.get(t.type);return s||(s=Object.create(null),r.set(t.type,s)),s}function Ui(e,t,r,s,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:p,onAppear:E,onAfterAppear:v,onAppearCancelled:w}=t,k=String(e.key),N=vc(r,e),F=(P,X)=>{P&&vt(P,s,9,X)},U=(P,X)=>{const ie=X[1];F(P,X),G(P)?P.every(I=>I.length<=1)&&ie():P.length<=1&&ie()},H={mode:o,persisted:a,beforeEnter(P){let X=l;if(!r.isMounted)if(i)X=p||l;else return;P[Ft]&&P[Ft](!0);const ie=N[k];ie&&wr(e,ie)&&ie.el[Ft]&&ie.el[Ft](),F(X,[P])},enter(P){let X=c,ie=u,I=d;if(!r.isMounted)if(i)X=E||c,ie=v||u,I=w||d;else return;let V=!1;const ae=P[en]=me=>{V||(V=!0,me?F(I,[P]):F(ie,[P]),H.delayedLeave&&H.delayedLeave(),P[en]=void 0)};X?U(X,[P,ae]):ae()},leave(P,X){const ie=String(e.key);if(P[en]&&P[en](!0),r.isUnmounting)return X();F(h,[P]);let I=!1;const V=P[Ft]=ae=>{I||(I=!0,X(),ae?F(y,[P]):F(g,[P]),P[Ft]=void 0,N[ie]===e&&delete N[ie])};N[ie]=e,f?U(f,[P,V]):V()},clone(P){const X=Ui(P,t,r,s,n);return n&&n(X),X}};return H}function fi(e){if(Vn(e))return e=ar(e),e.children=null,e}function zo(e){if(!Vn(e))return mc(e.type)&&e.children?_c(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&ne(r.default))return r.default()}}function Ts(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ts(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wc(e,t=!1,r){let s=[],n=0;for(let i=0;i<e.length;i++){let o=e[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===$e?(o.patchFlag&128&&n++,s=s.concat(wc(o.children,t,a))):(t||o.type!==Ge)&&s.push(a!=null?ar(o,{key:a}):o)}if(n>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Sc(e,t){return ne(e)?Ne({name:e.name},t,{setup:e}):e}function Ec(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Sn=new WeakMap;function ys(e,t,r,s,n=!1){if(G(e)){e.forEach((g,y)=>ys(g,t&&(G(t)?t[y]:t),r,s,n));return}if(bs(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ys(e,t,r,s.component.subTree);return}const i=s.shapeFlag&4?zn(s.component):s.el,o=n?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ye?a.refs={}:a.refs,d=a.setupState,h=de(d),f=d===ye?$l:g=>fe(h,g);if(c!=null&&c!==l){if(Jo(t),Re(c))u[c]=null,f(c)&&(d[c]=null);else if(ke(c)){c.value=null;const g=t;g.k&&(u[g.k]=null)}}if(ne(l))Fs(l,a,12,[o,u]);else{const g=Re(l),y=ke(l);if(g||y){const p=()=>{if(e.f){const E=g?f(l)?d[l]:u[l]:l.value;if(n)G(E)&&po(E,i);else if(G(E))E.includes(i)||E.push(i);else if(g)u[l]=[i],f(l)&&(d[l]=u[l]);else{const v=[i];l.value=v,e.k&&(u[e.k]=v)}}else g?(u[l]=o,f(l)&&(d[l]=o)):y&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const E=()=>{p(),Sn.delete(e)};E.id=-1,Sn.set(e,E),tt(E,r)}else Jo(e),p()}}}function Jo(e){const t=Sn.get(e);t&&(t.flags|=8,Sn.delete(e))}Un().requestIdleCallback;Un().cancelIdleCallback;const bs=e=>!!e.type.__asyncLoader,Vn=e=>e.type.__isKeepAlive;function eh(e,t){xc(e,"a",t)}function th(e,t){xc(e,"da",t)}function xc(e,t,r=qe){const s=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Hn(t,s,r),r){let n=r.parent;for(;n&&n.parent;)Vn(n.parent.vnode)&&rh(s,t,r,n),n=n.parent}}function rh(e,t,r,s){const n=Hn(t,e,s,!0);xo(()=>{po(s[t],n)},r)}function Hn(e,t,r=qe,s=!1){if(r){const n=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Wt();const a=Vs(r),l=vt(t,r,e,o);return a(),Gt(),l});return s?n.unshift(i):n.push(i),i}}const Jt=e=>(t,r=qe)=>{(!Cs||e==="sp")&&Hn(e,(...s)=>t(...s),r)},sh=Jt("bm"),qs=Jt("m"),nh=Jt("bu"),ih=Jt("u"),kc=Jt("bum"),xo=Jt("um"),oh=Jt("sp"),ah=Jt("rtg"),lh=Jt("rtc");function ch(e,t=qe){Hn("ec",e,t)}const uh="components";function Kn(e,t){return hh(uh,e,!0,t)||e}const dh=Symbol.for("v-ndc");function hh(e,t,r=!0,s=!1){const n=st||qe;if(n){const i=n.type;{const a=Yh(i,!1);if(a&&(a===t||a===ft(t)||a===Dn(ft(t))))return i}const o=Yo(n[e]||i[e],t)||Yo(n.appContext[e],t);return!o&&s?i:o}}function Yo(e,t){return e&&(e[t]||e[ft(t)]||e[Dn(ft(t))])}function vr(e,t,r,s){let n;const i=r,o=G(e);if(o||Re(e)){const a=o&&Kt(e);let l=!1,c=!1;a&&(l=!it(e),c=zt(e),e=Bn(e)),n=new Array(e.length);for(let u=0,d=e.length;u<d;u++)n[u]=t(l?c?Xr(_t(e[u])):_t(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(ge(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=t(e[u],u,l,i)}}else n=[];return n}const Bi=e=>e?Hc(e)?zn(e):Bi(e.parent):null,_s=Ne(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bi(e.parent),$root:e=>Bi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Rc(e),$forceUpdate:e=>e.f||(e.f=()=>{Eo(e.update)}),$nextTick:e=>e.n||(e.n=qn.bind(e.proxy)),$watch:e=>Jd.bind(e)}),pi=(e,t)=>e!==ye&&!e.__isScriptSetup&&fe(e,t),fh={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=e;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return n[t];case 4:return r[t];case 3:return i[t]}else{if(pi(s,t))return o[t]=1,s[t];if(n!==ye&&fe(n,t))return o[t]=2,n[t];if(fe(i,t))return o[t]=3,i[t];if(r!==ye&&fe(r,t))return o[t]=4,r[t];Mi&&(o[t]=0)}}const c=_s[t];let u,d;if(c)return t==="$attrs"&&Fe(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(r!==ye&&fe(r,t))return o[t]=4,r[t];if(d=l.config.globalProperties,fe(d,t))return d[t]},set({_:e},t,r){const{data:s,setupState:n,ctx:i}=e;return pi(n,t)?(n[t]=r,!0):s!==ye&&fe(s,t)?(s[t]=r,!0):fe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:n,props:i,type:o}},a){let l;return!!(r[a]||e!==ye&&a[0]!=="$"&&fe(e,a)||pi(t,a)||fe(i,a)||fe(s,a)||fe(_s,a)||fe(n.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:fe(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Xo(e){return G(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Mi=!0;function ph(e){const t=Rc(e),r=e.proxy,s=e.ctx;Mi=!1,t.beforeCreate&&Qo(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:g,activated:y,deactivated:p,beforeDestroy:E,beforeUnmount:v,destroyed:w,unmounted:k,render:N,renderTracked:F,renderTriggered:U,errorCaptured:H,serverPrefetch:P,expose:X,inheritAttrs:ie,components:I,directives:V,filters:ae}=t;if(c&&gh(c,s,null),o)for(const Y in o){const D=o[Y];ne(D)&&(s[Y]=D.bind(r))}if(n){const Y=n.call(r,r);ge(Y)&&(e.data=Ms(Y))}if(Mi=!0,i)for(const Y in i){const D=i[Y],Ue=ne(D)?D.bind(r,r):ne(D.get)?D.get.bind(r,r):Nt,Et=!ne(D)&&ne(D.set)?D.set.bind(r):Nt,Ce=Ye({get:Ue,set:Et});Object.defineProperty(s,Y,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:Ae=>Ce.value=Ae})}if(a)for(const Y in a)Ac(a[Y],s,r,Y);if(l){const Y=ne(l)?l.call(r):l;Reflect.ownKeys(Y).forEach(D=>{dn(D,Y[D])})}u&&Qo(u,e,"c");function W(Y,D){G(D)?D.forEach(Ue=>Y(Ue.bind(r))):D&&Y(D.bind(r))}if(W(sh,d),W(qs,h),W(nh,f),W(ih,g),W(eh,y),W(th,p),W(ch,H),W(lh,F),W(ah,U),W(kc,v),W(xo,k),W(oh,P),G(X))if(X.length){const Y=e.exposed||(e.exposed={});X.forEach(D=>{Object.defineProperty(Y,D,{get:()=>r[D],set:Ue=>r[D]=Ue,enumerable:!0})})}else e.exposed||(e.exposed={});N&&e.render===Nt&&(e.render=N),ie!=null&&(e.inheritAttrs=ie),I&&(e.components=I),V&&(e.directives=V),P&&Ec(e)}function gh(e,t,r=Nt){G(e)&&(e=Fi(e));for(const s in e){const n=e[s];let i;ge(n)?"default"in n?i=dt(n.from||s,n.default,!0):i=dt(n.from||s):i=dt(n),ke(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function Qo(e,t,r){vt(G(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ac(e,t,r,s){let n=s.includes(".")?gc(r,s):()=>r[s];if(Re(e)){const i=t[e];ne(i)&&ms(n,i)}else if(ne(e))ms(n,e.bind(r));else if(ge(e))if(G(e))e.forEach(i=>Ac(i,t,r,s));else{const i=ne(e.handler)?e.handler.bind(r):t[e.handler];ne(i)&&ms(n,i,e)}}function Rc(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!r&&!s?l=t:(l={},n.length&&n.forEach(c=>En(l,c,o,!0)),En(l,t,o)),ge(t)&&i.set(t,l),l}function En(e,t,r,s=!1){const{mixins:n,extends:i}=t;i&&En(e,i,r,!0),n&&n.forEach(o=>En(e,o,r,!0));for(const o in t)if(!(s&&o==="expose")){const a=mh[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const mh={data:Zo,props:ea,emits:ea,methods:ds,computed:ds,beforeCreate:He,created:He,beforeMount:He,mounted:He,beforeUpdate:He,updated:He,beforeDestroy:He,beforeUnmount:He,destroyed:He,unmounted:He,activated:He,deactivated:He,errorCaptured:He,serverPrefetch:He,components:ds,directives:ds,watch:bh,provide:Zo,inject:yh};function Zo(e,t){return t?e?function(){return Ne(ne(e)?e.call(this,this):e,ne(t)?t.call(this,this):t)}:t:e}function yh(e,t){return ds(Fi(e),Fi(t))}function Fi(e){if(G(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function He(e,t){return e?[...new Set([].concat(e,t))]:t}function ds(e,t){return e?Ne(Object.create(null),e,t):t}function ea(e,t){return e?G(e)&&G(t)?[...new Set([...e,...t])]:Ne(Object.create(null),Xo(e),Xo(t??{})):t}function bh(e,t){if(!e)return t;if(!t)return e;const r=Ne(Object.create(null),e);for(const s in t)r[s]=He(e[s],t[s]);return r}function Tc(){return{app:null,config:{isNativeTag:$l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _h=0;function vh(e,t){return function(s,n=null){ne(s)||(s=Ne({},s)),n!=null&&!ge(n)&&(n=null);const i=Tc(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:_h++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:Qh,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&ne(u.install)?(o.add(u),u.install(c,...d)):ne(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||we(s,n);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(f,u,h),l=!0,c._container=u,u.__vue_app__=c,zn(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(vt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Tr;Tr=c;try{return u()}finally{Tr=d}}};return c}}let Tr=null;const wh=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ft(t)}Modifiers`]||e[`${cr(t)}Modifiers`];function Sh(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||ye;let n=r;const i=t.startsWith("update:"),o=i&&wh(s,t.slice(7));o&&(o.trim&&(n=r.map(u=>Re(u)?u.trim():u)),o.number&&(n=r.map(Ln)));let a,l=s[a=ai(t)]||s[a=ai(ft(t))];!l&&i&&(l=s[a=ai(cr(t))]),l&&vt(l,e,6,n);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,vt(c,e,6,n)}}const Eh=new WeakMap;function Oc(e,t,r=!1){const s=r?Eh:t.emitsCache,n=s.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!ne(e)){const l=c=>{const u=Oc(c,t,!0);u&&(a=!0,Ne(o,u))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ge(e)&&s.set(e,null),null):(G(i)?i.forEach(l=>o[l]=null):Ne(o,i),ge(e)&&s.set(e,o),o)}function Wn(e,t){return!e||!jn(t)?!1:(t=t.slice(2).replace(/Once$/,""),fe(e,t[0].toLowerCase()+t.slice(1))||fe(e,cr(t))||fe(e,t))}function ta(e){const{type:t,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:g,inheritAttrs:y}=e,p=wn(e);let E,v;try{if(r.shapeFlag&4){const k=n||s,N=k;E=jt(c.call(N,k,u,d,f,h,g)),v=a}else{const k=t;E=jt(k.length>1?k(d,{attrs:a,slots:o,emit:l}):k(d,null)),v=t.props?a:xh(a)}}catch(k){vs.length=0,Fn(k,e,1),E=we(Ge)}let w=E;if(v&&y!==!1){const k=Object.keys(v),{shapeFlag:N}=w;k.length&&N&7&&(i&&k.some(fo)&&(v=kh(v,i)),w=ar(w,v,!1,!0))}return r.dirs&&(w=ar(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&Ts(w,r.transition),E=w,wn(p),E}const xh=e=>{let t;for(const r in e)(r==="class"||r==="style"||jn(r))&&((t||(t={}))[r]=e[r]);return t},kh=(e,t)=>{const r={};for(const s in e)(!fo(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function Ah(e,t,r){const{props:s,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?ra(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==s[h]&&!Wn(c,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?ra(s,o,c):!0:!!o;return!1}function ra(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(t[i]!==e[i]&&!Wn(r,i))return!0}return!1}function Rh({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const Cc={},Pc=()=>Object.create(Cc),Ic=e=>Object.getPrototypeOf(e)===Cc;function Th(e,t,r,s=!1){const n={},i=Pc();e.propsDefaults=Object.create(null),jc(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);r?e.props=s?n:oc(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function Oh(e,t,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=de(n),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Wn(e.emitsOptions,h))continue;const f=t[h];if(l)if(fe(i,h))f!==i[h]&&(i[h]=f,c=!0);else{const g=ft(h);n[g]=qi(l,a,g,f,e,!1)}else f!==i[h]&&(i[h]=f,c=!0)}}}else{jc(e,t,n,i)&&(c=!0);let u;for(const d in a)(!t||!fe(t,d)&&((u=cr(d))===d||!fe(t,u)))&&(l?r&&(r[d]!==void 0||r[u]!==void 0)&&(n[d]=qi(l,a,d,void 0,e,!0)):delete n[d]);if(i!==a)for(const d in i)(!t||!fe(t,d))&&(delete i[d],c=!0)}c&&qt(e.attrs,"set","")}function jc(e,t,r,s){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(fs(l))continue;const c=t[l];let u;n&&fe(n,u=ft(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:Wn(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=de(r),c=a||ye;for(let u=0;u<i.length;u++){const d=i[u];r[d]=qi(n,l,d,c[d],e,!fe(c,d))}}return o}function qi(e,t,r,s,n,i){const o=e[r];if(o!=null){const a=fe(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ne(l)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=Vs(n);s=c[r]=l.call(null,t),u()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===cr(r))&&(s=!0))}return s}const Ch=new WeakMap;function Nc(e,t,r=!1){const s=r?Ch:t.propsCache,n=s.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!ne(e)){const u=d=>{l=!0;const[h,f]=Nc(d,t,!0);Ne(o,h),f&&a.push(...f)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return ge(e)&&s.set(e,Wr),Wr;if(G(i))for(let u=0;u<i.length;u++){const d=ft(i[u]);sa(d)&&(o[d]=ye)}else if(i)for(const u in i){const d=ft(u);if(sa(d)){const h=i[u],f=o[d]=G(h)||ne(h)?{type:h}:Ne({},h),g=f.type;let y=!1,p=!0;if(G(g))for(let E=0;E<g.length;++E){const v=g[E],w=ne(v)&&v.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(p=!1)}else y=ne(g)&&g.name==="Boolean";f[0]=y,f[1]=p,(y||fe(f,"default"))&&a.push(d)}}const c=[o,a];return ge(e)&&s.set(e,c),c}function sa(e){return e[0]!=="$"&&!fs(e)}const ko=e=>e==="_"||e==="_ctx"||e==="$stable",Ao=e=>G(e)?e.map(jt):[jt(e)],Ph=(e,t,r)=>{if(t._n)return t;const s=lt((...n)=>Ao(t(...n)),r);return s._c=!1,s},$c=(e,t,r)=>{const s=e._ctx;for(const n in e){if(ko(n))continue;const i=e[n];if(ne(i))t[n]=Ph(n,i,s);else if(i!=null){const o=Ao(i);t[n]=()=>o}}},Dc=(e,t)=>{const r=Ao(t);e.slots.default=()=>r},Lc=(e,t,r)=>{for(const s in t)(r||!ko(s))&&(e[s]=t[s])},Ih=(e,t,r)=>{const s=e.slots=Pc();if(e.vnode.shapeFlag&32){const n=t._;n?(Lc(s,t,r),r&&Bl(s,"_",n,!0)):$c(t,s)}else t&&Dc(e,t)},jh=(e,t,r)=>{const{vnode:s,slots:n}=e;let i=!0,o=ye;if(s.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:Lc(n,t,r):(i=!t.$stable,$c(t,n)),o=t}else t&&(Dc(e,t),o={default:1});if(i)for(const a in n)!ko(a)&&o[a]==null&&delete n[a]},tt=Uh;function Nh(e){return $h(e)}function $h(e,t){const r=Un();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=Nt,insertStaticContent:g}=e,y=(m,b,S,A=null,O=null,R=null,L=void 0,$=null,j=!!b.dynamicChildren)=>{if(m===b)return;m&&!wr(m,b)&&(A=T(m),Ae(m,O,R,!0),m=null),b.patchFlag===-2&&(j=!1,b.dynamicChildren=null);const{type:C,ref:Q,shapeFlag:M}=b;switch(C){case Gn:p(m,b,S,A);break;case Ge:E(m,b,S,A);break;case hn:m==null&&v(b,S,A,L);break;case $e:I(m,b,S,A,O,R,L,$,j);break;default:M&1?N(m,b,S,A,O,R,L,$,j):M&6?V(m,b,S,A,O,R,L,$,j):(M&64||M&128)&&C.process(m,b,S,A,O,R,L,$,j,z)}Q!=null&&O?ys(Q,m&&m.ref,R,b||m,!b):Q==null&&m&&m.ref!=null&&ys(m.ref,null,R,m,!0)},p=(m,b,S,A)=>{if(m==null)s(b.el=a(b.children),S,A);else{const O=b.el=m.el;b.children!==m.children&&c(O,b.children)}},E=(m,b,S,A)=>{m==null?s(b.el=l(b.children||""),S,A):b.el=m.el},v=(m,b,S,A)=>{[m.el,m.anchor]=g(m.children,b,S,A,m.el,m.anchor)},w=({el:m,anchor:b},S,A)=>{let O;for(;m&&m!==b;)O=h(m),s(m,S,A),m=O;s(b,S,A)},k=({el:m,anchor:b})=>{let S;for(;m&&m!==b;)S=h(m),n(m),m=S;n(b)},N=(m,b,S,A,O,R,L,$,j)=>{if(b.type==="svg"?L="svg":b.type==="math"&&(L="mathml"),m==null)F(b,S,A,O,R,L,$,j);else{const C=m.el&&m.el._isVueCE?m.el:null;try{C&&C._beginPatch(),P(m,b,O,R,L,$,j)}finally{C&&C._endPatch()}}},F=(m,b,S,A,O,R,L,$)=>{let j,C;const{props:Q,shapeFlag:M,transition:J,dirs:se}=m;if(j=m.el=o(m.type,R,Q&&Q.is,Q),M&8?u(j,m.children):M&16&&H(m.children,j,null,A,O,gi(m,R),L,$),se&&ur(m,null,A,"created"),U(j,m,m.scopeId,L,A),Q){for(const be in Q)be!=="value"&&!fs(be)&&i(j,be,null,Q[be],R,A);"value"in Q&&i(j,"value",null,Q.value,R),(C=Q.onVnodeBeforeMount)&&Ot(C,A,m)}se&&ur(m,null,A,"beforeMount");const ue=Dh(O,J);ue&&J.beforeEnter(j),s(j,b,S),((C=Q&&Q.onVnodeMounted)||ue||se)&&tt(()=>{C&&Ot(C,A,m),ue&&J.enter(j),se&&ur(m,null,A,"mounted")},O)},U=(m,b,S,A,O)=>{if(S&&f(m,S),A)for(let R=0;R<A.length;R++)f(m,A[R]);if(O){let R=O.subTree;if(b===R||Fc(R.type)&&(R.ssContent===b||R.ssFallback===b)){const L=O.vnode;U(m,L,L.scopeId,L.slotScopeIds,O.parent)}}},H=(m,b,S,A,O,R,L,$,j=0)=>{for(let C=j;C<m.length;C++){const Q=m[C]=$?rr(m[C]):jt(m[C]);y(null,Q,b,S,A,O,R,L,$)}},P=(m,b,S,A,O,R,L)=>{const $=b.el=m.el;let{patchFlag:j,dynamicChildren:C,dirs:Q}=b;j|=m.patchFlag&16;const M=m.props||ye,J=b.props||ye;let se;if(S&&dr(S,!1),(se=J.onVnodeBeforeUpdate)&&Ot(se,S,b,m),Q&&ur(b,m,S,"beforeUpdate"),S&&dr(S,!0),(M.innerHTML&&J.innerHTML==null||M.textContent&&J.textContent==null)&&u($,""),C?X(m.dynamicChildren,C,$,S,A,gi(b,O),R):L||D(m,b,$,null,S,A,gi(b,O),R,!1),j>0){if(j&16)ie($,M,J,S,O);else if(j&2&&M.class!==J.class&&i($,"class",null,J.class,O),j&4&&i($,"style",M.style,J.style,O),j&8){const ue=b.dynamicProps;for(let be=0;be<ue.length;be++){const pe=ue[be],ze=M[pe],Je=J[pe];(Je!==ze||pe==="value")&&i($,pe,ze,Je,O,S)}}j&1&&m.children!==b.children&&u($,b.children)}else!L&&C==null&&ie($,M,J,S,O);((se=J.onVnodeUpdated)||Q)&&tt(()=>{se&&Ot(se,S,b,m),Q&&ur(b,m,S,"updated")},A)},X=(m,b,S,A,O,R,L)=>{for(let $=0;$<b.length;$++){const j=m[$],C=b[$],Q=j.el&&(j.type===$e||!wr(j,C)||j.shapeFlag&198)?d(j.el):S;y(j,C,Q,null,A,O,R,L,!0)}},ie=(m,b,S,A,O)=>{if(b!==S){if(b!==ye)for(const R in b)!fs(R)&&!(R in S)&&i(m,R,b[R],null,O,A);for(const R in S){if(fs(R))continue;const L=S[R],$=b[R];L!==$&&R!=="value"&&i(m,R,$,L,O,A)}"value"in S&&i(m,"value",b.value,S.value,O)}},I=(m,b,S,A,O,R,L,$,j)=>{const C=b.el=m?m.el:a(""),Q=b.anchor=m?m.anchor:a("");let{patchFlag:M,dynamicChildren:J,slotScopeIds:se}=b;se&&($=$?$.concat(se):se),m==null?(s(C,S,A),s(Q,S,A),H(b.children||[],S,Q,O,R,L,$,j)):M>0&&M&64&&J&&m.dynamicChildren&&m.dynamicChildren.length===J.length?(X(m.dynamicChildren,J,S,O,R,L,$),(b.key!=null||O&&b===O.subTree)&&Uc(m,b,!0)):D(m,b,S,Q,O,R,L,$,j)},V=(m,b,S,A,O,R,L,$,j)=>{b.slotScopeIds=$,m==null?b.shapeFlag&512?O.ctx.activate(b,S,A,L,j):ae(b,S,A,O,R,L,j):me(m,b,j)},ae=(m,b,S,A,O,R,L)=>{const $=m.component=Kh(m,A,O);if(Vn(m)&&($.ctx.renderer=z),Wh($,!1,L),$.asyncDep){if(O&&O.registerDep($,W,L),!m.el){const j=$.subTree=we(Ge);E(null,j,b,S),m.placeholder=j.el}}else W($,m,b,S,O,R,L)},me=(m,b,S)=>{const A=b.component=m.component;if(Ah(m,b,S))if(A.asyncDep&&!A.asyncResolved){Y(A,b,S);return}else A.next=b,A.update();else b.el=m.el,A.vnode=b},W=(m,b,S,A,O,R,L)=>{const $=()=>{if(m.isMounted){let{next:M,bu:J,u:se,parent:ue,vnode:be}=m;{const Rt=Bc(m);if(Rt){M&&(M.el=be.el,Y(m,M,L)),Rt.asyncDep.then(()=>{m.isUnmounted||$()});return}}let pe=M,ze;dr(m,!1),M?(M.el=be.el,Y(m,M,L)):M=be,J&&un(J),(ze=M.props&&M.props.onVnodeBeforeUpdate)&&Ot(ze,ue,M,be),dr(m,!0);const Je=ta(m),At=m.subTree;m.subTree=Je,y(At,Je,d(At.el),T(At),m,O,R),M.el=Je.el,pe===null&&Rh(m,Je.el),se&&tt(se,O),(ze=M.props&&M.props.onVnodeUpdated)&&tt(()=>Ot(ze,ue,M,be),O)}else{let M;const{el:J,props:se}=b,{bm:ue,m:be,parent:pe,root:ze,type:Je}=m,At=bs(b);dr(m,!1),ue&&un(ue),!At&&(M=se&&se.onVnodeBeforeMount)&&Ot(M,pe,b),dr(m,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(Je);const Rt=m.subTree=ta(m);y(null,Rt,S,A,m,O,R),b.el=Rt.el}if(be&&tt(be,O),!At&&(M=se&&se.onVnodeMounted)){const Rt=b;tt(()=>Ot(M,pe,Rt),O)}(b.shapeFlag&256||pe&&bs(pe.vnode)&&pe.vnode.shapeFlag&256)&&m.a&&tt(m.a,O),m.isMounted=!0,b=S=A=null}};m.scope.on();const j=m.effect=new Wl($);m.scope.off();const C=m.update=j.run.bind(j),Q=m.job=j.runIfDirty.bind(j);Q.i=m,Q.id=m.uid,j.scheduler=()=>Eo(Q),dr(m,!0),C()},Y=(m,b,S)=>{b.component=m;const A=m.vnode.props;m.vnode=b,m.next=null,Oh(m,b.props,A,S),jh(m,b.children,S),Wt(),Go(m),Gt()},D=(m,b,S,A,O,R,L,$,j=!1)=>{const C=m&&m.children,Q=m?m.shapeFlag:0,M=b.children,{patchFlag:J,shapeFlag:se}=b;if(J>0){if(J&128){Et(C,M,S,A,O,R,L,$,j);return}else if(J&256){Ue(C,M,S,A,O,R,L,$,j);return}}se&8?(Q&16&&ot(C,O,R),M!==C&&u(S,M)):Q&16?se&16?Et(C,M,S,A,O,R,L,$,j):ot(C,O,R,!0):(Q&8&&u(S,""),se&16&&H(M,S,A,O,R,L,$,j))},Ue=(m,b,S,A,O,R,L,$,j)=>{m=m||Wr,b=b||Wr;const C=m.length,Q=b.length,M=Math.min(C,Q);let J;for(J=0;J<M;J++){const se=b[J]=j?rr(b[J]):jt(b[J]);y(m[J],se,S,null,O,R,L,$,j)}C>Q?ot(m,O,R,!0,!1,M):H(b,S,A,O,R,L,$,j,M)},Et=(m,b,S,A,O,R,L,$,j)=>{let C=0;const Q=b.length;let M=m.length-1,J=Q-1;for(;C<=M&&C<=J;){const se=m[C],ue=b[C]=j?rr(b[C]):jt(b[C]);if(wr(se,ue))y(se,ue,S,null,O,R,L,$,j);else break;C++}for(;C<=M&&C<=J;){const se=m[M],ue=b[J]=j?rr(b[J]):jt(b[J]);if(wr(se,ue))y(se,ue,S,null,O,R,L,$,j);else break;M--,J--}if(C>M){if(C<=J){const se=J+1,ue=se<Q?b[se].el:A;for(;C<=J;)y(null,b[C]=j?rr(b[C]):jt(b[C]),S,ue,O,R,L,$,j),C++}}else if(C>J)for(;C<=M;)Ae(m[C],O,R,!0),C++;else{const se=C,ue=C,be=new Map;for(C=ue;C<=J;C++){const Ze=b[C]=j?rr(b[C]):jt(b[C]);Ze.key!=null&&be.set(Ze.key,C)}let pe,ze=0;const Je=J-ue+1;let At=!1,Rt=0;const is=new Array(Je);for(C=0;C<Je;C++)is[C]=0;for(C=se;C<=M;C++){const Ze=m[C];if(ze>=Je){Ae(Ze,O,R,!0);continue}let Tt;if(Ze.key!=null)Tt=be.get(Ze.key);else for(pe=ue;pe<=J;pe++)if(is[pe-ue]===0&&wr(Ze,b[pe])){Tt=pe;break}Tt===void 0?Ae(Ze,O,R,!0):(is[Tt-ue]=C+1,Tt>=Rt?Rt=Tt:At=!0,y(Ze,b[Tt],S,null,O,R,L,$,j),ze++)}const Mo=At?Lh(is):Wr;for(pe=Mo.length-1,C=Je-1;C>=0;C--){const Ze=ue+C,Tt=b[Ze],Fo=b[Ze+1],qo=Ze+1<Q?Fo.el||Mc(Fo):A;is[C]===0?y(null,Tt,S,qo,O,R,L,$,j):At&&(pe<0||C!==Mo[pe]?Ce(Tt,S,qo,2):pe--)}}},Ce=(m,b,S,A,O=null)=>{const{el:R,type:L,transition:$,children:j,shapeFlag:C}=m;if(C&6){Ce(m.component.subTree,b,S,A);return}if(C&128){m.suspense.move(b,S,A);return}if(C&64){L.move(m,b,S,z);return}if(L===$e){s(R,b,S);for(let M=0;M<j.length;M++)Ce(j[M],b,S,A);s(m.anchor,b,S);return}if(L===hn){w(m,b,S);return}if(A!==2&&C&1&&$)if(A===0)$.beforeEnter(R),s(R,b,S),tt(()=>$.enter(R),O);else{const{leave:M,delayLeave:J,afterLeave:se}=$,ue=()=>{m.ctx.isUnmounted?n(R):s(R,b,S)},be=()=>{R._isLeaving&&R[Ft](!0),M(R,()=>{ue(),se&&se()})};J?J(R,ue,be):be()}else s(R,b,S)},Ae=(m,b,S,A=!1,O=!1)=>{const{type:R,props:L,ref:$,children:j,dynamicChildren:C,shapeFlag:Q,patchFlag:M,dirs:J,cacheIndex:se}=m;if(M===-2&&(O=!1),$!=null&&(Wt(),ys($,null,S,m,!0),Gt()),se!=null&&(b.renderCache[se]=void 0),Q&256){b.ctx.deactivate(m);return}const ue=Q&1&&J,be=!bs(m);let pe;if(be&&(pe=L&&L.onVnodeBeforeUnmount)&&Ot(pe,b,m),Q&6)kt(m.component,S,A);else{if(Q&128){m.suspense.unmount(S,A);return}ue&&ur(m,null,b,"beforeUnmount"),Q&64?m.type.remove(m,b,S,z,A):C&&!C.hasOnce&&(R!==$e||M>0&&M&64)?ot(C,b,S,!1,!0):(R===$e&&M&384||!O&&Q&16)&&ot(j,b,S),A&&xt(m)}(be&&(pe=L&&L.onVnodeUnmounted)||ue)&&tt(()=>{pe&&Ot(pe,b,m),ue&&ur(m,null,b,"unmounted")},S)},xt=m=>{const{type:b,el:S,anchor:A,transition:O}=m;if(b===$e){pt(S,A);return}if(b===hn){k(m);return}const R=()=>{n(S),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(m.shapeFlag&1&&O&&!O.persisted){const{leave:L,delayLeave:$}=O,j=()=>L(S,R);$?$(m.el,R,j):j()}else R()},pt=(m,b)=>{let S;for(;m!==b;)S=h(m),n(m),m=S;n(b)},kt=(m,b,S)=>{const{bum:A,scope:O,job:R,subTree:L,um:$,m:j,a:C}=m;na(j),na(C),A&&un(A),O.stop(),R&&(R.flags|=8,Ae(L,m,b,S)),$&&tt($,b),tt(()=>{m.isUnmounted=!0},b)},ot=(m,b,S,A=!1,O=!1,R=0)=>{for(let L=R;L<m.length;L++)Ae(m[L],b,S,A,O)},T=m=>{if(m.shapeFlag&6)return T(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const b=h(m.anchor||m.el),S=b&&b[Yd];return S?h(S):b};let q=!1;const B=(m,b,S)=>{let A;m==null?b._vnode&&(Ae(b._vnode,null,null,!0),A=b._vnode.component):y(b._vnode||null,m,b,null,null,null,S),b._vnode=m,q||(q=!0,Go(A),dc(),q=!1)},z={p:y,um:Ae,m:Ce,r:xt,mt:ae,mc:H,pc:D,pbc:X,n:T,o:e};return{render:B,hydrate:void 0,createApp:vh(B)}}function gi({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function dr({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Dh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Uc(e,t,r=!1){const s=e.children,n=t.children;if(G(s)&&G(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=rr(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Uc(o,a)),a.type===Gn&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(e.type===$e?1:0)),a.type===Ge&&!a.el&&(a.el=o.el)}}function Lh(e){const t=e.slice(),r=[0];let s,n,i,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(n=r[r.length-1],e[n]<c){t[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<c?i=a+1:o=a;c<e[r[i]]&&(i>0&&(t[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}function Bc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Bc(t)}function na(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Mc(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Mc(t.subTree):null}const Fc=e=>e.__isSuspense;function Uh(e,t){t&&t.pendingBranch?G(e)?t.effects.push(...e):t.effects.push(e):Kd(e)}const $e=Symbol.for("v-fgt"),Gn=Symbol.for("v-txt"),Ge=Symbol.for("v-cmt"),hn=Symbol.for("v-stc"),vs=[];let nt=null;function oe(e=!1){vs.push(nt=e?null:[])}function Bh(){vs.pop(),nt=vs[vs.length-1]||null}let Os=1;function xn(e,t=!1){Os+=e,e<0&&nt&&t&&(nt.hasOnce=!0)}function qc(e){return e.dynamicChildren=Os>0?nt||Wr:null,Bh(),Os>0&&nt&&nt.push(e),e}function le(e,t,r,s,n,i){return qc(_(e,t,r,s,n,i,!0))}function kn(e,t,r,s,n){return qc(we(e,t,r,s,n,!0))}function An(e){return e?e.__v_isVNode===!0:!1}function wr(e,t){return e.type===t.type&&e.key===t.key}const Vc=({key:e})=>e??null,fn=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Re(e)||ke(e)||ne(e)?{i:st,r:e,k:t,f:!!r}:e:null);function _(e,t=null,r=null,s=0,n=null,i=e===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vc(t),ref:t&&fn(t),scopeId:fc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:st};return a?(Ro(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=Re(r)?8:16),Os>0&&!o&&nt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&nt.push(l),l}const we=Mh;function Mh(e,t=null,r=null,s=0,n=null,i=!1){if((!e||e===dh)&&(e=Ge),An(e)){const a=ar(e,t,!0);return r&&Ro(a,r),Os>0&&!i&&nt&&(a.shapeFlag&6?nt[nt.indexOf(e)]=a:nt.push(a)),a.patchFlag=-2,a}if(Xh(e)&&(e=e.__vccOpts),t){t=Fh(t);let{class:a,style:l}=t;a&&!Re(a)&&(t.class=ct(a)),ge(l)&&(Mn(l)&&!G(l)&&(l=Ne({},l)),t.style=Yr(l))}const o=Re(e)?1:Fc(e)?128:mc(e)?64:ge(e)?4:ne(e)?2:0;return _(e,t,r,s,n,o,i,!0)}function Fh(e){return e?Mn(e)||Ic(e)?Ne({},e):e:null}function ar(e,t,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?qh(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Vc(c),ref:t&&t.ref?r&&i?G(i)?i.concat(fn(t)):[i,fn(t)]:fn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ar(e.ssContent),ssFallback:e.ssFallback&&ar(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Ts(u,l.clone(u)),u}function It(e=" ",t=0){return we(Gn,null,e,t)}function ia(e,t){const r=we(hn,null,e);return r.staticCount=t,r}function Me(e="",t=!1){return t?(oe(),kn(Ge,null,e)):we(Ge,null,e)}function jt(e){return e==null||typeof e=="boolean"?we(Ge):G(e)?we($e,null,e.slice()):An(e)?rr(e):we(Gn,null,String(e))}function rr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ar(e)}function Ro(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(G(t))r=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),Ro(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!Ic(t)?t._ctx=st:n===3&&st&&(st.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ne(t)?(t={default:t,_ctx:st},r=32):(t=String(t),s&64?(r=16,t=[It(t)]):r=8);e.children=t,e.shapeFlag|=r}function qh(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=ct([t.class,s.class]));else if(n==="style")t.style=Yr([t.style,s.style]);else if(jn(n)){const i=t[n],o=s[n];o&&i!==o&&!(G(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=s[n])}return t}function Ot(e,t,r,s=null){vt(e,t,7,[r,s])}const Vh=Tc();let Hh=0;function Kh(e,t,r){const s=e.type,n=(t?t.appContext:e.appContext)||Vh,i={uid:Hh++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nc(s,n),emitsOptions:Oc(s,n),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:s.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Sh.bind(null,i),e.ce&&e.ce(i),i}let qe=null;const To=()=>qe||st;let Rn,Vi;{const e=Un(),t=(r,s)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Rn=t("__VUE_INSTANCE_SETTERS__",r=>qe=r),Vi=t("__VUE_SSR_SETTERS__",r=>Cs=r)}const Vs=e=>{const t=qe;return Rn(e),e.scope.on(),()=>{e.scope.off(),Rn(t)}},oa=()=>{qe&&qe.scope.off(),Rn(null)};function Hc(e){return e.vnode.shapeFlag&4}let Cs=!1;function Wh(e,t=!1,r=!1){t&&Vi(t);const{props:s,children:n}=e.vnode,i=Hc(e);Th(e,s,i,t),Ih(e,n,r||t);const o=i?Gh(e,t):void 0;return t&&Vi(!1),o}function Gh(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fh);const{setup:s}=r;if(s){Wt();const n=e.setupContext=s.length>1?Jh(e):null,i=Vs(e),o=Fs(s,e,0,[e.props,n]),a=Dl(o);if(Gt(),i(),(a||e.sp)&&!bs(e)&&Ec(e),a){if(o.then(oa,oa),t)return o.then(l=>{aa(e,l)}).catch(l=>{Fn(l,e,0)});e.asyncDep=o}else aa(e,o)}else Kc(e)}function aa(e,t,r){ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ge(t)&&(e.setupState=lc(t)),Kc(e)}function Kc(e,t,r){const s=e.type;e.render||(e.render=s.render||Nt);{const n=Vs(e);Wt();try{ph(e)}finally{Gt(),n()}}}const zh={get(e,t){return Fe(e,"get",""),e[t]}};function Jh(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,zh),slots:e.slots,emit:e.emit,expose:t}}function zn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(lc(So(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in _s)return _s[r](e)},has(t,r){return r in t||r in _s}})):e.proxy}function Yh(e,t=!0){return ne(e)?e.displayName||e.name:e.name||t&&e.__name}function Xh(e){return ne(e)&&"__vccOpts"in e}const Ye=(e,t)=>Md(e,t,Cs);function Oo(e,t,r){try{xn(-1);const s=arguments.length;return s===2?ge(t)&&!G(t)?An(t)?we(e,null,[t]):we(e,t):we(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&An(r)&&(r=[r]),we(e,t,r))}finally{xn(1)}}const Qh="3.5.27";let Hi;const la=typeof window<"u"&&window.trustedTypes;if(la)try{Hi=la.createPolicy("vue",{createHTML:e=>e})}catch{}const Wc=Hi?e=>Hi.createHTML(e):e=>e,Zh="http://www.w3.org/2000/svg",ef="http://www.w3.org/1998/Math/MathML",Bt=typeof document<"u"?document:null,ca=Bt&&Bt.createElement("template"),tf={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const n=t==="svg"?Bt.createElementNS(Zh,e):t==="mathml"?Bt.createElementNS(ef,e):r?Bt.createElement(e,{is:r}):Bt.createElement(e);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>Bt.createTextNode(e),createComment:e=>Bt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Bt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,n,i){const o=r?r.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{ca.innerHTML=Wc(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=ca.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Xt="transition",as="animation",Ps=Symbol("_vtc"),Gc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rf=Ne({},yc,Gc),sf=e=>(e.displayName="Transition",e.props=rf,e),jv=sf((e,{slots:t})=>Oo(Zd,nf(e),t)),hr=(e,t=[])=>{G(e)?e.forEach(r=>r(...t)):e&&e(...t)},ua=e=>e?G(e)?e.some(t=>t.length>1):e.length>1:!1;function nf(e){const t={};for(const I in e)I in Gc||(t[I]=e[I]);if(e.css===!1)return t;const{name:r="v",type:s,duration:n,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=e,g=of(n),y=g&&g[0],p=g&&g[1],{onBeforeEnter:E,onEnter:v,onEnterCancelled:w,onLeave:k,onLeaveCancelled:N,onBeforeAppear:F=E,onAppear:U=v,onAppearCancelled:H=w}=t,P=(I,V,ae,me)=>{I._enterCancelled=me,fr(I,V?u:a),fr(I,V?c:o),ae&&ae()},X=(I,V)=>{I._isLeaving=!1,fr(I,d),fr(I,f),fr(I,h),V&&V()},ie=I=>(V,ae)=>{const me=I?U:v,W=()=>P(V,I,ae);hr(me,[V,W]),da(()=>{fr(V,I?l:i),Lt(V,I?u:a),ua(me)||ha(V,s,y,W)})};return Ne(t,{onBeforeEnter(I){hr(E,[I]),Lt(I,i),Lt(I,o)},onBeforeAppear(I){hr(F,[I]),Lt(I,l),Lt(I,c)},onEnter:ie(!1),onAppear:ie(!0),onLeave(I,V){I._isLeaving=!0;const ae=()=>X(I,V);Lt(I,d),I._enterCancelled?(Lt(I,h),ga(I)):(ga(I),Lt(I,h)),da(()=>{I._isLeaving&&(fr(I,d),Lt(I,f),ua(k)||ha(I,s,p,ae))}),hr(k,[I,ae])},onEnterCancelled(I){P(I,!1,void 0,!0),hr(w,[I])},onAppearCancelled(I){P(I,!0,void 0,!0),hr(H,[I])},onLeaveCancelled(I){X(I),hr(N,[I])}})}function of(e){if(e==null)return null;if(ge(e))return[mi(e.enter),mi(e.leave)];{const t=mi(e);return[t,t]}}function mi(e){return id(e)}function Lt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Ps]||(e[Ps]=new Set)).add(t)}function fr(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const r=e[Ps];r&&(r.delete(t),r.size||(e[Ps]=void 0))}function da(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let af=0;function ha(e,t,r,s){const n=e._endId=++af,i=()=>{n===e._endId&&s()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:l}=lf(e,t);if(!o)return s();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,h),i()},h=f=>{f.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,h)}function lf(e,t){const r=window.getComputedStyle(e),s=g=>(r[g]||"").split(", "),n=s(`${Xt}Delay`),i=s(`${Xt}Duration`),o=fa(n,i),a=s(`${as}Delay`),l=s(`${as}Duration`),c=fa(a,l);let u=null,d=0,h=0;t===Xt?o>0&&(u=Xt,d=o,h=i.length):t===as?c>0&&(u=as,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?Xt:as:null,h=u?u===Xt?i.length:l.length:0);const f=u===Xt&&/\b(?:transform|all)(?:,|$)/.test(s(`${Xt}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function fa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,s)=>pa(r)+pa(e[s])))}function pa(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ga(e){return(e?e.ownerDocument:document).body.offsetHeight}function cf(e,t,r){const s=e[Ps];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const ma=Symbol("_vod"),uf=Symbol("_vsh"),df=Symbol(""),hf=/(?:^|;)\s*display\s*:/;function ff(e,t,r){const s=e.style,n=Re(r);let i=!1;if(r&&!n){if(t)if(Re(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&pn(s,a,"")}else for(const o in t)r[o]==null&&pn(s,o,"");for(const o in r)o==="display"&&(i=!0),pn(s,o,r[o])}else if(n){if(t!==r){const o=s[df];o&&(r+=";"+o),s.cssText=r,i=hf.test(r)}}else t&&e.removeAttribute("style");ma in e&&(e[ma]=i?s.display:"",e[uf]&&(s.display="none"))}const ya=/\s*!important$/;function pn(e,t,r){if(G(r))r.forEach(s=>pn(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=pf(e,t);ya.test(r)?e.setProperty(cr(s),r.replace(ya,""),"important"):e[s]=r}}const ba=["Webkit","Moz","ms"],yi={};function pf(e,t){const r=yi[t];if(r)return r;let s=ft(t);if(s!=="filter"&&s in e)return yi[t]=s;s=Dn(s);for(let n=0;n<ba.length;n++){const i=ba[n]+s;if(i in e)return yi[t]=i}return t}const _a="http://www.w3.org/1999/xlink";function va(e,t,r,s,n,i=dd(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(_a,t.slice(6,t.length)):e.setAttributeNS(_a,t,r):r==null||i&&!Ml(r)?e.removeAttribute(t):e.setAttribute(t,i?"":$t(r)?String(r):r)}function wa(e,t,r,s,n){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Wc(r):r);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=Ml(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(n||t)}function Ht(e,t,r,s){e.addEventListener(t,r,s)}function gf(e,t,r,s){e.removeEventListener(t,r,s)}const Sa=Symbol("_vei");function mf(e,t,r,s,n=null){const i=e[Sa]||(e[Sa]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=yf(t);if(s){const c=i[t]=vf(s,n);Ht(e,a,c,l)}else o&&(gf(e,a,o,l),i[t]=void 0)}}const Ea=/(?:Once|Passive|Capture)$/;function yf(e){let t;if(Ea.test(e)){t={};let s;for(;s=e.match(Ea);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):cr(e.slice(2)),t]}let bi=0;const bf=Promise.resolve(),_f=()=>bi||(bf.then(()=>bi=0),bi=Date.now());function vf(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;vt(wf(s,r.value),t,5,[s])};return r.value=e,r.attached=_f(),r}function wf(e,t){if(G(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const xa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Sf=(e,t,r,s,n,i)=>{const o=n==="svg";t==="class"?cf(e,s,o):t==="style"?ff(e,r,s):jn(t)?fo(t)||mf(e,t,r,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ef(e,t,s,o))?(wa(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&va(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Re(s))?wa(e,ft(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),va(e,t,s,o))};function Ef(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&xa(t)&&ne(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return xa(t)&&Re(r)?!1:t in e}const lr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return G(t)?r=>un(t,r):t};function xf(e){e.target.composing=!0}function ka(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ht=Symbol("_assign");function Aa(e,t,r){return t&&(e=e.trim()),r&&(e=Ln(e)),e}const Tn={created(e,{modifiers:{lazy:t,trim:r,number:s}},n){e[ht]=lr(n);const i=s||n.props&&n.props.type==="number";Ht(e,t?"change":"input",o=>{o.target.composing||e[ht](Aa(e.value,r,i))}),(r||i)&&Ht(e,"change",()=>{e.value=Aa(e.value,r,i)}),t||(Ht(e,"compositionstart",xf),Ht(e,"compositionend",ka),Ht(e,"change",ka))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(e[ht]=lr(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ln(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||n&&e.value.trim()===l)||(e.value=l))}},kf={deep:!0,created(e,t,r){e[ht]=lr(r),Ht(e,"change",()=>{const s=e._modelValue,n=Qr(e),i=e.checked,o=e[ht];if(G(s)){const a=go(s,n),l=a!==-1;if(i&&!l)o(s.concat(n));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(rs(s)){const a=new Set(s);i?a.add(n):a.delete(n),o(a)}else o(zc(e,i))})},mounted:Ra,beforeUpdate(e,t,r){e[ht]=lr(r),Ra(e,t,r)}};function Ra(e,{value:t,oldValue:r},s){e._modelValue=t;let n;if(G(t))n=go(t,s.props.value)>-1;else if(rs(t))n=t.has(s.props.value);else{if(t===r)return;n=Cr(t,zc(e,!0))}e.checked!==n&&(e.checked=n)}const Af={created(e,{value:t},r){e.checked=Cr(t,r.props.value),e[ht]=lr(r),Ht(e,"change",()=>{e[ht](Qr(e))})},beforeUpdate(e,{value:t,oldValue:r},s){e[ht]=lr(s),t!==r&&(e.checked=Cr(t,s.props.value))}},Rf={deep:!0,created(e,{value:t,modifiers:{number:r}},s){const n=rs(t);Ht(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?Ln(Qr(o)):Qr(o));e[ht](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,qn(()=>{e._assigning=!1})}),e[ht]=lr(s)},mounted(e,{value:t}){Ta(e,t)},beforeUpdate(e,t,r){e[ht]=lr(r)},updated(e,{value:t}){e._assigning||Ta(e,t)}};function Ta(e,t){const r=e.multiple,s=G(t);if(!(r&&!s&&!rs(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],a=Qr(o);if(r)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=go(t,a)>-1}else o.selected=t.has(a);else if(Cr(Qr(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Qr(e){return"_value"in e?e._value:e.value}function zc(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Tf={created(e,t,r){tn(e,t,r,null,"created")},mounted(e,t,r){tn(e,t,r,null,"mounted")},beforeUpdate(e,t,r,s){tn(e,t,r,s,"beforeUpdate")},updated(e,t,r,s){tn(e,t,r,s,"updated")}};function Of(e,t){switch(e){case"SELECT":return Rf;case"TEXTAREA":return Tn;default:switch(t){case"checkbox":return kf;case"radio":return Af;default:return Tn}}}function tn(e,t,r,s,n){const o=Of(e.tagName,r.props&&r.props.type)[n];o&&o(e,t,r,s)}const Cf=["ctrl","shift","alt","meta"],Pf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Cf.some(r=>e[`${r}Key`]&&!t.includes(r))},If=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=((n,...i)=>{for(let o=0;o<t.length;o++){const a=Pf[t[o]];if(a&&a(n,t))return}return e(n,...i)}))},jf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Nv=(e,t)=>{const r=e._withKeys||(e._withKeys={}),s=t.join(".");return r[s]||(r[s]=(n=>{if(!("key"in n))return;const i=cr(n.key);if(t.some(o=>o===i||jf[o]===i))return e(n)}))},Nf=Ne({patchProp:Sf},tf);let Oa;function $f(){return Oa||(Oa=Nh(Nf))}const Df=((...e)=>{const t=$f().createApp(...e),{mount:r}=t;return t.mount=s=>{const n=Uf(s);if(!n)return;const i=t._component;!ne(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,Lf(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t});function Lf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Uf(e){return Re(e)?document.querySelector(e):e}let Jc;const Jn=e=>Jc=e,Yc=Symbol();function Ki(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ws;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ws||(ws={}));function Bf(){const e=Hl(!0),t=e.run(()=>Se({}));let r=[],s=[];const n=So({install(i){Jn(n),n._a=i,i.provide(Yc,n),i.config.globalProperties.$pinia=n,s.forEach(o=>r.push(o)),s=[]},use(i){return this._a?r.push(i):s.push(i),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return n}const Xc=()=>{};function Ca(e,t,r,s=Xc){e.add(t);const n=()=>{e.delete(t)&&s()};return!r&&Kl()&&fd(n),n}function jr(e,...t){e.forEach(r=>{r(...t)})}const Mf=e=>e(),Pa=Symbol(),_i=Symbol();function Wi(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,s)=>e.set(s,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const s=t[r],n=e[r];Ki(n)&&Ki(s)&&e.hasOwnProperty(r)&&!ke(s)&&!Kt(s)?e[r]=Wi(n,s):e[r]=s}return e}const Ff=Symbol();function qf(e){return!Ki(e)||!Object.prototype.hasOwnProperty.call(e,Ff)}const{assign:Zt}=Object;function Vf(e){return!!(ke(e)&&e.effect)}function Hf(e,t,r,s){const{state:n,actions:i,getters:o}=t,a=r.state.value[e];let l;function c(){a||(r.state.value[e]=n?n():{});const u=Dd(r.state.value[e]);return Zt(u,i,Object.keys(o||{}).reduce((d,h)=>(d[h]=So(Ye(()=>{Jn(r);const f=r._s.get(e);return o[h].call(f,f)})),d),{}))}return l=Qc(e,c,t,r,s,!0),l}function Qc(e,t,r={},s,n,i){let o;const a=Zt({actions:{}},r),l={deep:!0};let c,u,d=new Set,h=new Set,f;const g=s.state.value[e];!i&&!g&&(s.state.value[e]={});let y;function p(H){let P;c=u=!1,typeof H=="function"?(H(s.state.value[e]),P={type:ws.patchFunction,storeId:e,events:f}):(Wi(s.state.value[e],H),P={type:ws.patchObject,payload:H,storeId:e,events:f});const X=y=Symbol();qn().then(()=>{y===X&&(c=!0)}),u=!0,jr(d,P,s.state.value[e])}const E=i?function(){const{state:P}=r,X=P?P():{};this.$patch(ie=>{Zt(ie,X)})}:Xc;function v(){o.stop(),d.clear(),h.clear(),s._s.delete(e)}const w=(H,P="")=>{if(Pa in H)return H[_i]=P,H;const X=function(){Jn(s);const ie=Array.from(arguments),I=new Set,V=new Set;function ae(Y){I.add(Y)}function me(Y){V.add(Y)}jr(h,{args:ie,name:X[_i],store:N,after:ae,onError:me});let W;try{W=H.apply(this&&this.$id===e?this:N,ie)}catch(Y){throw jr(V,Y),Y}return W instanceof Promise?W.then(Y=>(jr(I,Y),Y)).catch(Y=>(jr(V,Y),Promise.reject(Y))):(jr(I,W),W)};return X[Pa]=!0,X[_i]=P,X},k={_p:s,$id:e,$onAction:Ca.bind(null,h),$patch:p,$reset:E,$subscribe(H,P={}){const X=Ca(d,H,P.detached,()=>ie()),ie=o.run(()=>ms(()=>s.state.value[e],I=>{(P.flush==="sync"?u:c)&&H({storeId:e,type:ws.direct,events:f},I)},Zt({},l,P)));return X},$dispose:v},N=Ms(k);s._s.set(e,N);const U=(s._a&&s._a.runWithContext||Mf)(()=>s._e.run(()=>(o=Hl()).run(()=>t({action:w}))));for(const H in U){const P=U[H];if(ke(P)&&!Vf(P)||Kt(P))i||(g&&qf(P)&&(ke(P)?P.value=g[H]:Wi(P,g[H])),s.state.value[e][H]=P);else if(typeof P=="function"){const X=w(P,H);U[H]=X,a.actions[H]=P}}return Zt(N,U),Zt(de(N),U),Object.defineProperty(N,"$state",{get:()=>s.state.value[e],set:H=>{p(P=>{Zt(P,H)})}}),s._p.forEach(H=>{Zt(N,o.run(()=>H({store:N,app:s._a,pinia:s,options:a})))}),g&&i&&r.hydrate&&r.hydrate(N.$state,g),c=!0,u=!0,N}function Kf(e,t,r){let s;const n=typeof t=="function";s=n?r:t;function i(o,a){const l=Wd();return o=o||(l?dt(Yc,null):null),o&&Jn(o),o=Jc,o._s.has(e)||(n?Qc(e,t,s,o):Hf(e,s,o)),o._s.get(e)}return i.$id=e,i}function Yn(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function Wf(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})}const Gf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Co extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class zf extends Co{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ia extends Co{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ja extends Co{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gi;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gi||(Gi={}));class Jf{constructor(t,{headers:r={},customFetch:s,region:n=Gi.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=Gf(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Wf(this,arguments,void 0,function*(r,s={}){var n;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=s;let h={},{region:f}=s;f||(f=this.region);const g=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let y;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?y=JSON.stringify(c):y=c;let p=u;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),u?(p=o.signal,u.addEventListener("abort",()=>o.abort())):p=o.signal);const E=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:y,signal:p}).catch(N=>{throw new zf(N)}),v=E.headers.get("x-relay-error");if(v&&v==="true")throw new Ia(E);if(!E.ok)throw new ja(E);let w=((n=E.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield E.json():w==="application/octet-stream"||w==="application/pdf"?k=yield E.blob():w==="text/event-stream"?k=E:w==="multipart/form-data"?k=yield E.formData():k=yield E.text(),{data:k,error:null,response:E}}catch(a){return{data:null,error:a,response:a instanceof ja||a instanceof Ia?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Yf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Xf=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var f;const E=await i.text();E===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=E:a=JSON.parse(E))}const y=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),p=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&p&&p.length>1&&(l=parseInt(p[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&y===""?(c=204,u="No Content"):o={message:y}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&r.shouldThrowOnError)throw new Yf(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(i=>{var o;let a="";const l=i?.cause;if(l){var c,u,d,h;const g=(c=l?.message)!==null&&c!==void 0?c:"",y=(u=l?.code)!==null&&u!==void 0?u:"";a=`${(d=i?.name)!==null&&d!==void 0?d:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(h=l?.name)!==null&&h!==void 0?h:"Error"}: ${g}`,y&&(a+=` (${y})`),l?.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=i?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},Qf=class extends Xf{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Na=new RegExp("[,()]");var Fr=class extends Qf{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&Na.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&Na.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Zf=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:s}=t??{},n=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),s&&l.append("Prefer",`count=${s}`),new Fr({method:n,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const n="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Fr({method:n,url:i,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),s&&l.append("Prefer",`count=${s}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new Fr({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const s="PATCH",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Fr({method:s,url:n,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:s,headers:n}=this.cloneRequestState();return e&&n.append("Prefer",`count=${e}`),new Fr({method:r,url:s,headers:n,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},ep=class Zc{constructor(t,{headers:r={},schema:s,fetch:n}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=n}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Zf(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Zc(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=s&&Object.values(r).some(u);d?(a="POST",c=r):s||n?(a=s?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(a="POST",c=r);const h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Fr({method:a,url:l,headers:h,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class tp{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const rp="2.93.3",sp=`realtime-js/${rp}`,np="1.0.0",eu="2.0.0",$a=eu,zi=1e4,ip=1e3,op=100;var sr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sr||(sr={}));var Ie;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ie||(Ie={}));var yt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yt||(yt={}));var Ji;(function(e){e.websocket="websocket"})(Ji||(Ji={}));var Sr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sr||(Sr={}));class ap{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const n=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(t){var r,s;const n=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,s){var n,i;const o=t.topic,a=(n=t.ref)!==null&&n!==void 0?n:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(f),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,a.length),g.setUint8(y++,o.length),g.setUint8(y++,c.length),g.setUint8(y++,d.length),g.setUint8(y++,r),Array.from(l,E=>g.setUint8(y++,E.charCodeAt(0))),Array.from(a,E=>g.setUint8(y++,E.charCodeAt(0))),Array.from(o,E=>g.setUint8(y++,E.charCodeAt(0))),Array.from(c,E=>g.setUint8(y++,E.charCodeAt(0))),Array.from(d,E=>g.setUint8(y++,E.charCodeAt(0)));var p=new Uint8Array(f.byteLength+s.byteLength);return p.set(new Uint8Array(f),0),p.set(new Uint8Array(s),f.byteLength),p.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[n,i,o,a,l]=s;return r({join_ref:n,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),n=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,n)}_decodeUserBroadcast(t,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(t.slice(l,l+n));l=l+n;const u=s.decode(t.slice(l,l+i));l=l+i;const d=s.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(s.decode(h)):h,g={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class tu{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const Da=(e,t,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=lp(o,e,t,n),i),{}):{}},lp=(e,t,r,s)=>{const n=t.find(a=>a.name===e),i=n?.type,o=r[e];return i&&!s.includes(i)?ru(i,o):Yi(o)},ru=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return hp(t,r)}switch(e){case _e.bool:return cp(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return up(t);case _e.json:case _e.jsonb:return dp(t);case _e.timestamp:return fp(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Yi(t);default:return Yi(t)}},Yi=e=>e,cp=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},up=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dp=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},hp=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ru(t,a))}return e},fp=e=>typeof e=="string"?e.replace(" ","T"):e,su=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class vi{constructor(t,r,s={},n=zi){this.channel=t,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var La;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(La||(La={}));class Ss{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ss.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ss.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ss.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,n){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(p=>p.presence_ref),f=d.map(p=>p.presence_ref),g=u.filter(p=>f.indexOf(p.presence_ref)<0),y=d.filter(p=>h.indexOf(p.presence_ref)<0);g.length>0&&(a[c]=g),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(t,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}s(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,n(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const n=t[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ua;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ua||(Ua={}));var Es;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Es||(Es={}));var Mt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class Kr{constructor(t,r={config:{}},s){var n,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vi(this,yt.join,this.params,this.timeout),this.rejoinTimer=new tu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ss(this),this.broadcastEndpointURL=su(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Es.PRESENCE]&&this.bindings[Es.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Mt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(Mt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,p=(g=y?.length)!==null&&g!==void 0?g:0,E=[];for(let v=0;v<p;v++){const w=y[v],{filter:{event:k,schema:N,table:F,filter:U}}=w,H=f&&f[v];if(H&&H.event===k&&Kr.isFilterValueEqual(H.schema,N)&&Kr.isFilterValueEqual(H.table,F)&&Kr.isFilterValueEqual(H.filter,U))E.push(Object.assign(Object.assign({},w),{id:H.id}));else{this.unsubscribe(),this.state=Ie.errored,t?.(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Mt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ie.errored,t?.(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===Ie.joined&&t===Es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var s,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ie.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new vi(this,yt.leave,{},t),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new vi(this,t,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>op){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=yt;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,r,s);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var g,y,p;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(y=f.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(f=>f.callback(h,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,y,p,E,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,N=(g=f.filter)===null||g===void 0?void 0:g.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(N==="*"||N?.toLocaleLowerCase()===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const k=(v=(E=f?.filter)===null||E===void 0?void 0:E.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return k==="*"||k===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:p,commit_timestamp:E,type:v,errors:w}=g;h=Object.assign(Object.assign({},{schema:y,table:p,commit_timestamp:E,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(h,s)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Kr.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yt.close,{},t)}_onError(t){this._on(yt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Da(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Da(t.columns,t.old_record)),r}}const wi=()=>{},rn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pp=[1e3,2e3,5e3,1e4],gp=1e4,mp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yp{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zi,this.transport=null,this.heartbeatIntervalMs=rn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wi,this.ref=0,this.reconnectTimer=null,this.vsn=$a,this.logger=wi,this.conn=null,this.sendBuffer=[],this.serializer=new ap,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ji.websocket}`,this.httpEndpoint=su(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case sr.connecting:return Sr.Connecting;case sr.open:return Sr.Open;case sr.closing:return Sr.Closing;default:return Sr.Closed}}isConnected(){return this.connectionState()===Sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new Kr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ip,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},rn.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===sr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===sr.open||this.conn.readyState===sr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(yt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${s}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([mp],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:sp};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(yt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new tu(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,n,i,o,a,l,c,u,d,h,f;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:zi,this.heartbeatIntervalMs=(n=t?.heartbeatIntervalMs)!==null&&n!==void 0?n:rn.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:wi,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:$a,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(g=>pp[g-1]||gp),this.vsn){case np:this.encode=(u=t?.encode)!==null&&u!==void 0?u:((g,y)=>y(JSON.stringify(g))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:((g,y)=>y(JSON.parse(g)));break;case eu:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Is=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function bp(e,t,r){const s=new URL(t,e);if(r)for(const[n,i]of Object.entries(r))i!==void 0&&s.searchParams.set(n,i);return s.toString()}async function _p(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vp(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:n,body:i,headers:o}){const a=bp(e.baseUrl,s,n),l=await _p(e.auth),c=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!c.ok){const f=d?h:void 0,g=f?.error;throw new Is(g?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:g?.type,icebergCode:g?.code,details:f})}return{status:c.status,headers:c.headers,data:h}}}}function sn(e){return e.join("")}var wp=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:sn(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sn(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sn(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sn(e.namespace)}`}),!0}catch(t){if(t instanceof Is&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Is&&r.status===409)return;throw r}}};function Nr(e){return e.join("")}var Sp=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Is&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Is&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Ep=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vp({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new wp(this.client,t),this.tableOps=new Sp(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xn=class extends Error{constructor(e,t="storage",r,s){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function Qn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var nn=class extends Xn{constructor(e,t,r,s="storage"){super(e,s,t,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nu=class extends Xn{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const xp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kp=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xi=e=>{if(Array.isArray(e))return e.map(r=>Xi(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Xi(s)}),t},Ap=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Rp(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(js(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tp(e){var t=Rp(e,"string");return js(t)=="symbol"?t:t+""}function Op(e,t,r){return(t=Tp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ba(Object(r),!0).forEach(function(s){Op(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Ma=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Cp=async(e,t,r,s)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const n=e,i=n.status||500;if(typeof n.json=="function")n.json().then(o=>{const a=o?.statusCode||o?.code||i+"";t(new nn(Ma(o),i,a,s))}).catch(()=>{if(s==="vectors"){const o=i+"";t(new nn(n.statusText||`HTTP ${i} error`,i,o,s))}else{const o=i+"";t(new nn(n.statusText||`HTTP ${i} error`,i,o,s))}});else{const o=i+"";t(new nn(n.statusText||`HTTP ${i} error`,i,o,s))}}else t(new nu(Ma(e),e,s))},Pp=(e,t,r,s)=>{const n={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!s?ee(ee({},n),r):(kp(s)?(n.headers=ee({"Content-Type":"application/json"},t?.headers),n.body=JSON.stringify(s)):n.body=s,t?.duplex&&(n.duplex=t.duplex),ee(ee({},n),r))};async function ls(e,t,r,s,n,i,o){return new Promise((a,l)=>{e(r,Pp(t,s,n,i)).then(c=>{if(!c.ok)throw c;if(s?.noResolveJson)return c;if(o==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>Cp(c,l,s,o))})}function iu(e="storage"){return{get:async(t,r,s,n)=>ls(t,"GET",r,s,n,void 0,e),post:async(t,r,s,n,i)=>ls(t,"POST",r,n,i,s,e),put:async(t,r,s,n,i)=>ls(t,"PUT",r,n,i,s,e),head:async(t,r,s,n)=>ls(t,"HEAD",r,ee(ee({},s),{},{noResolveJson:!0}),n,void 0,e),remove:async(t,r,s,n,i)=>ls(t,"DELETE",r,n,i,s,e)}}const Ip=iu("storage"),{get:Ns,post:mt,put:Qi,head:jp,remove:Po}=Ip,rt=iu("vectors");var ss=class{constructor(e,t={},r,s="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=xp(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qn(r))return{data:null,error:r};throw r}}},Np=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qn(t))return{data:null,error:t};throw t}}};let ou;ou=Symbol.toStringTag;var $p=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ou]="BlobDownloadBuilder",this.promise=null}asStream(){return new Np(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qn(t))return{data:null,error:t};throw t}}};const Dp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Lp=class extends ss{constructor(e,t={},r,s){super(e,t,s,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,s){var n=this;return n.handleOperation(async()=>{let i;const o=ee(ee({},Fa),s);let a=ee(ee({},n.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",n.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",n.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=n.toBase64(n.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s?.headers&&(a=ee(ee({},a),s.headers));const c=n._removeEmptyFolders(t),u=n._getFinalPath(c),d=await(e=="PUT"?Qi:mt)(n.fetch,`${n.url}/object/${u}`,i,ee({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var n=this;const i=n._removeEmptyFolders(e),o=n._getFinalPath(i),a=new URL(n.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),n.handleOperation(async()=>{let l;const c=ee({upsert:Fa.upsert},s),u=ee(ee({},n.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:i,fullPath:(await Qi(n.fetch,a.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e);const n=ee({},r.headers);t?.upsert&&(n["x-upsert"]="true");const i=await mt(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xn("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;return s.handleOperation(async()=>await mt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:s.headers}))}async copy(e,t,r){var s=this;return s.handleOperation(async()=>({path:(await mt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(e,t,r){var s=this;return s.handleOperation(async()=>{let n=s._getFinalPath(e),i=await mt(s.fetch,`${s.url}/object/sign/${n}`,ee({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var s=this;return s.handleOperation(async()=>{const n=await mt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return n.map(o=>ee(ee({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),n=s?`?${s}`:"",i=this._getFinalPath(e),o=()=>Ns(this.fetch,`${this.url}/${r}/${i}${n}`,{headers:this.headers,noResolveJson:!0});return new $p(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Xi(await Ns(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await jp(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Qn(s)&&s instanceof nu){const n=s.originalError;if([400,404].includes(n?.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],n=t?.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&s.push(n);const i=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&s.push(o);let a=s.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Po(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var s=this;return s.handleOperation(async()=>{const n=ee(ee(ee({},Dp),t),{},{prefix:e||""});return await mt(s.fetch,`${s.url}/object/list/${s.bucketId}`,n,{headers:s.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const s=ee({},e);return await mt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Up="2.93.3",Hs={"X-Client-Info":`storage-js/${Up}`};var Bp=class extends ss{constructor(e,t={},r,s){const n=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));const i=n.href.replace(/\/$/,""),o=ee(ee({},Hs),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Ns(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ns(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await mt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Qi(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await mt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Po(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Mp=class extends ss{constructor(e,t={},r){const s=e.replace(/\/$/,""),n=ee(ee({},Hs),t);super(s,n,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await mt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),n=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return await Ns(t.fetch,n,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Po(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Ap(e))throw new Xn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Ep({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(n,i){const o=n[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(n,a),error:null}}catch(l){if(s)throw l;return{data:null,error:l}}}}})}},Fp=class extends ss{constructor(e,t={},r){const s=e.replace(/\/$/,""),n=ee(ee({},Hs),{},{"Content-Type":"application/json"},t);super(s,n,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await rt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await rt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},qp=class extends ss{constructor(e,t={},r){const s=e.replace(/\/$/,""),n=ee(ee({},Hs),{},{"Content-Type":"application/json"},t);super(s,n,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Vp=class extends ss{constructor(e,t={},r){const s=e.replace(/\/$/,""),n=ee(ee({},Hs),{},{"Content-Type":"application/json"},t);super(s,n,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Hp=class extends Vp{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Kp(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Kp=class extends Fp{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ee(ee({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ee(ee({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Wp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Wp=class extends qp{constructor(e,t,r,s,n){super(e,t,n),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ee(ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ee(ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ee(ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ee(ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ee(ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Gp=class extends Bp{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new Lp(this.url,this.headers,e,this.fetch)}get vectors(){return new Hp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mp(this.url+"/iceberg",this.headers,this.fetch)}};const au="2.93.3",qr=30*1e3,Zi=3,Si=Zi*qr,zp="http://localhost:9999",Jp="supabase.auth.token",Yp={"X-Client-Info":`gotrue-js/${au}`},eo="X-Supabase-Api-Version",lu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qp=600*1e3;class $s extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Zp extends $s{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function eg(e){return K(e)&&e.name==="AuthApiError"}class Er extends $s{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yt extends $s{constructor(t,r,s,n){super(t,s,n),this.name=r,this.status=s}}class et extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ei(e){return K(e)&&e.name==="AuthSessionMissingError"}class $r extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class on extends Yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class an extends Yt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tg(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class qa extends Yt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rg extends Yt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class to extends Yt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xi(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Va extends Yt{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class ro extends Yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const On="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ha=` 	
\r=`.split(""),sg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ha.length;t+=1)e[Ha[t].charCodeAt(0)]=-2;for(let t=0;t<On.length;t+=1)e[On[t].charCodeAt(0)]=t;return e})();function Ka(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(On[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(On[s]),t.queuedBits-=6}}function cu(e,t,r){const s=sg[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wa(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{og(o,s,r)};for(let o=0;o<e.length;o+=1)cu(e.charCodeAt(o),n,i);return t.join("")}function ng(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ig(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}ng(s,t)}}function og(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Jr(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)cu(e.charCodeAt(n),r,s);return new Uint8Array(t)}function ag(e){const t=[];return ig(e,r=>t.push(r)),new Uint8Array(t)}function xr(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};return e.forEach(n=>Ka(n,r,s)),Ka(null,r,s),t.join("")}function lg(e){return Math.round(Date.now()/1e3)+e}function cg(){return Symbol("auth-callback")}const Le=()=>typeof window<"u"&&typeof document<"u",pr={tested:!1,writable:!1},uu=()=>{if(!Le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pr.tested)return pr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pr.tested=!0,pr.writable=!0}catch{pr.tested=!0,pr.writable=!1}return pr.writable};function ug(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{t[n]=s}),t}const du=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},De=async(e,t)=>{await e.removeItem(t)};class Zn{constructor(){this.promise=new Zn.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zn.promiseConstructor=Promise;function ln(e){const t=e.split(".");if(t.length!==3)throw new ro("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Xp.test(t[s]))throw new ro("JWT not in base64url format");return{header:JSON.parse(Wa(t[0])),payload:JSON.parse(Wa(t[1])),signature:Jr(t[2]),raw:{header:t[0],payload:t[1]}}}async function hg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fg(e,t){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function pg(e){return("0"+e.toString(16)).substr(-2)}function gg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(t),Array.from(t,pg).join("")}async function mg(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function yg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await mg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(e,t,r=!1){const s=gg();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Vr(e,`${t}-code-verifier`,n);const i=await yg(s);return[i,s===i?"plain":"s256"]}const bg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _g(e){const t=e.headers.get(eo);if(!t||!t.match(bg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lr(e){if(!Sg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ki(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Eg(e,t){return new Proxy(e,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,n)}})}function Ga(e){return JSON.parse(JSON.stringify(e))}const br=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xg=[502,503,504];async function za(e){var t;if(!dg(e))throw new to(br(e),0);if(xg.includes(e.status))throw new to(br(e),e.status);let r;try{r=await e.json()}catch(i){throw new Er(br(i),i)}let s;const n=_g(e);if(n&&n.getTime()>=lu["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Va(br(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new et}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Va(br(r),e.status,r.weak_password.reasons);throw new Zp(br(r),e.status||500,s)}const kg=(e,t,r,s)=>{const n={method:e,headers:t?.headers||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function Z(e,t,r,s){var n;const i=Object.assign({},s?.headers);i[eo]||(i[eo]=lu["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s?.query)!==null&&n!==void 0?n:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ag(e,t,r+a,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function Ag(e,t,r,s,n,i){const o=kg(t,s,n,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new to(br(l),0)}if(a.ok||await za(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await za(l)}}function gt(e){var t;let r=null;Og(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=lg(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Ja(e){const t=gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ir(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rg(e){return{data:e,error:null}}function Tg(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=e,o=Yn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ya(e){return e}function Og(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ai=["global","local","others"];class Cg{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=du(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ai[0]){if(Ai.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ai.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ir})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=Yn(t,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s?.newEmail,delete n.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Tg,redirectTo:r?.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ir})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ya});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);c[`${p}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(K(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Lr(t);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ir})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Lr(t);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ir})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Lr(t);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ir})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Lr(t.userId);try{const{data:r,error:s}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Lr(t.userId),Lr(t.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ya});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);c[`${p}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(K(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}}function Xa(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ur={debug:!!(globalThis&&uu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hu extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Pg extends hu{}async function Ig(e,t,r){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ur.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fu(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ng(e){return parseInt(e,16)}function $g(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Dg(e){var t;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=fu(e.address),g=u?`${u}://${s}`:s,y=e.statement?`${e.statement}
`:"",p=`${g} wants you to sign in with your Ethereum account:
${f}

${y}`;let E=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(E+=`
Expiration Time: ${n.toISOString()}`),a&&(E+=`
Not Before: ${a.toISOString()}`),l&&(E+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}E+=v}return`${p}
${E}`}class Oe extends Error{constructor({message:t,code:r,cause:s,name:n}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Cn extends Oe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Lg({error:e,options:t}){var r,s,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(pu(o)){if(i.rp.id!==o)return new Oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ug({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(pu(s)){if(r.rpId!==s)return new Oe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Bg{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Mg=new Bg;function Fg(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,n=Yn(e,["challenge","user","excludeCredentials"]),i=Jr(t).buffer,o=Object.assign(Object.assign({},r),{id:Jr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Jr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function qg(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=Yn(e,["challenge","allowCredentials"]),n=Jr(t).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Jr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Vg(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xr(new Uint8Array(e.response.attestationObject)),clientDataJSON:xr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hg(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xr(new Uint8Array(n.authenticatorData)),clientDataJSON:xr(new Uint8Array(n.clientDataJSON)),signature:xr(new Uint8Array(n.signature)),userHandle:n.userHandle?xr(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pu(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qa(){var e,t;return!!(Le()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Kg(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cn("Browser returned unexpected credential type",t)}:{data:null,error:new Cn("Empty credential response",t)}}catch(t){return{data:null,error:Lg({error:t,options:e})}}}async function Wg(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cn("Browser returned unexpected credential type",t)}:{data:null,error:new Cn("Empty credential response",t)}}catch(t){return{data:null,error:Ug({error:t,options:e})}}}const Gg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zg={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pn(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of e)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(t(o)){const a=s[i];t(a)?s[i]=Pn(a,o):s[i]=Pn(o)}else s[i]=o}return s}function Jg(e,t){return Pn(Gg,e,t||{})}function Yg(e,t){return Pn(zg,e,t||{})}class Xg{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:n},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=n??Mg.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){const d=s;if(d)u.name=`${u.id}:${d}`;else{const f=(await this.client.getUser()).data.user,g=((o=f?.user_metadata)===null||o===void 0?void 0:o.name)||f?.email||f?.id||"User";u.name=`${u.id}:${g}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Jg(a.webauthn.credential_options.publicKey,i?.create),{data:d,error:h}=await Kg({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Yg(a.webauthn.credential_options.publicKey,i?.request),{data:d,error:h}=await Wg(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return K(a)?{data:null,error:a}:{data:null,error:new Er("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new $s("rpId is required for WebAuthn authentication")};try{if(!Qa())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return K(o)?{data:null,error:o}:{data:null,error:new Er("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new $s("rpId is required for WebAuthn registration")};try{if(!Qa())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return K(o)?{data:null,error:o}:{data:null,error:new Er("Unexpected error in register",o)}}}}jg();const Qg={url:zp,storageKey:Jp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Za(e,t,r){return await r()}const Br={};class Ds{get jwks(){var t,r;return(r=(t=Br[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Br[this.storageKey]=Object.assign(Object.assign({},Br[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Br[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Br[this.storageKey]=Object.assign(Object.assign({},Br[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Qg),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Ds.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ds.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Le()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Cg({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=du(i.fetch),this.lock=i.lock||Za,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Le()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Ig:this.lock=Za,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Xg(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:uu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xa(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Xa(this.memoryStorage)),Le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${au}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(Le()&&(r=ug(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Le()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tg(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?this._returnResult({error:r}):this._returnResult({error:new Er("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,n;try{const i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=t?.options)===null||n===void 0?void 0:n.captchaToken}},xform:gt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,n;try{let i;if("email"in t){const{email:u,password:d,options:h}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Dr(this.storage,this.storageKey)),i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:d,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:g},xform:gt})}else if("phone"in t){const{phone:u,password:d,options:h}=t;i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=h?.data)!==null&&s!==void 0?s:{},channel:(n=h?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:gt})}else throw new on("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await De(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ja})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ja})}else throw new on("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const i=new $r;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,n,i,o,a,l,c,u,d,h;let f,g;if("message"in t)f=t.message,g=t.signature;else{const{chain:y,wallet:p,statement:E,options:v}=t;let w;if(Le())if(typeof p=="object")w=p;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const k=new URL((r=v?.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=fu(N[0]);let U=(s=v?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!U){const P=await w.request({method:"eth_chainId"});U=Ng(P)}const H={domain:k.host,address:F,statement:E,uri:k.href,version:"1",chainId:U,nonce:(n=v?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=v?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=v?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Dg(H),g=await w.request({method:"personal_sign",params:[$g(f),F]})}try{const{data:y,error:p}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:gt});if(p)throw p;if(!y||!y.session||!y.user){const E=new $r;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:p})}catch(y){if(K(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,s,n,i,o,a,l,c,u,d,h,f;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:p,wallet:E,statement:v,options:w}=t;let k;if(Le())if(typeof E=="object")k=E;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))k=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=E}const N=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const F=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let U;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")U=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)U=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)g=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),y=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(n=(s=w?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const F=await k.signMessage(new TextEncoder().encode(g),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=F}}try{const{data:p,error:E}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:xr(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gt});if(E)throw E;if(!p||!p.session||!p.user){const v=new $r;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:E})}catch(p){if(K(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async _exchangeCodeForSession(t){const r=await gr(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new rg;const{data:i,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:gt});if(await De(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new $r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=t,a=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new $r;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Dr(this.storage,this.storageKey));const{error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new on("You must provide either an email or phone number.")}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),K(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,s;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,s,n,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Dr(this.storage,this.storageKey));const c=await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=t?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Rg});return!((i=c.data)===null||i===void 0)&&i.url&&Le()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),K(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new et;const{error:n}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(K(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:n,options:i}=t,{error:o}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:n,options:i}=t,{data:o,error:a}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new on("You must provide either an email or phone number and a type")}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Si:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await gr(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=ki()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Eg(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ir}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ir})})}catch(r){if(K(r))return Ei(r)&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new et;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Dr(this.storage,this.storageKey));const{data:c,error:u}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ir});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await De(this.storage,`${this.storageKey}-code-verifier`),K(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new et;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=ln(t.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(K(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new et;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Le())throw new an("No browser detected.");if(t.error||t.error_description||t.error_code)throw new an(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new an("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qa("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new an("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:y,error:p}=await this._getUser(i);if(p)throw p;const E={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(s){if(K(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i&&!Ei(i))return this._returnResult({error:i});const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(eg(a)&&(a.status===404||a.status===401||a.status===403)||Ei(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=cg(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Dr(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Le()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(K(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,d=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:gt}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new $r}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await fg(async n=>(n>0&&await hg(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&xi(i)&&Date.now()+o-s<qr})}catch(s){if(this._debug(r,"error",s),K(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),Le()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await gr(this.storage,this.storageKey);if(n&&this.userStorage){let o=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Vr(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o?.user)!==null&&t!==void 0?t:ki()}else if(n&&!n.user&&!n.user){const o=await gr(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await De(this.storage,this.storageKey+"-user"),await Vr(this.storage,this.storageKey,n)):n.user=ki()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Si;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Si}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),xi(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Zn;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),K(i)){const o={data:null,error:i};return xi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,s=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await De(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Vr(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=Ga(n);await Vr(this.storage,this.storageKey,i)}else{const n=Ga(r);await Vr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await De(this.storage,this.storageKey),await De(this.storage,this.storageKey+"-code-verifier"),await De(this.storage,this.storageKey+"-user"),this.userStorage&&await De(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Le()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-t)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${qr}ms, refresh threshold is ${Zi} ticks`),n<=Zi&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hu)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Le()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s?.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Vg(t.webauthn.credential_response):Hg(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Fg(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:qg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,s,n,i;if(t)try{const{payload:f}=ln(t);let g=null;f.aal&&(g=f.aal);let y=g;const{data:{user:p},error:E}=await this.getUser(t);if(E)return this._returnResult({data:null,error:E});((s=(r=p?.factors)===null||r===void 0?void 0:r.filter(k=>k.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(y="aal2");const w=f.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:w},error:null}}catch(f){if(K(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ln(o.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await Z(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new et})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new et});const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Le()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(K(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new et});const o=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Le()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(K(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await Z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new et})})}catch(t){if(K(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?(await Z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new et})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(a=>a.kid===t);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===t),s&&this.jwks_cached_at+Qp>n)return s;const{data:i,error:o}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});s=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=ln(s);r?.allowExpired||vg(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const u=wg(n.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,ag(`${a}.${l}`)))throw new ro("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(K(s))return this._returnResult({data:null,error:s});throw s}}}Ds.nextInstanceID={};const Zg=Ds,em="2.93.3";let hs="";typeof Deno<"u"?hs="deno":typeof document<"u"?hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hs="react-native":hs="node";const tm={"X-Client-Info":`supabase-js-${hs}/${em}`},rm={headers:tm},sm={schema:"public"},nm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},im={};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function om(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Ls(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function am(e){var t=om(e,"string");return Ls(t)=="symbol"?t:t+""}function lm(e,t,r){return(t=am(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(s){lm(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const cm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),um=()=>Headers,dm=(e,t,r)=>{const s=cm(r),n=um();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,xe(xe({},o),{},{headers:c}))}};function hm(e){return e.endsWith("/")?e:e+"/"}function fm(e,t){var r,s;const{db:n,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:xe(xe({},l),n),auth:xe(xe({},c),i),realtime:xe(xe({},u),o),storage:{},global:xe(xe(xe({},d),a),{},{headers:xe(xe({},(r=d?.headers)!==null&&r!==void 0?r:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function pm(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hm(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gm=class extends Zg{constructor(e){super(e)}},mm=class{constructor(e,t,r){var s,n;this.supabaseUrl=e,this.supabaseKey=t;const i=pm(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:sm,realtime:im,auth:xe(xe({},nm),{},{storageKey:o}),global:rm},l=fm(r??{},a);if(this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(n=l.global.headers)!==null&&n!==void 0?n:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=dm(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new ep(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Gp(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Jf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:n,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gm({url:this.authUrl.href,headers:xe(xe({},h),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:n,flowType:o,lock:a,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yp(this.realtimeUrl.href,xe(xe({},e),{},{params:xe(xe({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const gu=(e,t,r)=>new mm(e,t,r);function ym(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}ym()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mu="https://wfosdlvxdlhpcyzevjjc.supabase.co",bm="sb_publishable_oMqXUrfmb1J-QgBe9m8Vkw_tzmlzxc4",je=gu(mu,bm),$v=gu(mu,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb3NkbHZ4ZGxocGN5emV2ampjIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDU3MzY2NSwiZXhwIjoyMDg2MTQ5NjY1fQ.5_nVki3vfaGvtk8kHixX6FR3c47AOceLhbxW0I0Kwnk",{auth:{autoRefreshToken:!1,persistSession:!1}}),Ks=Kf("auth",{state:()=>({user:null,session:null,loading:!0}),actions:{async initialize(){this.loading=!0;try{const{data:{session:e}}=await je.auth.getSession();if(this.session=e,e?.user){let{data:t,error:r}=await je.from("profiles").select("role, project_id").eq("id",e.user.id).single();if(r&&r.code==="PGRST116"){await new Promise(i=>setTimeout(i,1500));let{data:n}=await je.from("profiles").select("role, project_id, description").eq("id",e.user.id).single();if(n)t=n;else{console.log("Profile not found after wait, creating default profile for user:",e.user.email);const{data:i,error:o}=await je.from("profiles").insert([{id:e.user.id,full_name:e.user.email.split("@")[0],email:e.user.email,role:"Viewer"}]).select().single();o?console.error("Failed to create default profile:",o):(t=i,console.log("Default profile created successfully."))}}let s=t?.role||"Viewer";if(["admin@digitek.com","ganjarpranowo@pdi.com"].includes(e.user.email)&&(s="Super Admin",t?.role!=="Super Admin")){console.log("Syncing Super Admin role to DB for:",e.user.email);const{error:n}=await je.from("profiles").update({role:"Super Admin"}).eq("id",e.user.id);n?console.error("Failed to sync Super Admin role to DB:",n):console.log("Successfully synced Super Admin role to DB.")}this.user={...e.user,role:s,project_id:t?.project_id||1,description:t?.description}}else this.user=null;je.auth.onAuthStateChange(async(t,r)=>{if(this.session=r,r?.user){const{data:s}=await je.from("profiles").select("role, project_id, description").eq("id",r.user.id).single();let n=s?.role||"Viewer";["admin@digitek.com","ganjarpranowo@pdi.com"].includes(r.user.email)&&(n="Super Admin"),this.user={...r.user,role:n,project_id:s?.project_id||1,description:s?.description}}else this.user=null})}catch(e){console.error("Auth initialization error:",e)}finally{this.loading=!1}},async signIn(e,t){console.log("Attempting Supabase sign in for:",e);const{data:r,error:s}=await je.auth.signInWithPassword({email:e,password:t});if(s)throw console.error("Supabase sign in error:",s),s;if(console.log("Supabase sign in successful. Data:",r),r.user){console.log("Fetching profile for user ID:",r.user.id);const{data:n,error:i}=await je.from("profiles").select("role").eq("id",r.user.id).single();i&&console.error("Error fetching profile:",i),console.log("Fetched profile:",n);let o=n?.role||"Viewer";console.log("Initial role:",o),["admin@digitek.com","ganjarpranowo@pdi.com"].includes(r.user.email)&&(o="Super Admin",console.log("User is Super Admin. Role set to:",o),n?.role!=="Super Admin"&&(console.log("Syncing Super Admin role to DB..."),await je.from("profiles").update({role:"Super Admin"}).eq("id",r.user.id))),this.user={...r.user,role:o},console.log("Final user object set in store:",this.user)}return r},async signUp(e,t,r={}){const{data:s,error:n}=await je.auth.signUp({email:e,password:t,options:{data:r}});if(n)throw n;if(s.user){const{error:i}=await je.from("profiles").insert({id:s.user.id,email:e,full_name:r.full_name||e.split("@")[0],role:"Viewer"}).select().single();i&&console.warn("Profile creation failed (might already exist):",i)}return s},async signOut(){const{error:e}=await je.auth.signOut();if(e)throw e;this.user=null,this.session=null}}}),_m={key:1,class:"h-screen w-screen flex items-center justify-center bg-background-light dark:bg-background-dark"},vm={__name:"App",setup(e){const t=Ks();return qs(async()=>{console.log("App Mounted, checking environment variables..."),console.log("API URL:","https://wfosdlvxdlhpcyzevjjc.supabase.co"),console.log("Anon Key Present:",!0);try{await t.initialize(),console.log("Auth initialized. User:",t.user?.email||"Not logged in")}catch(r){console.error("Auth Init Error:",r)}(localStorage.getItem("darkMode")==="true"||!localStorage.getItem("darkMode")&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark")}),(r,s)=>{const n=Kn("router-view");return ut(t).loading?(oe(),le("div",_m,[...s[0]||(s[0]=[_("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"},null,-1)])])):(oe(),kn(n,{key:0}))}}},wm="modulepreload",Sm=function(e){return"/Monitoring-Digital-Teknologi-Perkasa/"+e},tl={},mr=function(t,r,s){let n=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=l(r.map(c=>{if(c=Sm(c),c in tl)return;tl[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":wm,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};const Hr=typeof document<"u";function yu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Em(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&yu(e.default)}const he=Object.assign;function Ri(e,t){const r={};for(const s in t){const n=t[s];r[s]=wt(n)?n.map(e):e(n)}return r}const xs=()=>{},wt=Array.isArray;function rl(e,t){const r={};for(const s in e)r[s]=s in t?t[s]:e[s];return r}const bu=/#/g,xm=/&/g,km=/\//g,Am=/=/g,Rm=/\?/g,_u=/\+/g,Tm=/%5B/g,Om=/%5D/g,vu=/%5E/g,Cm=/%60/g,wu=/%7B/g,Pm=/%7C/g,Su=/%7D/g,Im=/%20/g;function Io(e){return e==null?"":encodeURI(""+e).replace(Pm,"|").replace(Tm,"[").replace(Om,"]")}function jm(e){return Io(e).replace(wu,"{").replace(Su,"}").replace(vu,"^")}function so(e){return Io(e).replace(_u,"%2B").replace(Im,"+").replace(bu,"%23").replace(xm,"%26").replace(Cm,"`").replace(wu,"{").replace(Su,"}").replace(vu,"^")}function Nm(e){return so(e).replace(Am,"%3D")}function $m(e){return Io(e).replace(bu,"%23").replace(Rm,"%3F")}function Dm(e){return $m(e).replace(km,"%2F")}function Us(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Lm=/\/$/,Um=e=>e.replace(Lm,"");function Ti(e,t,r="/"){let s,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=t.slice(0,l),i=t.slice(l,a>0?a:t.length),n=e(i.slice(1))),a>=0&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=qm(s??t,r),{fullPath:s+i+o,path:s,query:n,hash:Us(o)}}function Bm(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function sl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Mm(e,t,r){const s=t.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&Zr(t.matched[s],r.matched[n])&&Eu(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Zr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Eu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!Fm(e[r],t[r]))return!1;return!0}function Fm(e,t){return wt(e)?nl(e,t):wt(t)?nl(t,e):e?.valueOf()===t?.valueOf()}function nl(e,t){return wt(t)?e.length===t.length&&e.every((r,s)=>r===t[s]):e.length===1&&e[0]===t}function qm(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),s=e.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Qt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let no=(function(e){return e.pop="pop",e.push="push",e})({}),Oi=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function Vm(e){if(!e)if(Hr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Um(e)}const Hm=/^[^#]+#/;function Km(e,t){return e.replace(Hm,"#")+t}function Wm(e,t){const r=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-r.left-(t.left||0),top:s.top-r.top-(t.top||0)}}const ei=()=>({left:window.scrollX,top:window.scrollY});function Gm(e){let t;if("el"in e){const r=e.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;t=Wm(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function il(e,t){return(history.state?history.state.position-t:-1)+e}const io=new Map;function zm(e,t){io.set(e,t)}function Jm(e){const t=io.get(e);return io.delete(e),t}function Ym(e){return typeof e=="string"||e&&typeof e=="object"}function xu(e){return typeof e=="string"||typeof e=="symbol"}let Ee=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const ku=Symbol("");Ee.MATCHER_NOT_FOUND+"",Ee.NAVIGATION_GUARD_REDIRECT+"",Ee.NAVIGATION_ABORTED+"",Ee.NAVIGATION_CANCELLED+"",Ee.NAVIGATION_DUPLICATED+"";function es(e,t){return he(new Error,{type:e,[ku]:!0},t)}function Ut(e,t){return e instanceof Error&&ku in e&&(t==null||!!(e.type&t))}const Xm=["params","query","hash"];function Qm(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const r of Xm)r in e&&(t[r]=e[r]);return JSON.stringify(t,null,2)}function Zm(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const n=r[s].replace(_u," "),i=n.indexOf("="),o=Us(i<0?n:n.slice(0,i)),a=i<0?null:Us(n.slice(i+1));if(o in t){let l=t[o];wt(l)||(l=t[o]=[l]),l.push(a)}else t[o]=a}return t}function ol(e){let t="";for(let r in e){const s=e[r];if(r=Nm(r),s==null){s!==void 0&&(t+=(t.length?"&":"")+r);continue}(wt(s)?s.map(n=>n&&so(n)):[s&&so(s)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+r,n!=null&&(t+="="+n))})}return t}function ey(e){const t={};for(const r in e){const s=e[r];s!==void 0&&(t[r]=wt(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return t}const ty=Symbol(""),al=Symbol(""),ti=Symbol(""),jo=Symbol(""),oo=Symbol("");function cs(){let e=[];function t(s){return e.push(s),()=>{const n=e.indexOf(s);n>-1&&e.splice(n,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function nr(e,t,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(es(Ee.NAVIGATION_ABORTED,{from:r,to:t})):h instanceof Error?l(h):Ym(h)?l(es(Ee.NAVIGATION_GUARD_REDIRECT,{from:t,to:h})):(o&&s.enterCallbacks[n]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>e.call(s&&s.instances[n],t,r,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function Ci(e,t,r,s,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(yu(l)){const c=(l.__vccOpts||l)[t];c&&i.push(nr(c,r,s,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Em(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&nr(h,r,s,o,a,n)()}))}}return i}function ry(e,t){const r=[],s=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>Zr(c,a))?s.push(a):r.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Zr(c,l))||n.push(l))}return[r,s,n]}let sy=()=>location.protocol+"//"+location.host;function Au(e,t){const{pathname:r,search:s,hash:n}=t,i=e.indexOf("#");if(i>-1){let o=n.includes(e.slice(i))?e.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),sl(a,"")}return sl(r,e)+s+n}function ny(e,t,r,s){let n=[],i=[],o=null;const a=({state:h})=>{const f=Au(e,location),g=r.value,y=t.value;let p=0;if(h){if(r.value=f,t.value=h,o&&o===g){o=null;return}p=y?h.position-y.position:0}else s(f);n.forEach(E=>{E(r.value,g,{delta:p,type:no.pop,direction:p?p>0?Oi.forward:Oi.back:Oi.unknown})})};function l(){o=r.value}function c(h){n.push(h);const f=()=>{const g=n.indexOf(h);g>-1&&n.splice(g,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(he({},h.state,{scroll:ei()}),"")}}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function ll(e,t,r,s=!1,n=!1){return{back:e,current:t,forward:r,replaced:s,position:window.history.length,scroll:n?ei():null}}function iy(e){const{history:t,location:r}=window,s={value:Au(e,r)},n={value:t.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=e.indexOf("#"),h=d>-1?(r.host&&document.querySelector("base")?e:e.slice(d))+l:sy()+e+l;try{t[u?"replaceState":"pushState"](c,"",h),n.value=c}catch(f){console.error(f),r[u?"replace":"assign"](h)}}function o(l,c){i(l,he({},t.state,ll(n.value.back,l,n.value.forward,!0),c,{position:n.value.position}),!0),s.value=l}function a(l,c){const u=he({},n.value,t.state,{forward:l,scroll:ei()});i(u.current,u,!0),i(l,he({},ll(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:n,push:a,replace:o}}function oy(e){e=Vm(e);const t=iy(e),r=ny(e,t.state,t.location,t.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=he({location:"",base:e,go:s,createHref:Km.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}let kr=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Pe=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Pe||{});const ay={type:kr.Static,value:""},ly=/[a-zA-Z0-9_]/;function cy(e){if(!e)return[[]];if(e==="/")return[[ay]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=Pe.Static,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(r===Pe.Static?i.push({type:kr.Static,value:c}):r===Pe.Param||r===Pe.ParamRegExp||r===Pe.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:kr.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&r!==Pe.ParamRegExp){s=r,r=Pe.EscapeNext;continue}switch(r){case Pe.Static:l==="/"?(c&&d(),o()):l===":"?(d(),r=Pe.Param):h();break;case Pe.EscapeNext:h(),r=s;break;case Pe.Param:l==="("?r=Pe.ParamRegExp:ly.test(l)?h():(d(),r=Pe.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Pe.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=Pe.ParamRegExpEnd:u+=l;break;case Pe.ParamRegExpEnd:d(),r=Pe.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return r===Pe.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),n}const cl="[^/]+?",uy={sensitive:!1,strict:!1,start:!0,end:!0};var Ke=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(Ke||{});const dy=/[.+*?^${}()[\]/\\]/g;function hy(e,t){const r=he({},uy,t),s=[];let n=r.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[Ke.Root];r.strict&&!c.length&&(n+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=Ke.Segment+(r.sensitive?Ke.BonusCaseSensitive:0);if(h.type===kr.Static)d||(n+="/"),n+=h.value.replace(dy,"\\$&"),f+=Ke.Static;else if(h.type===kr.Param){const{value:g,repeatable:y,optional:p,regexp:E}=h;i.push({name:g,repeatable:y,optional:p});const v=E||cl;if(v!==cl){f+=Ke.BonusCustomRegExp;try{`${v}`}catch(k){throw new Error(`Invalid custom RegExp for param "${g}" (${v}): `+k.message)}}let w=y?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(w=p&&c.length<2?`(?:/${w})`:"/"+w),p&&(w+="?"),n+=w,f+=Ke.Dynamic,p&&(f+=Ke.BonusOptional),y&&(f+=Ke.BonusRepeatable),v===".*"&&(f+=Ke.BonusWildcard)}u.push(f)}s.push(u)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=Ke.BonusStrict}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",g=i[h-1];d[g.name]=f&&g.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===kr.Static)u+=f.value;else if(f.type===kr.Param){const{value:g,repeatable:y,optional:p}=f,E=g in c?c[g]:"";if(wt(E)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const v=wt(E)?E.join("/"):E;if(!v)if(p)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=v}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function fy(e,t){let r=0;for(;r<e.length&&r<t.length;){const s=t[r]-e[r];if(s)return s;r++}return e.length<t.length?e.length===1&&e[0]===Ke.Static+Ke.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ke.Static+Ke.Segment?1:-1:0}function Ru(e,t){let r=0;const s=e.score,n=t.score;for(;r<s.length&&r<n.length;){const i=fy(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(ul(s))return 1;if(ul(n))return-1}return n.length-s.length}function ul(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const py={strict:!1,end:!0,sensitive:!1};function gy(e,t,r){const s=hy(cy(e.path),r),n=he(s,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function my(e,t){const r=[],s=new Map;t=rl(py,t);function n(d){return s.get(d)}function i(d,h,f){const g=!f,y=hl(d);y.aliasOf=f&&f.record;const p=rl(t,d),E=[y];if("alias"in d){const k=typeof d.alias=="string"?[d.alias]:d.alias;for(const N of k)E.push(hl(he({},y,{components:f?f.record.components:y.components,path:N,aliasOf:f?f.record:y})))}let v,w;for(const k of E){const{path:N}=k;if(h&&N[0]!=="/"){const F=h.record.path,U=F[F.length-1]==="/"?"":"/";k.path=h.record.path+(N&&U+N)}if(v=gy(k,h,p),f?f.alias.push(v):(w=w||v,w!==v&&w.alias.push(v),g&&d.name&&!fl(v)&&o(d.name)),Tu(v)&&l(v),y.children){const F=y.children;for(let U=0;U<F.length;U++)i(F[U],v,f&&f.children[U])}f=f||v}return w?()=>{o(w)}:xs}function o(d){if(xu(d)){const h=s.get(d);h&&(s.delete(d),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(d);h>-1&&(r.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return r}function l(d){const h=_y(d,r);r.splice(h,0,d),d.record.name&&!fl(d)&&s.set(d.record.name,d)}function c(d,h){let f,g={},y,p;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw es(Ee.MATCHER_NOT_FOUND,{location:d});p=f.record.name,g=he(dl(h.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),d.params&&dl(d.params,f.keys.map(w=>w.name))),y=f.stringify(g)}else if(d.path!=null)y=d.path,f=r.find(w=>w.re.test(y)),f&&(g=f.parse(y),p=f.record.name);else{if(f=h.name?s.get(h.name):r.find(w=>w.re.test(h.path)),!f)throw es(Ee.MATCHER_NOT_FOUND,{location:d,currentLocation:h});p=f.record.name,g=he({},h.params,d.params),y=f.stringify(g)}const E=[];let v=f;for(;v;)E.unshift(v.record),v=v.parent;return{name:p,path:y,params:g,matched:E,meta:by(E)}}e.forEach(d=>i(d));function u(){r.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function dl(e,t){const r={};for(const s of t)s in e&&(r[s]=e[s]);return r}function hl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:yy(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function yy(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const s in e.components)t[s]=typeof r=="object"?r[s]:r;return t}function fl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function by(e){return e.reduce((t,r)=>he(t,r.meta),{})}function _y(e,t){let r=0,s=t.length;for(;r!==s;){const i=r+s>>1;Ru(e,t[i])<0?s=i:r=i+1}const n=vy(e);return n&&(s=t.lastIndexOf(n,s-1)),s}function vy(e){let t=e;for(;t=t.parent;)if(Tu(t)&&Ru(e,t)===0)return t}function Tu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function pl(e){const t=dt(ti),r=dt(jo),s=Ye(()=>{const l=ut(e.to);return t.resolve(l)}),n=Ye(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=r.matched;if(!u||!d.length)return-1;const h=d.findIndex(Zr.bind(null,u));if(h>-1)return h;const f=gl(l[c-2]);return c>1&&gl(u)===f&&d[d.length-1].path!==f?d.findIndex(Zr.bind(null,l[c-2])):h}),i=Ye(()=>n.value>-1&&ky(r.params,s.value.params)),o=Ye(()=>n.value>-1&&n.value===r.matched.length-1&&Eu(r.params,s.value.params));function a(l={}){if(xy(l)){const c=t[ut(e.replace)?"replace":"push"](ut(e.to)).catch(xs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Ye(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function wy(e){return e.length===1?e[0]:e}const Sy=Sc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:pl,setup(e,{slots:t}){const r=Ms(pl(e)),{options:s}=dt(ti),n=Ye(()=>({[ml(e.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[ml(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&wy(t.default(r));return e.custom?i:Oo("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),Ey=Sy;function xy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ky(e,t){for(const r in t){const s=t[r],n=e[r];if(typeof s=="string"){if(s!==n)return!1}else if(!wt(n)||n.length!==s.length||s.some((i,o)=>i.valueOf()!==n[o].valueOf()))return!1}return!0}function gl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ml=(e,t,r)=>e??t??r,Ay=Sc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const s=dt(oo),n=Ye(()=>e.route||s.value),i=dt(al,0),o=Ye(()=>{let c=ut(i);const{matched:u}=n.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Ye(()=>n.value.matched[o.value]);dn(al,Ye(()=>o.value+1)),dn(ty,a),dn(oo,n);const l=Se();return ms(()=>[l.value,a.value,e.name],([c,u,d],[h,f,g])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Zr(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=n.value,u=e.name,d=a.value,h=d&&d.components[u];if(!h)return yl(r.default,{Component:h,route:c});const f=d.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,p=Oo(h,he({},g,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return yl(r.default,{Component:p,route:c})||p}}});function yl(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Ry=Ay;function Ty(e){const t=my(e.routes,e),r=e.parseQuery||Zm,s=e.stringifyQuery||ol,n=e.history,i=cs(),o=cs(),a=cs(),l=jd(Qt);let c=Qt;Hr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ri.bind(null,T=>""+T),d=Ri.bind(null,Dm),h=Ri.bind(null,Us);function f(T,q){let B,z;return xu(T)?(B=t.getRecordMatcher(T),z=q):z=T,t.addRoute(z,B)}function g(T){const q=t.getRecordMatcher(T);q&&t.removeRoute(q)}function y(){return t.getRoutes().map(T=>T.record)}function p(T){return!!t.getRecordMatcher(T)}function E(T,q){if(q=he({},q||l.value),typeof T=="string"){const S=Ti(r,T,q.path),A=t.resolve({path:S.path},q),O=n.createHref(S.fullPath);return he(S,A,{params:h(A.params),hash:Us(S.hash),redirectedFrom:void 0,href:O})}let B;if(T.path!=null)B=he({},T,{path:Ti(r,T.path,q.path).path});else{const S=he({},T.params);for(const A in S)S[A]==null&&delete S[A];B=he({},T,{params:d(S)}),q.params=d(q.params)}const z=t.resolve(B,q),ce=T.hash||"";z.params=u(h(z.params));const m=Bm(s,he({},T,{hash:jm(ce),path:z.path})),b=n.createHref(m);return he({fullPath:m,hash:ce,query:s===ol?ey(T.query):T.query||{}},z,{redirectedFrom:void 0,href:b})}function v(T){return typeof T=="string"?Ti(r,T,l.value.path):he({},T)}function w(T,q){if(c!==T)return es(Ee.NAVIGATION_CANCELLED,{from:q,to:T})}function k(T){return U(T)}function N(T){return k(he(v(T),{replace:!0}))}function F(T,q){const B=T.matched[T.matched.length-1];if(B&&B.redirect){const{redirect:z}=B;let ce=typeof z=="function"?z(T,q):z;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=v(ce):{path:ce},ce.params={}),he({query:T.query,hash:T.hash,params:ce.path!=null?{}:T.params},ce)}}function U(T,q){const B=c=E(T),z=l.value,ce=T.state,m=T.force,b=T.replace===!0,S=F(B,z);if(S)return U(he(v(S),{state:typeof S=="object"?he({},ce,S.state):ce,force:m,replace:b}),q||B);const A=B;A.redirectedFrom=q;let O;return!m&&Mm(s,z,B)&&(O=es(Ee.NAVIGATION_DUPLICATED,{to:A,from:z}),Ce(z,z,!0,!1)),(O?Promise.resolve(O):X(A,z)).catch(R=>Ut(R)?Ut(R,Ee.NAVIGATION_GUARD_REDIRECT)?R:Et(R):D(R,A,z)).then(R=>{if(R){if(Ut(R,Ee.NAVIGATION_GUARD_REDIRECT))return U(he({replace:b},v(R.to),{state:typeof R.to=="object"?he({},ce,R.to.state):ce,force:m}),q||A)}else R=I(A,z,!0,b,ce);return ie(A,z,R),R})}function H(T,q){const B=w(T,q);return B?Promise.reject(B):Promise.resolve()}function P(T){const q=pt.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(T):T()}function X(T,q){let B;const[z,ce,m]=ry(T,q);B=Ci(z.reverse(),"beforeRouteLeave",T,q);for(const S of z)S.leaveGuards.forEach(A=>{B.push(nr(A,T,q))});const b=H.bind(null,T,q);return B.push(b),ot(B).then(()=>{B=[];for(const S of i.list())B.push(nr(S,T,q));return B.push(b),ot(B)}).then(()=>{B=Ci(ce,"beforeRouteUpdate",T,q);for(const S of ce)S.updateGuards.forEach(A=>{B.push(nr(A,T,q))});return B.push(b),ot(B)}).then(()=>{B=[];for(const S of m)if(S.beforeEnter)if(wt(S.beforeEnter))for(const A of S.beforeEnter)B.push(nr(A,T,q));else B.push(nr(S.beforeEnter,T,q));return B.push(b),ot(B)}).then(()=>(T.matched.forEach(S=>S.enterCallbacks={}),B=Ci(m,"beforeRouteEnter",T,q,P),B.push(b),ot(B))).then(()=>{B=[];for(const S of o.list())B.push(nr(S,T,q));return B.push(b),ot(B)}).catch(S=>Ut(S,Ee.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function ie(T,q,B){a.list().forEach(z=>P(()=>z(T,q,B)))}function I(T,q,B,z,ce){const m=w(T,q);if(m)return m;const b=q===Qt,S=Hr?history.state:{};B&&(z||b?n.replace(T.fullPath,he({scroll:b&&S&&S.scroll},ce)):n.push(T.fullPath,ce)),l.value=T,Ce(T,q,B,b),Et()}let V;function ae(){V||(V=n.listen((T,q,B)=>{if(!kt.listening)return;const z=E(T),ce=F(z,kt.currentRoute.value);if(ce){U(he(ce,{replace:!0,force:!0}),z).catch(xs);return}c=z;const m=l.value;Hr&&zm(il(m.fullPath,B.delta),ei()),X(z,m).catch(b=>Ut(b,Ee.NAVIGATION_ABORTED|Ee.NAVIGATION_CANCELLED)?b:Ut(b,Ee.NAVIGATION_GUARD_REDIRECT)?(U(he(v(b.to),{force:!0}),z).then(S=>{Ut(S,Ee.NAVIGATION_ABORTED|Ee.NAVIGATION_DUPLICATED)&&!B.delta&&B.type===no.pop&&n.go(-1,!1)}).catch(xs),Promise.reject()):(B.delta&&n.go(-B.delta,!1),D(b,z,m))).then(b=>{b=b||I(z,m,!1),b&&(B.delta&&!Ut(b,Ee.NAVIGATION_CANCELLED)?n.go(-B.delta,!1):B.type===no.pop&&Ut(b,Ee.NAVIGATION_ABORTED|Ee.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),ie(z,m,b)}).catch(xs)}))}let me=cs(),W=cs(),Y;function D(T,q,B){Et(T);const z=W.list();return z.length?z.forEach(ce=>ce(T,q,B)):console.error(T),Promise.reject(T)}function Ue(){return Y&&l.value!==Qt?Promise.resolve():new Promise((T,q)=>{me.add([T,q])})}function Et(T){return Y||(Y=!T,ae(),me.list().forEach(([q,B])=>T?B(T):q()),me.reset()),T}function Ce(T,q,B,z){const{scrollBehavior:ce}=e;if(!Hr||!ce)return Promise.resolve();const m=!B&&Jm(il(T.fullPath,0))||(z||!B)&&history.state&&history.state.scroll||null;return qn().then(()=>ce(T,q,m)).then(b=>b&&Gm(b)).catch(b=>D(b,T,q))}const Ae=T=>n.go(T);let xt;const pt=new Set,kt={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:p,getRoutes:y,resolve:E,options:e,push:k,replace:N,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:W.add,isReady:Ue,install(T){T.component("RouterLink",Ey),T.component("RouterView",Ry),T.config.globalProperties.$router=kt,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>ut(l)}),Hr&&!xt&&l.value===Qt&&(xt=!0,k(n.location).catch(z=>{}));const q={};for(const z in Qt)Object.defineProperty(q,z,{get:()=>l.value[z],enumerable:!0});T.provide(ti,kt),T.provide(jo,oc(q)),T.provide(oo,l);const B=T.unmount;pt.add(T),T.unmount=function(){pt.delete(T),pt.size<1&&(c=Qt,V&&V(),V=null,l.value=Qt,xt=!1,Y=!1),B()}}};function ot(T){return T.reduce((q,B)=>q.then(()=>P(B)),Promise.resolve())}return kt}function No(){return dt(ti)}function Ou(e){return dt(jo)}const Oy="/Monitoring-Digital-Teknologi-Perkasa/digitek%20putih.webp",Cy={class:"h-16 flex items-center justify-between px-6 border-b border-slate-100 dark:border-white/10 flex-shrink-0"},Py={class:"flex items-center gap-3 overflow-hidden"},Iy={key:0,class:"flex flex-col overflow-hidden"},jy={class:"text-sm font-bold leading-tight text-slate-900 dark:text-white truncate"},Ny=["title"],$y={class:"material-symbols-outlined text-xl"},Dy={class:"flex-1 py-6 px-4 flex flex-col gap-1 overflow-y-auto custom-scrollbar"},Ly={key:0,class:"px-3 mb-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest"},Uy={class:"material-symbols-outlined text-xl group-hover:text-emerald-500 transition-colors"},By={key:0,class:"text-sm font-medium"},My={key:1,class:"px-3 mb-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest"},Fy={class:"material-symbols-outlined text-xl group-hover:text-emerald-500 transition-colors"},qy={key:0,class:"text-sm font-medium"},Vy={class:"p-4 border-t border-slate-100 dark:border-white/10 flex-shrink-0"},Hy={class:"flex items-center gap-3 px-2"},Ky={key:0},Wy={key:0,class:"flex-1 min-w-0 overflow-hidden"},Gy={class:"text-xs font-bold truncate text-slate-900 dark:text-white"},zy={key:0,class:"text-[9px] text-slate-400 dark:text-slate-500 italic truncate mb-0.5"},Jy={class:"text-[10px] text-slate-500 dark:text-emerald-400"},Yy={__name:"Sidebar",props:{isSidebarOpen:Boolean,isMobileSidebarOpen:Boolean,userProfile:Object,projectName:String,projectDescription:String,menuItems:Array,adminItems:Array},emits:["logout","toggleSidebar","toggleMobileSidebar"],setup(e,{emit:t}){const r=e,s=t,n=Ou(),i=Ye(()=>{const l=r.projectDescription||"DIGITAL PLATFORM",c=l.split(" ");return c.length<=3?l:c.slice(0,3).join(" ")+"...."}),o=()=>{window.innerWidth<1024&&s("toggleMobileSidebar")},a=()=>{s("logout")};return(l,c)=>{const u=Kn("router-link");return oe(),le("aside",{class:ct(["bg-white dark:bg-[#0d1f1f] flex flex-col flex-shrink-0 transition-all duration-300 z-50 border-r border-slate-200 dark:border-white/5","fixed inset-y-0 left-0 lg:relative lg:translate-x-0 shadow-[4px_0_24px_-12px_rgba(0,0,0,0.1)]",e.isMobileSidebarOpen?"translate-x-0":"-translate-x-full lg:translate-x-0",e.isSidebarOpen?"w-64":"w-20"])},[_("div",Cy,[_("div",Py,[c[2]||(c[2]=_("div",{class:"flex-shrink-0"},[_("img",{src:Oy,alt:"Logo",class:"size-10 object-contain"})],-1)),e.isSidebarOpen?(oe(),le("div",Iy,[_("span",jy,te(e.projectName),1),we(u,{to:"/settings",class:"hover:underline"},{default:lt(()=>[_("span",{class:"text-[8px] text-emerald-600 dark:text-emerald-400 font-medium tracking-wide",title:e.projectDescription||"DIGITAL PLATFORM"},te(i.value),9,Ny)]),_:1})])):Me("",!0)]),_("button",{onClick:c[0]||(c[0]=d=>s("toggleMobileSidebar")),class:"lg:hidden text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors"},[...c[3]||(c[3]=[_("span",{class:"material-symbols-outlined text-xl"},"close",-1)])]),_("button",{onClick:c[1]||(c[1]=d=>s("toggleSidebar")),class:"hidden lg:block text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors"},[_("span",$y,te(e.isSidebarOpen?"menu_open":"menu"),1)])]),_("nav",Dy,[e.isSidebarOpen?(oe(),le("div",Ly,"Main Menu")):Me("",!0),(oe(!0),le($e,null,vr(e.menuItems,d=>(oe(),kn(u,{key:d.path,to:d.path,onClick:o,class:ct(["flex items-center gap-3 px-3 py-3 rounded-r-lg transition-all group border-l-[3px] border-transparent",[ut(n).path===d.path?"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-600 dark:border-emerald-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-white/5 hover:text-slate-900 dark:hover:text-white"]])},{default:lt(()=>[_("span",Uy,te(d.icon),1),e.isSidebarOpen?(oe(),le("span",By,te(d.name),1)):Me("",!0)]),_:2},1032,["to","class"]))),128)),c[4]||(c[4]=_("div",{class:"my-3 mx-3 border-t border-slate-100 dark:border-white/10"},null,-1)),e.isSidebarOpen?(oe(),le("div",My,"Administrasi")):Me("",!0),(oe(!0),le($e,null,vr(e.adminItems,d=>(oe(),kn(u,{key:d.path,to:d.path,onClick:o,class:ct(["flex items-center gap-3 px-3 py-3 rounded-r-lg transition-all group border-l-[3px] border-transparent",[ut(n).path===d.path?"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-600 dark:border-emerald-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-white/5 hover:text-slate-900 dark:hover:text-white"]])},{default:lt(()=>[_("span",Fy,te(d.icon),1),e.isSidebarOpen?(oe(),le("span",qy,te(d.name),1)):Me("",!0)]),_:2},1032,["to","class"]))),128))]),_("div",Vy,[_("div",Hy,[_("div",{class:"size-10 rounded-full bg-slate-100 dark:bg-slate-800 bg-cover border border-slate-200 dark:border-white/10 shadow-sm flex-shrink-0 flex items-center justify-center font-bold text-slate-600 dark:text-slate-400 text-sm",style:Yr(e.userProfile?.avatar?{backgroundImage:`url(${e.userProfile.avatar})`}:{})},[e.userProfile?.avatar?Me("",!0):(oe(),le("span",Ky,te(e.userProfile?.name?.charAt(0).toUpperCase()||"U"),1))],4),e.isSidebarOpen?(oe(),le("div",Wy,[_("p",Gy,te(e.userProfile?.name||"User"),1),e.userProfile?.description?(oe(),le("p",zy,te(e.userProfile.description),1)):Me("",!0),_("p",Jy,te(e.userProfile?.role||"Viewer"),1)])):Me("",!0),e.isSidebarOpen?(oe(),le("button",{key:1,onClick:a,class:"text-slate-400 hover:text-red-600 dark:hover:text-red-400 transition-colors p-1 hover:bg-red-50 dark:hover:bg-red-500/10 rounded",title:"Keluar Sistem"},[...c[5]||(c[5]=[_("span",{class:"material-symbols-outlined text-xl"},"logout",-1)])])):Me("",!0)]),e.isSidebarOpen?Me("",!0):(oe(),le("button",{key:0,onClick:a,class:"mt-4 w-full flex items-center justify-center text-slate-400 hover:text-red-600 transition-colors"},[...c[6]||(c[6]=[_("span",{class:"material-symbols-outlined"},"logout",-1)])]))])],2)}}},Xy={class:"h-16 bg-white dark:bg-[#141414] border-b border-slate-200 dark:border-gray-800 flex items-center justify-between px-4 md:px-6 sticky top-0 z-40 flex-shrink-0 transition-colors"},Qy={class:"flex items-center gap-2 md:gap-4 flex-1"},Zy={class:"flex flex-col lg:flex-row lg:items-center lg:gap-4 flex-1 text-center lg:text-left"},eb={class:"lg:flex-1"},tb={class:"text-base md:text-lg font-bold text-slate-800 dark:text-white leading-tight truncate px-2 lg:px-0"},rb={class:"text-[10px] md:text-xs text-slate-500 dark:text-gray-400 truncate px-2 lg:px-0"},sb={class:"flex items-center gap-2 md:gap-4"},nb={__name:"Header",props:{isDarkMode:Boolean,isSidebarOpen:Boolean,userProfile:Object},emits:["toggleSidebar","toggleDarkMode","toggleMobileSidebar","logout"],setup(e,{emit:t}){const r=t,s=Ou();return(n,i)=>(oe(),le("header",Xy,[_("div",Qy,[_("button",{onClick:i[0]||(i[0]=o=>r("toggleMobileSidebar")),class:"lg:hidden p-2 text-slate-600 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-800 rounded-lg transition-colors"},[...i[2]||(i[2]=[_("span",{class:"material-symbols-outlined"},"menu",-1)])]),_("div",Zy,[_("div",eb,[_("h1",tb,te(ut(s).meta.title||"Dashboard Overview"),1),_("p",rb,te(ut(s).meta.subtitle||"Overview sistem dan status pembaruan"),1)])])]),_("div",sb,[i[3]||(i[3]=_("div",{class:"hidden lg:block h-6 w-px bg-slate-200 dark:bg-gray-700 mx-2"},null,-1)),_("button",{onClick:i[1]||(i[1]=o=>r("toggleDarkMode")),class:"relative flex items-center h-8 w-14 rounded-full p-1 transition-all duration-300 focus:outline-none shadow-inner border border-slate-200 dark:border-gray-700 bg-slate-100 dark:bg-[#1a1a1a]","aria-label":"Toggle Dark Mode"},[_("div",{class:ct(["absolute h-6 w-6 rounded-full flex items-center justify-center shadow-md transform transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)]",[e.isDarkMode?"translate-x-6 bg-slate-800":"translate-x-0 bg-white"]])},[_("span",{class:ct(["material-symbols-outlined text-[18px] transition-all duration-300",[e.isDarkMode?"text-emerald-400 rotate-0":"text-amber-500 rotate-12"]])},te(e.isDarkMode?"dark_mode":"light_mode"),3)],2)]),i[4]||(i[4]=_("button",{class:"relative p-2 text-slate-500 dark:text-gray-400 hover:bg-slate-50 dark:hover:bg-gray-800 rounded-full transition-colors"},[_("span",{class:"material-symbols-outlined"},"notifications"),_("span",{class:"absolute top-2 right-2 size-2 bg-rose-500 rounded-full border border-white dark:border-[#141414]"})],-1))])]))}},ib={class:"flex h-screen bg-background-light dark:bg-background-dark font-sans overflow-hidden transition-colors duration-300"},ob={class:"flex-1 flex flex-col min-w-0 h-screen"},ab={class:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar bg-slate-50 dark:bg-background-dark p-6 transition-colors"},lb={__name:"MainLayout",setup(e){const t=No(),r=Ks(),s=Se(localStorage.getItem("darkMode")==="true"),n=Se(!0),i=Se(!1),o=Se(localStorage.getItem("app_name")||"Monitoring Digitek"),a=Se(localStorage.getItem("app_description")||""),l=Se({name:"Memuat...",role:"Viewer",avatar:"https://ui-avatars.com/api/?name=User&background=random"}),c=()=>{s.value=!s.value,s.value?(document.documentElement.classList.add("dark"),document.documentElement.style.backgroundColor=""):(document.documentElement.classList.remove("dark"),document.documentElement.style.backgroundColor="#f8fafc"),localStorage.setItem("darkMode",s.value)},u=()=>{n.value=!n.value},d=()=>{i.value=!i.value},h=()=>{i.value=!1},f=async()=>{await r.signOut(),t.push("/login")},g=v=>{o.value=v.detail},y=v=>{a.value=v.detail};qs(async()=>{if(window.addEventListener("app-name-updated",g),window.addEventListener("app-description-updated",y),s.value?document.documentElement.classList.add("dark"):(document.documentElement.classList.remove("dark"),document.documentElement.style.backgroundColor="#f8fafc"),r.user){const{data:v}=await je.from("profiles").select("*, project_id").eq("id",r.user.id).single();if(v){l.value={name:v.full_name||r.user.email.split("@")[0],role:v.role||"Viewer",description:v.description||"",avatar:v.avatar_url||`https://ui-avatars.com/api/?name=${v.full_name||"User"}&background=random`};const{data:w}=await je.from("projects").select("name, description").eq("id",v.project_id||1).single();w&&(o.value=w.name,a.value=w.description||"",localStorage.setItem("app_name",w.name),localStorage.setItem("app_description",w.description||""),localStorage.setItem("project_id",v.project_id||1))}}}),xo(()=>{window.removeEventListener("app-name-updated",g),window.removeEventListener("app-description-updated",y)});const p=[{name:"Dashboard",icon:"dashboard",path:"/"},{name:"Manajemen Semua Log",icon:"bug_report",path:"/logs"},{name:"Manajemen Fitur",icon:"featured_play_list",path:"/features"},{name:"Manajemen Version Control",icon:"history",path:"/version-control"},{name:"Manajemen Access Control",icon:"admin_panel_settings",path:"/access-control"},{name:"Laporan & Statistik",icon:"analytics",path:"/reports"}],E=Ye(()=>[{name:"Manajemen Akses Tim",icon:"groups",path:"/team",roles:["Super Admin","Editor"]},{name:"Pengaturan",icon:"settings",path:"/settings",roles:["Super Admin","Editor","Viewer"]}].filter(w=>!w.roles||w.roles.includes(l.value.role)));return(v,w)=>{const k=Kn("router-view");return oe(),le("div",ib,[i.value?(oe(),le("div",{key:0,class:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm transition-opacity",onClick:h})):Me("",!0),we(Yy,{"is-sidebar-open":n.value,"is-mobile-sidebar-open":i.value,"user-profile":l.value,"project-name":o.value,"project-description":a.value,"menu-items":p,"admin-items":E.value,onLogout:f,onToggleSidebar:u,onToggleMobileSidebar:d},null,8,["is-sidebar-open","is-mobile-sidebar-open","user-profile","project-name","project-description","admin-items"]),_("div",ob,[we(nb,{"is-dark-mode":s.value,"is-sidebar-open":n.value,"user-profile":l.value,onToggleSidebar:u,onToggleDarkMode:c,onToggleMobileSidebar:d,onLogout:f},null,8,["is-dark-mode","is-sidebar-open","user-profile"]),_("main",ab,[we(k,{onToggleDarkMode:c})])])])}}};function Cu(e,t){return function(){return e.apply(t,arguments)}}const{toString:cb}=Object.prototype,{getPrototypeOf:$o}=Object,{iterator:ri,toStringTag:Pu}=Symbol,si=(e=>t=>{const r=cb.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),St=e=>(e=e.toLowerCase(),t=>si(t)===e),ni=e=>t=>typeof t===e,{isArray:ns}=Array,ts=ni("undefined");function Ws(e){return e!==null&&!ts(e)&&e.constructor!==null&&!ts(e.constructor)&&Xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Iu=St("ArrayBuffer");function ub(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Iu(e.buffer),t}const db=ni("string"),Xe=ni("function"),ju=ni("number"),Gs=e=>e!==null&&typeof e=="object",hb=e=>e===!0||e===!1,gn=e=>{if(si(e)!=="object")return!1;const t=$o(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Pu in e)&&!(ri in e)},fb=e=>{if(!Gs(e)||Ws(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},pb=St("Date"),gb=St("File"),mb=St("Blob"),yb=St("FileList"),bb=e=>Gs(e)&&Xe(e.pipe),_b=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xe(e.append)&&((t=si(e))==="formdata"||t==="object"&&Xe(e.toString)&&e.toString()==="[object FormData]"))},vb=St("URLSearchParams"),[wb,Sb,Eb,xb]=["ReadableStream","Request","Response","Headers"].map(St),kb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zs(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),ns(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(Ws(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(s=0;s<o;s++)a=i[s],t.call(null,e[a],a,e)}}function Nu(e,t){if(Ws(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const Ar=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$u=e=>!ts(e)&&e!==Ar;function ao(){const{caseless:e,skipUndefined:t}=$u(this)&&this||{},r={},s=(n,i)=>{const o=e&&Nu(r,i)||i;gn(r[o])&&gn(n)?r[o]=ao(r[o],n):gn(n)?r[o]=ao({},n):ns(n)?r[o]=n.slice():(!t||!ts(n))&&(r[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&zs(arguments[n],s);return r}const Ab=(e,t,r,{allOwnKeys:s}={})=>(zs(t,(n,i)=>{r&&Xe(n)?Object.defineProperty(e,i,{value:Cu(n,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:n,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),e),Rb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tb=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Ob=(e,t,r,s)=>{let n,i,o;const a={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!s||s(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&$o(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Cb=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Pb=e=>{if(!e)return null;if(ns(e))return e;let t=e.length;if(!ju(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Ib=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$o(Uint8Array)),jb=(e,t)=>{const s=(e&&e[ri]).call(e);let n;for(;(n=s.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},Nb=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},$b=St("HTMLFormElement"),Db=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),bl=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Lb=St("RegExp"),Du=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};zs(r,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(s[i]=o||n)}),Object.defineProperties(e,s)},Ub=e=>{Du(e,(t,r)=>{if(Xe(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Xe(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Bb=(e,t)=>{const r={},s=n=>{n.forEach(i=>{r[i]=!0})};return ns(e)?s(e):s(String(e).split(t)),r},Mb=()=>{},Fb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function qb(e){return!!(e&&Xe(e.append)&&e[Pu]==="FormData"&&e[ri])}const Vb=e=>{const t=new Array(10),r=(s,n)=>{if(Gs(s)){if(t.indexOf(s)>=0)return;if(Ws(s))return s;if(!("toJSON"in s)){t[n]=s;const i=ns(s)?[]:{};return zs(s,(o,a)=>{const l=r(o,n+1);!ts(l)&&(i[a]=l)}),t[n]=void 0,i}}return s};return r(e,0)},Hb=St("AsyncFunction"),Kb=e=>e&&(Gs(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),Lu=((e,t)=>e?setImmediate:t?((r,s)=>(Ar.addEventListener("message",({source:n,data:i})=>{n===Ar&&i===r&&s.length&&s.shift()()},!1),n=>{s.push(n),Ar.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xe(Ar.postMessage)),Wb=typeof queueMicrotask<"u"?queueMicrotask.bind(Ar):typeof process<"u"&&process.nextTick||Lu,Gb=e=>e!=null&&Xe(e[ri]),x={isArray:ns,isArrayBuffer:Iu,isBuffer:Ws,isFormData:_b,isArrayBufferView:ub,isString:db,isNumber:ju,isBoolean:hb,isObject:Gs,isPlainObject:gn,isEmptyObject:fb,isReadableStream:wb,isRequest:Sb,isResponse:Eb,isHeaders:xb,isUndefined:ts,isDate:pb,isFile:gb,isBlob:mb,isRegExp:Lb,isFunction:Xe,isStream:bb,isURLSearchParams:vb,isTypedArray:Ib,isFileList:yb,forEach:zs,merge:ao,extend:Ab,trim:kb,stripBOM:Rb,inherits:Tb,toFlatObject:Ob,kindOf:si,kindOfTest:St,endsWith:Cb,toArray:Pb,forEachEntry:jb,matchAll:Nb,isHTMLForm:$b,hasOwnProperty:bl,hasOwnProp:bl,reduceDescriptors:Du,freezeMethods:Ub,toObjectSet:Bb,toCamelCase:Db,noop:Mb,toFiniteNumber:Fb,findKey:Nu,global:Ar,isContextDefined:$u,isSpecCompliantForm:qb,toJSONObject:Vb,isAsyncFn:Hb,isThenable:Kb,setImmediate:Lu,asap:Wb,isIterable:Gb};let re=class Uu extends Error{static from(t,r,s,n,i,o){const a=new Uu(t.message,r||t.code,s,n,i);return a.cause=t,a.name=t.name,o&&Object.assign(a,o),a}constructor(t,r,s,n,i){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}};re.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";re.ERR_BAD_OPTION="ERR_BAD_OPTION";re.ECONNABORTED="ECONNABORTED";re.ETIMEDOUT="ETIMEDOUT";re.ERR_NETWORK="ERR_NETWORK";re.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";re.ERR_DEPRECATED="ERR_DEPRECATED";re.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";re.ERR_BAD_REQUEST="ERR_BAD_REQUEST";re.ERR_CANCELED="ERR_CANCELED";re.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";re.ERR_INVALID_URL="ERR_INVALID_URL";const zb=null;function lo(e){return x.isPlainObject(e)||x.isArray(e)}function Bu(e){return x.endsWith(e,"[]")?e.slice(0,-2):e}function _l(e,t,r){return e?e.concat(t).map(function(n,i){return n=Bu(n),!r&&i?"["+n+"]":n}).join(r?".":""):t}function Jb(e){return x.isArray(e)&&!e.some(lo)}const Yb=x.toFlatObject(x,{},null,function(t){return/^is[A-Z]/.test(t)});function ii(e,t,r){if(!x.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=x.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,p){return!x.isUndefined(p[y])});const s=r.metaTokens,n=r.visitor||u,i=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(t);if(!x.isFunction(n))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(x.isDate(g))return g.toISOString();if(x.isBoolean(g))return g.toString();if(!l&&x.isBlob(g))throw new re("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(g)||x.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,p){let E=g;if(g&&!p&&typeof g=="object"){if(x.endsWith(y,"{}"))y=s?y:y.slice(0,-2),g=JSON.stringify(g);else if(x.isArray(g)&&Jb(g)||(x.isFileList(g)||x.endsWith(y,"[]"))&&(E=x.toArray(g)))return y=Bu(y),E.forEach(function(w,k){!(x.isUndefined(w)||w===null)&&t.append(o===!0?_l([y],k,i):o===null?y:y+"[]",c(w))}),!1}return lo(g)?!0:(t.append(_l(p,y,i),c(g)),!1)}const d=[],h=Object.assign(Yb,{defaultVisitor:u,convertValue:c,isVisitable:lo});function f(g,y){if(!x.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),x.forEach(g,function(E,v){(!(x.isUndefined(E)||E===null)&&n.call(t,E,x.isString(v)?v.trim():v,y,h))===!0&&f(E,y?y.concat(v):[v])}),d.pop()}}if(!x.isObject(e))throw new TypeError("data must be an object");return f(e),t}function vl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Do(e,t){this._pairs=[],e&&ii(e,this,t)}const Mu=Do.prototype;Mu.append=function(t,r){this._pairs.push([t,r])};Mu.toString=function(t){const r=t?function(s){return t.call(this,s,vl)}:vl;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Xb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Fu(e,t,r){if(!t)return e;const s=r&&r.encode||Xb,n=x.isFunction(r)?{serialize:r}:r,i=n&&n.serialize;let o;if(i?o=i(t,n):o=x.isURLSearchParams(t)?t.toString():new Do(t,n).toString(s),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class wl{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){x.forEach(this.handlers,function(s){s!==null&&t(s)})}}const qu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qb=typeof URLSearchParams<"u"?URLSearchParams:Do,Zb=typeof FormData<"u"?FormData:null,e0=typeof Blob<"u"?Blob:null,t0={isBrowser:!0,classes:{URLSearchParams:Qb,FormData:Zb,Blob:e0},protocols:["http","https","file","blob","url","data"]},Lo=typeof window<"u"&&typeof document<"u",co=typeof navigator=="object"&&navigator||void 0,r0=Lo&&(!co||["ReactNative","NativeScript","NS"].indexOf(co.product)<0),s0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",n0=Lo&&window.location.href||"http://localhost",i0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lo,hasStandardBrowserEnv:r0,hasStandardBrowserWebWorkerEnv:s0,navigator:co,origin:n0},Symbol.toStringTag,{value:"Module"})),Ve={...i0,...t0};function o0(e,t){return ii(e,new Ve.classes.URLSearchParams,{visitor:function(r,s,n,i){return Ve.isNode&&x.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function a0(e){return x.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function l0(e){const t={},r=Object.keys(e);let s;const n=r.length;let i;for(s=0;s<n;s++)i=r[s],t[i]=e[i];return t}function Vu(e){function t(r,s,n,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=r.length;return o=!o&&x.isArray(n)?n.length:o,l?(x.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!a):((!n[o]||!x.isObject(n[o]))&&(n[o]=[]),t(r,s,n[o],i)&&x.isArray(n[o])&&(n[o]=l0(n[o])),!a)}if(x.isFormData(e)&&x.isFunction(e.entries)){const r={};return x.forEachEntry(e,(s,n)=>{t(a0(s),n,r,0)}),r}return null}function c0(e,t,r){if(x.isString(e))try{return(t||JSON.parse)(e),x.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Js={transitional:qu,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,i=x.isObject(t);if(i&&x.isHTMLForm(t)&&(t=new FormData(t)),x.isFormData(t))return n?JSON.stringify(Vu(t)):t;if(x.isArrayBuffer(t)||x.isBuffer(t)||x.isStream(t)||x.isFile(t)||x.isBlob(t)||x.isReadableStream(t))return t;if(x.isArrayBufferView(t))return t.buffer;if(x.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return o0(t,this.formSerializer).toString();if((a=x.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ii(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),c0(t)):t}],transformResponse:[function(t){const r=this.transitional||Js.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(x.isResponse(t)||x.isReadableStream(t))return t;if(t&&x.isString(t)&&(s&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?re.from(a,re.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],e=>{Js.headers[e]={}});const u0=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d0=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!r||t[r]&&u0[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Sl=Symbol("internals");function us(e){return e&&String(e).trim().toLowerCase()}function mn(e){return e===!1||e==null?e:x.isArray(e)?e.map(mn):String(e)}function h0(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const f0=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pi(e,t,r,s,n){if(x.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!x.isString(t)){if(x.isString(s))return t.indexOf(s)!==-1;if(x.isRegExp(s))return s.test(t)}}function p0(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function g0(e,t){const r=x.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,i,o){return this[s].call(this,t,n,i,o)},configurable:!0})})}let Qe=class{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function i(a,l,c){const u=us(l);if(!u)throw new Error("header name must be a non-empty string");const d=x.findKey(n,u);(!d||n[d]===void 0||c===!0||c===void 0&&n[d]!==!1)&&(n[d||l]=mn(a))}const o=(a,l)=>x.forEach(a,(c,u)=>i(c,u,l));if(x.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(x.isString(t)&&(t=t.trim())&&!f0(t))o(d0(t),r);else if(x.isObject(t)&&x.isIterable(t)){let a={},l,c;for(const u of t){if(!x.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?x.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=us(t),t){const s=x.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return h0(n);if(x.isFunction(r))return r.call(this,n,s);if(x.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=us(t),t){const s=x.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Pi(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function i(o){if(o=us(o),o){const a=x.findKey(s,o);a&&(!r||Pi(s,s[a],a,r))&&(delete s[a],n=!0)}}return x.isArray(t)?t.forEach(i):i(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const i=r[s];(!t||Pi(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const r=this,s={};return x.forEach(this,(n,i)=>{const o=x.findKey(s,i);if(o){r[o]=mn(n),delete r[i];return}const a=t?p0(i):String(i).trim();a!==i&&delete r[i],r[a]=mn(n),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return x.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&x.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Sl]=this[Sl]={accessors:{}}).accessors,n=this.prototype;function i(o){const a=us(o);s[a]||(g0(n,o),s[a]=!0)}return x.isArray(t)?t.forEach(i):i(t),this}};Qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(Qe.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});x.freezeMethods(Qe);function Ii(e,t){const r=this||Js,s=t||r,n=Qe.from(s.headers);let i=s.data;return x.forEach(e,function(a){i=a.call(r,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Hu(e){return!!(e&&e.__CANCEL__)}let Ys=class extends re{constructor(t,r,s){super(t??"canceled",re.ERR_CANCELED,r,s),this.name="CanceledError",this.__CANCEL__=!0}};function Ku(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new re("Request failed with status code "+r.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function m0(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function y0(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=s[i];o||(o=c),r[n]=l,s[n]=c;let d=i,h=0;for(;d!==n;)h+=r[d++],d=d%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),c-o<t)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function b0(e,t){let r=0,s=1e3/t,n,i;const o=(c,u=Date.now())=>{r=u,n=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-r;d>=s?o(c,u):(n=c,i||(i=setTimeout(()=>{i=null,o(n)},s-d)))},()=>n&&o(n)]}const In=(e,t,r=3)=>{let s=0;const n=y0(50,250);return b0(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-s,c=n(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},r)},El=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},xl=e=>(...t)=>x.asap(()=>e(...t)),_0=Ve.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ve.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,v0=Ve.hasStandardBrowserEnv?{write(e,t,r,s,n,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];x.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),x.isString(s)&&a.push(`path=${s}`),x.isString(n)&&a.push(`domain=${n}`),i===!0&&a.push("secure"),x.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function w0(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function S0(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Wu(e,t,r){let s=!w0(t);return e&&(s||r==!1)?S0(e,t):t}const kl=e=>e instanceof Qe?{...e}:e;function Pr(e,t){t=t||{};const r={};function s(c,u,d,h){return x.isPlainObject(c)&&x.isPlainObject(u)?x.merge.call({caseless:h},c,u):x.isPlainObject(u)?x.merge({},u):x.isArray(u)?u.slice():u}function n(c,u,d,h){if(x.isUndefined(u)){if(!x.isUndefined(c))return s(void 0,c,d,h)}else return s(c,u,d,h)}function i(c,u){if(!x.isUndefined(u))return s(void 0,u)}function o(c,u){if(x.isUndefined(u)){if(!x.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in t)return s(c,u);if(d in e)return s(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>n(kl(c),kl(u),d,!0)};return x.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||n,h=d(e[u],t[u],u);x.isUndefined(h)&&d!==a||(r[u]=h)}),r}const Gu=e=>{const t=Pr({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=Qe.from(o),t.url=Fu(Wu(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),x.isFormData(r)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(x.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(Ve.hasStandardBrowserEnv&&(s&&x.isFunction(s)&&(s=s(t)),s||s!==!1&&_0(t.url))){const l=n&&i&&v0.read(i);l&&o.set(n,l)}return t},E0=typeof XMLHttpRequest<"u",x0=E0&&function(e){return new Promise(function(r,s){const n=Gu(e);let i=n.data;const o=Qe.from(n.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=n,u,d,h,f,g;function y(){f&&f(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function E(){if(!p)return;const w=Qe.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:w,config:e,request:p};Ku(function(U){r(U),y()},function(U){s(U),y()},N),p=null}"onloadend"in p?p.onloadend=E:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(E)},p.onabort=function(){p&&(s(new re("Request aborted",re.ECONNABORTED,e,p)),p=null)},p.onerror=function(k){const N=k&&k.message?k.message:"Network Error",F=new re(N,re.ERR_NETWORK,e,p);F.event=k||null,s(F),p=null},p.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const N=n.transitional||qu;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),s(new re(k,N.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&x.forEach(o.toJSON(),function(k,N){p.setRequestHeader(N,k)}),x.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),a&&a!=="json"&&(p.responseType=n.responseType),c&&([h,g]=In(c,!0),p.addEventListener("progress",h)),l&&p.upload&&([d,f]=In(l),p.upload.addEventListener("progress",d),p.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(u=w=>{p&&(s(!w||w.type?new Ys(null,e,p):w),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const v=m0(n.url);if(v&&Ve.protocols.indexOf(v)===-1){s(new re("Unsupported protocol "+v+":",re.ERR_BAD_REQUEST,e));return}p.send(i||null)})},k0=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const i=function(c){if(!n){n=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof re?u:new Ys(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new re(`timeout of ${t}ms exceeded`,re.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>x.asap(a),l}},A0=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},R0=async function*(e,t){for await(const r of T0(e))yield*A0(r,t)},T0=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Al=(e,t,r,s)=>{const n=R0(e,t);let i=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await n.next();if(c){a(),l.close();return}let d=u.byteLength;if(r){let h=i+=d;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),n.return()}},{highWaterMark:2})},Rl=64*1024,{isFunction:cn}=x,O0=(({Request:e,Response:t})=>({Request:e,Response:t}))(x.global),{ReadableStream:Tl,TextEncoder:Ol}=x.global,Cl=(e,...t)=>{try{return!!e(...t)}catch{return!1}},C0=e=>{e=x.merge.call({skipUndefined:!0},O0,e);const{fetch:t,Request:r,Response:s}=e,n=t?cn(t):typeof fetch=="function",i=cn(r),o=cn(s);if(!n)return!1;const a=n&&cn(Tl),l=n&&(typeof Ol=="function"?(g=>y=>g.encode(y))(new Ol):async g=>new Uint8Array(await new r(g).arrayBuffer())),c=i&&a&&Cl(()=>{let g=!1;const y=new r(Ve.origin,{body:new Tl,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),u=o&&a&&Cl(()=>x.isReadableStream(new s("").body)),d={stream:u&&(g=>g.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!d[g]&&(d[g]=(y,p)=>{let E=y&&y[g];if(E)return E.call(y);throw new re(`Response type '${g}' is not supported`,re.ERR_NOT_SUPPORT,p)})});const h=async g=>{if(g==null)return 0;if(x.isBlob(g))return g.size;if(x.isSpecCompliantForm(g))return(await new r(Ve.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(x.isArrayBufferView(g)||x.isArrayBuffer(g))return g.byteLength;if(x.isURLSearchParams(g)&&(g=g+""),x.isString(g))return(await l(g)).byteLength},f=async(g,y)=>{const p=x.toFiniteNumber(g.getContentLength());return p??h(y)};return async g=>{let{url:y,method:p,data:E,signal:v,cancelToken:w,timeout:k,onDownloadProgress:N,onUploadProgress:F,responseType:U,headers:H,withCredentials:P="same-origin",fetchOptions:X}=Gu(g),ie=t||fetch;U=U?(U+"").toLowerCase():"text";let I=k0([v,w&&w.toAbortSignal()],k),V=null;const ae=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let me;try{if(F&&c&&p!=="get"&&p!=="head"&&(me=await f(H,E))!==0){let Ce=new r(y,{method:"POST",body:E,duplex:"half"}),Ae;if(x.isFormData(E)&&(Ae=Ce.headers.get("content-type"))&&H.setContentType(Ae),Ce.body){const[xt,pt]=El(me,In(xl(F)));E=Al(Ce.body,Rl,xt,pt)}}x.isString(P)||(P=P?"include":"omit");const W=i&&"credentials"in r.prototype,Y={...X,signal:I,method:p.toUpperCase(),headers:H.normalize().toJSON(),body:E,duplex:"half",credentials:W?P:void 0};V=i&&new r(y,Y);let D=await(i?ie(V,X):ie(y,Y));const Ue=u&&(U==="stream"||U==="response");if(u&&(N||Ue&&ae)){const Ce={};["status","statusText","headers"].forEach(kt=>{Ce[kt]=D[kt]});const Ae=x.toFiniteNumber(D.headers.get("content-length")),[xt,pt]=N&&El(Ae,In(xl(N),!0))||[];D=new s(Al(D.body,Rl,xt,()=>{pt&&pt(),ae&&ae()}),Ce)}U=U||"text";let Et=await d[x.findKey(d,U)||"text"](D,g);return!Ue&&ae&&ae(),await new Promise((Ce,Ae)=>{Ku(Ce,Ae,{data:Et,headers:Qe.from(D.headers),status:D.status,statusText:D.statusText,config:g,request:V})})}catch(W){throw ae&&ae(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,g,V),{cause:W.cause||W}):re.from(W,W&&W.code,g,V)}}},P0=new Map,zu=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:n}=t,i=[s,n,r];let o=i.length,a=o,l,c,u=P0;for(;a--;)l=i[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:C0(t)),u=c;return c};zu();const Uo={http:zb,xhr:x0,fetch:{get:zu}};x.forEach(Uo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Pl=e=>`- ${e}`,I0=e=>x.isFunction(e)||e===null||e===!1;function j0(e,t){e=x.isArray(e)?e:[e];const{length:r}=e;let s,n;const i={};for(let o=0;o<r;o++){s=e[o];let a;if(n=s,!I0(s)&&(n=Uo[(a=String(s)).toLowerCase()],n===void 0))throw new re(`Unknown adapter '${a}'`);if(n&&(x.isFunction(n)||(n=n.get(t))))break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(Pl).join(`
`):" "+Pl(o[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n}const Ju={getAdapter:j0,adapters:Uo};function ji(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ys(null,e)}function Il(e){return ji(e),e.headers=Qe.from(e.headers),e.data=Ii.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ju.getAdapter(e.adapter||Js.adapter,e)(e).then(function(s){return ji(e),s.data=Ii.call(e,e.transformResponse,s),s.headers=Qe.from(s.headers),s},function(s){return Hu(s)||(ji(e),s&&s.response&&(s.response.data=Ii.call(e,e.transformResponse,s.response),s.response.headers=Qe.from(s.response.headers))),Promise.reject(s)})}const Yu="1.13.4",oi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{oi[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const jl={};oi.transitional=function(t,r,s){function n(i,o){return"[Axios v"+Yu+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(t===!1)throw new re(n(o," has been removed"+(r?" in "+r:"")),re.ERR_DEPRECATED);return r&&!jl[o]&&(jl[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,a):!0}};oi.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function N0(e,t,r){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const i=s[n],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new re("option "+i+" must be "+l,re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new re("Unknown option "+i,re.ERR_BAD_OPTION)}}const yn={assertOptions:N0,validators:oi},Ct=yn.validators;let Or=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wl,response:new wl}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Pr(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&yn.assertOptions(s,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),n!=null&&(x.isFunction(n)?r.paramsSerializer={serialize:n}:yn.assertOptions(n,{encode:Ct.function,serialize:Ct.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),yn.assertOptions(r,{baseUrl:Ct.spelling("baseURL"),withXsrfToken:Ct.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&x.merge(i.common,i[r.method]);i&&x.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Qe.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,h;if(!l){const g=[Il.bind(this),void 0];for(g.unshift(...a),g.push(...c),h=g.length,u=Promise.resolve(r);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let f=r;for(;d<h;){const g=a[d++],y=a[d++];try{f=g(f)}catch(p){y.call(this,p);break}}try{u=Il.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Pr(this.defaults,t);const r=Wu(t.baseURL,t.url,t.allowAbsoluteUrls);return Fu(r,t.params,t.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(t){Or.prototype[t]=function(r,s){return this.request(Pr(s||{},{method:t,url:r,data:(s||{}).data}))}});x.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,a){return this.request(Pr(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Or.prototype[t]=r(),Or.prototype[t+"Form"]=r(!0)});let $0=class Xu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,a){s.reason||(s.reason=new Ys(i,o,a),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Xu(function(n){t=n}),cancel:t}}};function D0(e){return function(r){return e.apply(null,r)}}function L0(e){return x.isObject(e)&&e.isAxiosError===!0}const uo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(uo).forEach(([e,t])=>{uo[t]=e});function Qu(e){const t=new Or(e),r=Cu(Or.prototype.request,t);return x.extend(r,Or.prototype,t,{allOwnKeys:!0}),x.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return Qu(Pr(e,n))},r}const Te=Qu(Js);Te.Axios=Or;Te.CanceledError=Ys;Te.CancelToken=$0;Te.isCancel=Hu;Te.VERSION=Yu;Te.toFormData=ii;Te.AxiosError=re;Te.Cancel=Te.CanceledError;Te.all=function(t){return Promise.all(t)};Te.spread=D0;Te.isAxiosError=L0;Te.mergeConfig=Pr;Te.AxiosHeaders=Qe;Te.formToJSON=e=>Vu(x.isHTMLForm(e)?new FormData(e):e);Te.getAdapter=Ju.getAdapter;Te.HttpStatusCode=uo;Te.default=Te;const{Axios:Bv,AxiosError:Mv,CanceledError:Fv,isCancel:qv,CancelToken:Vv,VERSION:Hv,all:Kv,Cancel:Wv,isAxiosError:Gv,spread:zv,toFormData:Jv,AxiosHeaders:Yv,HttpStatusCode:Xv,formToJSON:Qv,getAdapter:Zv,mergeConfig:ew}=Te,U0="https://wfosdlvxdlhpcyzevjjc.supabase.co",Nl="sb_publishable_oMqXUrfmb1J-QgBe9m8Vkw_tzmlzxc4",_r=Te.create({baseURL:`${U0}/rest/v1`,timeout:1e4,headers:{apikey:Nl,Authorization:`Bearer ${Nl}`,"Content-Type":"application/json",Prefer:"return=representation"}});_r.interceptors.request.use(async e=>{try{console.log("Axios Interceptor: Getting session...");const{data:{session:t}}=await je.auth.getSession();console.log("Axios Interceptor: Session retrieved",!!t),t?.access_token&&(e.headers.Authorization=`Bearer ${t.access_token}`)}catch(t){console.error("Error getting session for axios:",t)}return e});const Zu=(e,t)=>{const r=e.__vccOpts||e;for(const[s,n]of t)r[s]=n;return r},B0={class:"max-w-[1600px] mx-auto space-y-6"},M0={class:"flex flex-col lg:flex-row gap-6"},F0={class:"flex-1 flex flex-col gap-6 min-w-0"},q0={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},V0={class:"text-3xl font-black text-slate-800 dark:text-white"},H0={class:"flex items-center gap-1 mt-2 text-rose-500 text-xs font-medium"},K0={class:"text-3xl font-black text-slate-800 dark:text-white"},W0={class:"flex items-center gap-1 mt-2 text-emerald-600 text-xs font-medium"},G0={class:"text-3xl font-black text-slate-800 dark:text-white"},z0={class:"flex items-center gap-1 mt-2 text-blue-500 text-xs font-medium"},J0={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Y0={class:"flex-1 h-[150px] w-full relative group/chart"},X0={class:"w-full h-full overflow-visible",viewBox:"0 0 700 150",preserveAspectRatio:"none"},Q0=["d"],Z0=["d"],e_={class:"absolute -bottom-6 left-0 w-full flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-widest"},t_={class:"flex items-center justify-between mb-6"},r_={class:"text-[10px] font-black bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full uppercase tracking-tighter"},s_={class:"space-y-4"},n_={class:"flex items-center gap-4"},i_={class:"flex-1 bg-slate-100 dark:bg-gray-800 h-2 rounded-full overflow-hidden flex"},o_={class:"grid grid-cols-2 gap-4"},a_={class:"flex flex-col"},l_={class:"text-lg font-black text-emerald-600"},c_={class:"flex flex-col"},u_={class:"text-lg font-black text-amber-600"},d_={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},h_={class:"flex-1 flex items-center gap-10"},f_={class:"relative size-32 flex-shrink-0"},p_={class:"size-full -rotate-90",viewBox:"0 0 36 36"},g_=["stroke-dasharray"],m_=["stroke-dasharray","stroke-dashoffset"],y_={class:"absolute inset-0 flex items-center justify-center flex-col"},b_={class:"text-lg font-black text-slate-800 dark:text-white"},__={class:"flex flex-col gap-3 justify-center flex-1"},v_={class:"flex items-center gap-3"},w_={class:"text-slate-500 uppercase tracking-tighter"},S_={class:"text-slate-700 dark:text-slate-300 font-black"},E_={class:"bg-white dark:bg-[#141414] p-6 rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm flex flex-col"},x_={class:"flex items-center justify-between mb-6"},k_={class:"space-y-4"},A_={class:"flex items-center justify-between text-[10px] font-bold mb-1"},R_={class:"text-slate-500 uppercase"},T_={class:"w-full bg-slate-100 dark:bg-gray-800 h-1.5 rounded-full overflow-hidden opacity-30"},O_={class:"bg-white dark:bg-[#141414] rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm overflow-hidden"},C_={class:"px-6 py-4 border-b border-slate-100 dark:border-gray-800 flex items-center justify-between"},P_={class:"overflow-x-auto"},I_={class:"w-full text-left text-sm"},j_={class:"divide-y divide-slate-100 dark:divide-gray-800"},N_={class:"px-6 py-4"},$_={class:"flex flex-col"},D_={class:"font-bold text-slate-800 dark:text-white line-clamp-1"},L_={class:"text-[10px] text-slate-400 line-clamp-1"},U_={class:"px-6 py-4 text-xs font-medium text-slate-500"},B_={class:"px-6 py-4"},M_={class:"px-2 py-1 bg-slate-100 dark:bg-gray-800 text-[10px] font-bold rounded uppercase"},F_={class:"px-6 py-4"},q_={class:"px-6 py-4 text-right"},V_={key:0},H_={class:"w-full lg:w-[380px] flex flex-col gap-6"},K_={class:"bg-white dark:bg-[#141414] p-6 rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm flex-1"},W_={class:"space-y-6"},G_=["onClick"],z_={class:"relative"},J_=["src"],Y_={key:0,class:"absolute -bottom-1 -right-1 size-5 bg-rose-500 text-white rounded-full flex items-center justify-center border-2 border-white dark:border-[#141414]"},X_={class:"material-symbols-outlined text-[10px]"},Q_={class:"flex-1 min-w-0"},Z_={class:"flex items-center justify-between mb-0.5"},ev={class:"text-xs font-black text-slate-800 dark:text-white truncate"},tv={class:"text-[9px] font-bold text-slate-400 whitespace-nowrap uppercase tracking-tighter"},rv={class:"text-[11px] text-slate-500 dark:text-slate-400 mb-1 leading-tight"},sv={class:"p-2 bg-slate-50 dark:bg-gray-800/50 rounded-lg border border-slate-100 dark:border-gray-800 group-hover:border-blue-500/30 transition-all"},nv={class:"text-[10px] text-slate-600 dark:text-slate-300 italic line-clamp-2"},iv={key:0,class:"text-center py-10 text-slate-400 font-bold italic text-sm"},ov={__name:"Dashboard",setup(e){const t=No(),r=Ks(),s=Se(!0),n=Se({totalLogs:0,criticalLogs:0,currentVersion:"v0.0.0",totalCommits:0,totalRoles:0,activeModules:0,featureReview:0,featureDev:0}),i=Se([{day:"Mon",logs:0},{day:"Tue",logs:0},{day:"Wed",logs:0},{day:"Thu",logs:0},{day:"Fri",logs:0},{day:"Sat",logs:0},{day:"Sun",logs:0}]),o=Se([]),a=Se([]),l=Se({critical:0,high:0,medium:0,low:0,total:0}),c=Se([]),u=y=>{const p=y?.toLowerCase();return p==="on progres"||p==="on progress"?"bg-orange-100 text-orange-700":p==="report"||p==="to do"?"bg-slate-100 text-slate-600":p==="critikal"||p==="critical"?"bg-rose-100 text-rose-700":p==="done"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"},d=y=>{const p=y?.toLowerCase();return p==="critikal"||p==="critical"?"text-rose-600":p==="hight"||p==="high"?"text-rose-500":p==="medium"?"text-orange-500":"text-emerald-600"},h=y=>{if(!y)return"";const p=new Date(y),v=Math.floor((new Date-p)/1e3);return v<60?"Baru saja":v<3600?`${Math.floor(v/60)} menit yang lalu`:v<86400?`${Math.floor(v/3600)} jam yang lalu`:p.toLocaleDateString("id-ID")},f=y=>{y.parent_type==="LOG"?t.push({path:"/logs",query:{detailId:y.parent_id}}):y.parent_type==="FEATURE"&&t.push({path:"/features",query:{detailId:y.parent_id}})},g=async()=>{s.value=!0;try{const y=["Super Admin","Admin"].includes(r.user?.role),p=r.user?.project_id||1,E=r.user?.id;let v="/logs?select=id,priority,status,created_at,reporter_id";v+=`&project_id=eq.${p}`;const{data:w}=await _r.get(v);if(w){n.value.totalLogs=w.length,n.value.criticalLogs=w.filter(W=>["critikal","critical"].includes(W.priority?.toLowerCase())).length,o.value=w.filter(W=>W.reporter_id===E).sort((W,Y)=>new Date(Y.created_at)-new Date(W.created_at)).slice(0,5);const V=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ae={};V.forEach(W=>ae[W]=0);const me=new Date;me.setDate(me.getDate()-7),w.forEach(W=>{const Y=new Date(W.created_at);if(Y>=me){const D=V[Y.getDay()];ae[D]++}}),i.value=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(W=>({day:W,logs:ae[W]}))}let k="/feature_requests?select=id,status_lifecycle,urgensi";k+=`&project_id=eq.${p}`;const{data:N}=await _r.get(k);N&&(n.value.featureReview=N.filter(V=>V.status_lifecycle==="Sedang Ditinjau").length,n.value.featureDev=N.filter(V=>V.status_lifecycle==="Sedang Dikembangkan").length);let F="/version_logs?select=version_number,release_date&order=release_date.desc";F+=`&project_id=eq.${p}`;const{data:U}=await _r.get(F);U&&U.length>0&&(n.value.currentVersion=U[0].version_number,n.value.totalCommits=U.length);const[H,P]=await Promise.all([je.from("access_roles").select("id,role_name,role_code",{count:"exact"}).eq("project_id",p),je.from("app_components").select("id,name",{count:"exact"}).eq("project_id",p)]);if(n.value.totalRoles=H.count||0,n.value.activeModules=P.count||0,H.data){const V=["blue","emerald","slate","indigo","amber"];c.value=H.data.slice(0,5).map((ae,me)=>({name:ae.role_name,status:ae.role_code,count:"-",percentage:0,color:V[me%V.length]}))}const X=[...(w||[]).map(V=>({priority:V.priority?.toLowerCase()})),...(N||[]).map(V=>({priority:V.urgensi?.toLowerCase()}))],ie={critical:0,high:0,medium:0,low:0,total:X.length};X.forEach(V=>{["critikal","critical"].includes(V.priority)?ie.critical++:["hight","high"].includes(V.priority)?ie.high++:V.priority==="medium"?ie.medium++:ie.low++}),l.value=ie;const{data:I}=await _r.get("/discussion_forum?select=*,user:profiles(full_name,avatar_url)&order=created_at.desc&limit=50");if(I&&I.length>0){const V=[...new Set(I.filter(D=>D.parent_type==="LOG").map(D=>D.parent_id))],ae=[...new Set(I.filter(D=>D.parent_type==="FEATURE").map(D=>D.parent_id))];let me=[],W=[];if(V.length>0)try{const{data:D}=await _r.get(`/logs?id=in.(${V.join(",")})&project_id=eq.${p}&select=id`);D&&(me=D.map(Ue=>Ue.id))}catch(D){console.error("Error verifying logs project:",D)}if(ae.length>0)try{const{data:D}=await _r.get(`/feature_requests?id=in.(${ae.join(",")})&project_id=eq.${p}&select=id`);D&&(W=D.map(Ue=>Ue.id))}catch(D){console.error("Error verifying features project:",D)}const Y=I.filter(D=>D.parent_type==="LOG"?me.includes(D.parent_id):D.parent_type==="FEATURE"?W.includes(D.parent_id):!1);a.value=Y.slice(0,10).map(D=>({user:D.user?.full_name||"User",action:`mengomentari di forum ${D.parent_type}`,time:h(D.created_at),avatar:D.user?.avatar_url||`https://ui-avatars.com/api/?name=${D.user?.full_name||"User"}&background=random`,preview:D.comment_text,parent_id:D.parent_id,parent_type:D.parent_type}))}}catch(y){console.error("Error fetching dashboard data:",y)}finally{s.value=!1}};return qs(()=>{g()}),(y,p)=>{const E=Kn("router-link");return oe(),le("div",B0,[_("div",M0,[_("div",F0,[_("div",q0,[we(E,{to:"/logs",class:"bg-white dark:bg-[#141414] p-5 rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm flex items-start justify-between hover:border-rose-500/50 transition-all group"},{default:lt(()=>[_("div",null,[p[2]||(p[2]=_("p",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-1"},"Total Log & Bug",-1)),_("h3",V0,te(n.value.totalLogs),1),_("div",H0,[p[1]||(p[1]=_("span",{class:"material-symbols-outlined text-sm"},"warning",-1)),_("span",null,te(n.value.criticalLogs)+" Critical Logs",1)])]),p[3]||(p[3]=_("div",{class:"p-3 bg-rose-50 dark:bg-rose-900/20 rounded-lg text-rose-500 group-hover:scale-110 transition-transform"},[_("span",{class:"material-symbols-outlined text-2xl"},"bug_report")],-1))]),_:1}),we(E,{to:"/version-control",class:"bg-white dark:bg-[#141414] p-5 rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm flex items-start justify-between hover:border-emerald-500/50 transition-all group"},{default:lt(()=>[_("div",null,[p[5]||(p[5]=_("p",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-1"},"Total Version Control",-1)),_("h3",K0,te(n.value.currentVersion),1),_("div",W0,[p[4]||(p[4]=_("span",{class:"material-symbols-outlined text-sm"},"commit",-1)),_("span",null,te(n.value.totalCommits)+" Versions",1)])]),p[6]||(p[6]=_("div",{class:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg text-emerald-600 group-hover:scale-110 transition-transform"},[_("span",{class:"material-symbols-outlined text-2xl"},"history")],-1))]),_:1}),we(E,{to:"/access-control",class:"bg-white dark:bg-[#141414] p-5 rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm flex items-start justify-between hover:border-blue-500/50 transition-all group"},{default:lt(()=>[_("div",null,[p[8]||(p[8]=_("p",{class:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-1"},"Total Access Control",-1)),_("h3",G0,te(n.value.totalRoles)+" Roles",1),_("div",z0,[p[7]||(p[7]=_("span",{class:"material-symbols-outlined text-sm"},"view_module",-1)),_("span",null,te(n.value.activeModules)+" Real Modules",1)])]),p[9]||(p[9]=_("div",{class:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-500 group-hover:scale-110 transition-transform"},[_("span",{class:"material-symbols-outlined text-2xl"},"admin_panel_settings")],-1))]),_:1})]),_("div",J0,[we(E,{to:"/logs",class:"bg-white dark:bg-[#141414] p-6 rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm flex flex-col hover:border-rose-500/30 transition-all"},{default:lt(()=>[p[11]||(p[11]=_("div",{class:"flex items-center justify-between mb-6"},[_("h3",{class:"font-bold text-slate-800 dark:text-white flex items-center gap-2"},[_("span",{class:"material-symbols-outlined text-rose-500"},"trending_up"),It(" Tren Log Error Mingguan ")]),_("div",{class:"flex items-center gap-2"},[_("span",{class:"size-2 rounded-full bg-rose-500"}),_("span",{class:"text-[10px] font-bold text-slate-400 uppercase"},"Total Logs")])],-1)),_("div",Y0,[(oe(),le("svg",X0,[p[10]||(p[10]=_("defs",null,[_("linearGradient",{id:"logGradient",x1:"0",x2:"0",y1:"0",y2:"1"},[_("stop",{offset:"0%","stop-color":"#f43f5e","stop-opacity":"0.2"}),_("stop",{offset:"100%","stop-color":"#f43f5e","stop-opacity":"0"})])],-1)),_("path",{d:`M0,${150-i.value[0].logs*5} L100,${150-i.value[1].logs*5} L200,${150-i.value[2].logs*5} L300,${150-i.value[3].logs*5} L400,${150-i.value[4].logs*5} L500,${150-i.value[5].logs*5} L600,${150-i.value[6].logs*5} L600,150 L0,150 Z`,fill:"url(#logGradient)"},null,8,Q0),_("path",{d:`M0,${150-i.value[0].logs*5} L100,${150-i.value[1].logs*5} L200,${150-i.value[2].logs*5} L300,${150-i.value[3].logs*5} L400,${150-i.value[4].logs*5} L500,${150-i.value[5].logs*5} L600,${150-i.value[6].logs*5}`,fill:"none",stroke:"#f43f5e","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Z0)])),_("div",e_,[(oe(!0),le($e,null,vr(i.value,v=>(oe(),le("span",{key:v.day},te(v.day),1))),128))])])]),_:1}),we(E,{to:"/features",class:"bg-white dark:bg-[#141414] p-6 rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm hover:border-amber-500/50 transition-all group"},{default:lt(()=>[_("div",t_,[p[12]||(p[12]=_("h3",{class:"font-bold text-slate-800 dark:text-white flex items-center gap-2"},[_("span",{class:"material-symbols-outlined text-amber-500"},"rocket_launch"),It(" Feature Requests Summary ")],-1)),_("span",r_,te(n.value.featureReview)+" DITINJAU",1)]),_("div",s_,[_("div",n_,[_("div",i_,[_("div",{class:"bg-emerald-500 h-full",style:Yr({width:n.value.featureDev/(n.value.featureReview+n.value.featureDev||1)*100+"%"})},null,4),_("div",{class:"bg-amber-500 h-full",style:Yr({width:n.value.featureReview/(n.value.featureReview+n.value.featureDev||1)*100+"%"})},null,4)])]),_("div",o_,[_("div",a_,[p[13]||(p[13]=_("span",{class:"text-[10px] font-bold text-slate-400 uppercase"},"Dikembangkan",-1)),_("span",l_,te(n.value.featureDev),1)]),_("div",c_,[p[14]||(p[14]=_("span",{class:"text-[10px] font-bold text-slate-400 uppercase"},"Ditinjau",-1)),_("span",u_,te(n.value.featureReview),1)])])])]),_:1})]),_("div",d_,[we(E,{to:"/logs",class:"bg-white dark:bg-[#141414] p-6 rounded-xl border border-slate-200 dark:border-gray-800 shadow-sm flex flex-col hover:border-rose-500/30 transition-all"},{default:lt(()=>[p[17]||(p[17]=_("h3",{class:"font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-6"},[_("span",{class:"material-symbols-outlined text-rose-500"},"pie_chart"),It(" Severitas Total (Log, Bug, Feature) ")],-1)),_("div",h_,[_("div",f_,[(oe(),le("svg",p_,[p[15]||(p[15]=_("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor","stroke-width":"4",class:"text-slate-100 dark:text-gray-800"},null,-1)),_("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"#f43f5e","stroke-width":"4","stroke-dasharray":`${l.value.critical/(l.value.total||1)*100}, 100`,"stroke-dashoffset":"0"},null,8,g_),_("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"#fb923c","stroke-width":"4","stroke-dasharray":`${l.value.high/(l.value.total||1)*100}, 100`,"stroke-dashoffset":`-${l.value.critical/(l.value.total||1)*100}`},null,8,m_)])),_("div",y_,[_("span",b_,te(l.value.total),1),p[16]||(p[16]=_("span",{class:"text-[8px] font-bold text-slate-400 uppercase"},"Items",-1))])]),_("div",__,[(oe(!0),le($e,null,vr([{label:"Critical",color:"bg-rose-500",count:l.value.critical},{label:"High",color:"bg-orange-400",count:l.value.high},{label:"Medium",color:"bg-amber-400",count:l.value.medium},{label:"Low",color:"bg-emerald-500",count:l.value.low}],v=>(oe(),le("div",{key:v.label,class:"flex items-center justify-between text-xs font-bold"},[_("div",v_,[_("span",{class:ct([v.color,"size-2.5 rounded-full"])},null,2),_("span",w_,te(v.label),1)]),_("span",S_,te(v.count),1)]))),128))])])]),_:1}),_("div",E_,[_("div",x_,[p[19]||(p[19]=_("h3",{class:"font-bold text-slate-800 dark:text-white flex items-center gap-2"},[_("span",{class:"material-symbols-outlined text-blue-500"},"security"),It(" Team Access Control Summary ")],-1)),we(E,{to:"/access-control",class:"text-[10px] font-black bg-blue-100 text-blue-700 px-3 py-1 rounded-lg hover:bg-blue-200 transition-colors"},{default:lt(()=>[...p[18]||(p[18]=[It("ADD NEW ROLE",-1)])]),_:1})]),_("div",k_,[(oe(!0),le($e,null,vr(c.value,v=>(oe(),le("div",{key:v.name},[_("div",A_,[_("span",R_,te(v.name),1),p[20]||(p[20]=_("span",{class:"text-slate-700 dark:text-slate-300"},null,-1))]),_("div",T_,[_("div",{class:ct([`bg-${v.color}-500`,"h-full rounded-full transition-all"]),style:{width:"100%"}},null,2)])]))),128))])])]),_("div",O_,[_("div",C_,[p[22]||(p[22]=_("h3",{class:"font-bold text-slate-800 dark:text-white flex items-center gap-2"},[_("span",{class:"material-symbols-outlined text-emerald-600"},"person_search"),It(" Daftar Log Saya (Terbaru) ")],-1)),we(E,{to:"/logs",class:"text-xs font-bold text-emerald-600 hover:text-emerald-700 hover:underline"},{default:lt(()=>[...p[21]||(p[21]=[It("Lihat Semua",-1)])]),_:1})]),_("div",P_,[_("table",I_,[p[24]||(p[24]=_("thead",{class:"bg-slate-50 dark:bg-[#1a1a1a]/50 text-slate-500 dark:text-slate-400 text-xs uppercase font-bold"},[_("tr",null,[_("th",{class:"px-6 py-3"},"Issue / Log"),_("th",{class:"px-6 py-3"},"Tanggal"),_("th",{class:"px-6 py-3"},"Modul"),_("th",{class:"px-6 py-3"},"Status"),_("th",{class:"px-6 py-3 text-right"},"Severity")])],-1)),_("tbody",j_,[(oe(!0),le($e,null,vr(o.value,v=>(oe(),le("tr",{key:v.id,class:"hover:bg-slate-50 dark:hover:bg-[#1a1a1a]/50 transition-colors cursor-pointer",onClick:p[0]||(p[0]=w=>y.$router.push("/logs"))},[_("td",N_,[_("div",$_,[_("span",D_,"#LOG-"+te(v.no_lap||v.id),1),_("span",L_,te(v.actual_behavior||"No description"),1)])]),_("td",U_,te(new Date(v.created_at).toLocaleDateString("id-ID")),1),_("td",B_,[_("span",M_,te(v.module||"General"),1)]),_("td",F_,[_("span",{class:ct([u(v.status),"px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-tighter"])},te(v.status),3)]),_("td",q_,[_("span",{class:ct([d(v.priority),"text-xs font-black uppercase italic"])},te(v.priority),3)])]))),128)),o.value.length===0?(oe(),le("tr",V_,[...p[23]||(p[23]=[_("td",{colspan:"5",class:"px-6 py-10 text-center text-slate-400 font-bold italic"},"Belum ada log yang Anda laporkan",-1)])])):Me("",!0)])])])])]),_("div",H_,[_("div",K_,[p[25]||(p[25]=_("h3",{class:"font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-6"},[_("span",{class:"material-symbols-outlined text-blue-500"},"forum"),It(" Aktivitas Diskusi Terkini ")],-1)),_("div",W_,[(oe(!0),le($e,null,vr(a.value,(v,w)=>(oe(),le("div",{key:w,class:"flex gap-4 group cursor-pointer",onClick:k=>f(v)},[_("div",z_,[_("img",{src:v.avatar,class:"size-10 rounded-full border-2 border-white dark:border-gray-800 shadow-sm"},null,8,J_),v.icon?(oe(),le("div",Y_,[_("span",X_,te(v.icon),1)])):Me("",!0)]),_("div",Q_,[_("div",Z_,[_("p",ev,te(v.user),1),_("span",tv,te(v.time),1)]),_("p",rv,te(v.action),1),_("div",sv,[_("p",nv,'"'+te(v.preview)+'"',1)])])],8,G_))),128)),a.value.length===0?(oe(),le("div",iv,"Belum ada aktivitas diskusi")):Me("",!0)])])])])])}}},av=Zu(ov,[["__scopeId","data-v-a7641d70"]]),lv={class:"bg-slate-50 dark:bg-[#0a0a0a] font-display text-gray-900 dark:text-white min-h-screen transition-colors duration-300"},cv={class:"absolute top-6 right-6 z-50"},uv={class:"material-symbols-outlined"},dv={class:"flex min-h-screen"},hv={class:"flex-1 flex flex-col justify-center items-center p-6 sm:p-12 md:p-20"},fv={class:"w-full max-w-[440px]"},pv={class:"mb-10 text-center lg:text-left"},gv={class:"text-3xl font-extrabold text-gray-900 dark:text-white mb-2"},mv={class:"text-gray-600 dark:text-gray-400"},yv={class:"bg-white dark:bg-[#141414] p-8 rounded-lg shadow-sm border border-gray-100 dark:border-gray-800"},bv={key:0,class:"mb-6 p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 flex items-start gap-3 animate-shake"},_v={class:"text-sm font-medium text-red-600 dark:text-red-400 leading-snug"},vv={key:0},wv={class:"relative"},Sv={class:"relative"},Ev={class:"relative"},xv=["type"],kv={class:"material-symbols-outlined text-xl"},Av=["disabled"],Rv={key:0},Tv={key:1},Ov={class:"text-center mt-6"},Cv={class:"text-sm text-gray-600 dark:text-gray-400"},Pv={__name:"Login",setup(e){const t=No(),r=Ks(),s=Se(""),n=Se(""),i=Se(!1),o=Se(""),a=Se(!1),l=Se(document.documentElement.classList.contains("dark")),c=()=>{l.value=!l.value,document.documentElement.classList.toggle("dark"),localStorage.setItem("darkMode",l.value)},u=()=>{a.value=!a.value},d=Se(!1),h=Se(""),f=()=>{d.value=!d.value,o.value=""},g=async()=>{i.value=!0,o.value="";try{const y=s.value.trim(),p=n.value.trim();d.value?(await r.signUp(y,p,{full_name:h.value}),o.value="Registrasi berhasil! Silakan cek email untuk verifikasi (jika perlu) atau login.",d.value=!1):(console.log("Attempting login for:",y),await r.signIn(y,p),t.push("/"))}catch(y){console.error("Login error:",y),o.value=y.message||"Gagal Login. Silakan coba lagi.",y.message.includes("Invalid login credentials")&&(o.value="Email atau password salah. Pastikan tidak ada spasi tambahan.")}finally{i.value=!1}};return(y,p)=>(oe(),le("div",lv,[_("div",cv,[_("button",{onClick:c,class:"p-2.5 rounded-full bg-white dark:bg-[#141414] shadow-sm border border-gray-200 dark:border-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors"},[_("span",uv,te(l.value?"light_mode":"dark_mode"),1)])]),_("div",dv,[p[13]||(p[13]=ia('<div class="hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-[#003d38] to-[#001D1A] overflow-hidden items-center justify-center" data-v-45f9dfc6><div class="absolute inset-0 overflow-hidden opacity-30 pointer-events-none" data-v-45f9dfc6><div class="absolute -top-[10%] -left-[10%] w-[50%] h-[50%] rounded-full bg-emerald-400 blur-[120px]" data-v-45f9dfc6></div><div class="absolute -bottom-[10%] -right-[10%] w-[40%] h-[40%] rounded-full bg-emerald-600 blur-[100px]" data-v-45f9dfc6></div></div><div class="relative z-10 px-12 text-center max-w-lg" data-v-45f9dfc6><div class="mb-10 flex justify-center" data-v-45f9dfc6><div class="bg-center bg-no-repeat aspect-square bg-contain rounded-lg size-24 bg-[#121417] p-4 shadow-2xl border border-white/10" style="background-image:url(&#39;https://raw.githubusercontent.com/thealfin/Monitoring-Log-Error-Bug-Digital-Teknologi-Perkasa/main/media/digitek%20putih.webp&#39;);" data-v-45f9dfc6></div></div><h1 class="text-4xl font-extrabold text-white mb-6 leading-tight tracking-tight" data-v-45f9dfc6>Monitoring<br data-v-45f9dfc6>Log Error &amp; Bug</h1><p class="text-xl text-emerald-50 font-light leading-relaxed" data-v-45f9dfc6> By PT. Digital Teknologi Perkasa<br data-v-45f9dfc6>Manage and Track Your Systems Effectively </p><div class="mt-12 flex items-center justify-center gap-4 text-emerald-200/60" data-v-45f9dfc6><span class="material-symbols-outlined" data-v-45f9dfc6>security</span><span class="text-sm font-medium tracking-widest uppercase" data-v-45f9dfc6>High Performance Bug Tracking</span></div></div></div>',1)),_("div",hv,[_("div",fv,[p[11]||(p[11]=_("div",{class:"lg:hidden flex flex-col items-center mb-8"},[_("div",{class:"bg-center bg-no-repeat aspect-square bg-contain rounded-lg size-14 mb-4 bg-[#121417] p-2 border border-gray-100 dark:border-gray-800 shadow-md",style:{"background-image":"url('https://raw.githubusercontent.com/thealfin/Monitoring-Log-Error-Bug-Digital-Teknologi-Perkasa/main/media/digitek%20putih.webp')"}}),_("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Digital Teknologi Perkasa"),_("p",{class:"text-emerald-700 dark:text-emerald-400 text-sm font-medium"},"Log Monitoring")],-1)),_("div",pv,[_("h2",gv,te(d.value?"Create Account":"Welcome"),1),_("p",mv,te(d.value?"Sign up to get started.":"Please enter your details to sign in."),1)]),_("div",yv,[o.value?(oe(),le("div",bv,[p[3]||(p[3]=_("span",{class:"material-symbols-outlined text-red-500 text-xl mt-0.5"},"error",-1)),_("p",_v,te(o.value),1)])):Me("",!0),_("form",{onSubmit:If(g,["prevent"]),class:"space-y-6"},[d.value?(oe(),le("div",vv,[p[5]||(p[5]=_("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",for:"fullname"},"Full Name",-1)),_("div",wv,[p[4]||(p[4]=_("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[_("span",{class:"material-symbols-outlined text-gray-400 dark:text-gray-500 text-lg"},"person")],-1)),hi(_("input",{"onUpdate:modelValue":p[0]||(p[0]=E=>h.value=E),class:"w-full bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-gray-800 rounded-lg px-4 py-3.5 pl-11 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-600 transition-all",id:"fullname",placeholder:"John Doe",type:"text",required:""},null,512),[[Tn,h.value]])])])):Me("",!0),_("div",null,[p[7]||(p[7]=_("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",for:"email"},"Email Address",-1)),_("div",Sv,[p[6]||(p[6]=_("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[_("span",{class:"material-symbols-outlined text-gray-400 dark:text-gray-500 text-lg"},"alternate_email")],-1)),hi(_("input",{"onUpdate:modelValue":p[1]||(p[1]=E=>s.value=E),class:"w-full bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-gray-800 rounded-lg px-4 py-3.5 pl-11 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-600 transition-all",id:"email",placeholder:"Masukan Email Anda",type:"email",required:""},null,512),[[Tn,s.value]])])]),_("div",null,[p[9]||(p[9]=_("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",for:"password"},"Password",-1)),_("div",Ev,[p[8]||(p[8]=_("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[_("span",{class:"material-symbols-outlined text-gray-400 dark:text-gray-500 text-lg"},"lock")],-1)),hi(_("input",{"onUpdate:modelValue":p[2]||(p[2]=E=>n.value=E),type:a.value?"text":"password",class:"w-full bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-gray-800 rounded-lg px-4 py-3.5 pl-11 pr-11 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-600 transition-all",id:"password",placeholder:"",required:""},null,8,xv),[[Tf,n.value]]),_("button",{type:"button",onClick:u,class:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-emerald-500 transition-colors"},[_("span",kv,te(a.value?"visibility_off":"visibility"),1)])])]),p[10]||(p[10]=ia('<div class="flex items-center justify-between py-1" data-v-45f9dfc6><div class="flex items-center" data-v-45f9dfc6><input class="h-4 w-4 rounded border-gray-300 bg-white dark:bg-[#1a1a1a] text-emerald-600 focus:ring-emerald-500/20 focus:ring-offset-0" id="remember-me" name="remember-me" type="checkbox" data-v-45f9dfc6><label class="ml-2 block text-sm text-gray-600 dark:text-gray-400" for="remember-me" data-v-45f9dfc6>Remember me</label></div><a class="text-sm font-semibold text-emerald-700 dark:text-emerald-400 hover:text-emerald-600 transition-colors" href="#" data-v-45f9dfc6>Forgot password?</a></div>',1)),_("button",{disabled:i.value,class:"w-full bg-[#032A28] hover:bg-[#021A18] active:bg-[#01100F] dark:bg-emerald-500 dark:hover:bg-emerald-600 dark:active:bg-emerald-700 text-white font-bold py-4 rounded-lg shadow-lg shadow-emerald-900/10 transition-all flex items-center justify-center gap-2 group disabled:opacity-70",type:"submit"},[i.value?(oe(),le("span",Rv,"Processing...")):(oe(),le("span",Tv,te(d.value?"Sign Up":"Log In"),1))],8,Av),_("div",Ov,[_("p",Cv,[It(te(d.value?"Already have an account?":"Don't have an account?")+" ",1),_("button",{type:"button",onClick:f,class:"font-medium text-emerald-600 hover:text-emerald-500 transition-colors ml-1"},te(d.value?"Sign In":"Sign Up"),1)])])],32)]),p[12]||(p[12]=_("div",{class:"mt-10 text-center"},[_("p",{class:"text-sm text-gray-500 dark:text-gray-500"},"  2026 Digital Teknologi Perkasa. All rights reserved. ")],-1))])])])]))}},Iv=Zu(Pv,[["__scopeId","data-v-45f9dfc6"]]),ed=Ty({history:oy("/Monitoring-Digital-Teknologi-Perkasa/"),routes:[{path:"/login",name:"login",component:Iv,meta:{guest:!0}},{path:"/",component:lb,meta:{requiresAuth:!0},children:[{path:"",name:"dashboard",component:av,meta:{title:"Dashboard Overview",subtitle:"Overview sistem dan status pembaruan"}},{path:"logs",name:"logs",component:()=>mr(()=>import("./Logs-DSHyEYkE.js"),[]),meta:{title:"Manajemen Semua Log",subtitle:"Monitoring dan tracking error sistem"}},{path:"version-control",name:"version-control",component:()=>mr(()=>import("./VersionControl-vjb28asx.js"),[]),meta:{title:"Version Control",subtitle:"Riwayat pembaruan dan rilis sistem"}},{path:"access-control",name:"access-control",component:()=>mr(()=>import("./AccessControl-D10mnkcB.js"),__vite__mapDeps([0,1])),meta:{title:"Access Control",subtitle:"Manajemen hak akses dan role pengguna"}},{path:"reports",name:"reports",component:()=>mr(()=>import("./Reports-B2NFgNSO.js"),__vite__mapDeps([2,3])),meta:{title:"Laporan & Statistik",subtitle:"Analisis data dan performa sistem"}},{path:"features",name:"features",component:()=>mr(()=>import("./FeatureManagement-CEULF1ik.js"),__vite__mapDeps([4,5])),meta:{title:"Manajemen Fitur",subtitle:"Perencanaan dan penambahan fitur baru"}},{path:"settings",name:"settings",component:()=>mr(()=>import("./Settings-BFlzChgv.js"),[]),meta:{title:"Pengaturan",subtitle:"Konfigurasi sistem dan preferensi"}},{path:"team",name:"team",component:()=>mr(()=>import("./TeamManagement-2zXG526S.js"),[]),meta:{title:"Manajemen Akses Tim",subtitle:"Manage roles and permissions for the development team",roles:["Super Admin","Editor"]}}]}]});ed.beforeEach(async(e,t,r)=>{const s=Ks();s.loading&&await s.initialize();const n=!!s.user;if(e.meta.requiresAuth&&!n)return r("/login");if(e.meta.guest&&n)return r("/");if(e.meta.roles&&n){const{data:i}=await je.from("profiles").select("role").eq("id",s.user.id).single(),o=i?.role||"Viewer";if(!e.meta.roles.includes(o))return r("/")}r()});const Bo=Df(vm);Bo.use(Bf());Bo.use(ed);Bo.mount("#app");export{ia as A,Ou as B,Ye as C,je as D,oe as E,$e as F,kf as G,Yr as H,Nv as I,Tf as J,lt as K,Af as L,$v as M,jv as T,Zu as _,xo as a,_r as b,le as c,Sc as d,_ as e,Me as f,hi as g,Oo as h,Mn as i,Tn as j,ct as k,te as l,Rf as m,qn as n,qs as o,vr as p,It as q,Se as r,jd as s,de as t,Ks as u,Qh as v,ms as w,we as x,ut as y,If as z};
